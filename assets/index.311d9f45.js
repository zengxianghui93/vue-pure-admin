var DO=Object.defineProperty,NO=Object.defineProperties;var CO=Object.getOwnPropertyDescriptors;var Gy=Object.getOwnPropertySymbols;var RO=Object.prototype.hasOwnProperty,IO=Object.prototype.propertyIsEnumerable;var Vy=(b,h,c)=>h in b?DO(b,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[h]=c,Uy=(b,h)=>{for(var c in h||(h={}))RO.call(h,c)&&Vy(b,c,h[c]);if(Gy)for(var c of Gy(h))IO.call(h,c)&&Vy(b,c,h[c]);return b},Yy=(b,h)=>NO(b,CO(h));import{aW as _v,_ as os,y as Ua,W as Wy,L as ro,$ as Ov,C as Rt,I as Ei,o as tr,p as oo,q as mr,F as wv,A as xv,a8 as $y,T as Ev,H as Ao,S as Mo,B as Ky,a0 as jv,V as Sv,G as LO,an as zO,D as Qc,J as Pv,a5 as BO,a6 as FO}from"./index.12b88443.js";import{u as HO}from"./hooks.6c225d1f.js";import{r as XO}from"./vue.runtime.esm-bundler.b8a7c386.js";const GO=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var VO={flowElementList:GO};var Ke={exports:{}};(function(b,h){(function(c,p){b.exports=p()})(window,function(){return function(c){var p={};function i(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=c,i.c=p,i.d=function(f,s,v){i.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:v})},i.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},i.t=function(f,s){if(1&s&&(f=i(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var v=Object.create(null);if(i.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var _ in f)i.d(v,_,function(O){return f[O]}.bind(null,_));return v},i.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return i.d(s,"a",s),s},i.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},i.p="",i(i.s=215)}([function(c,p,i){(function(f,s){i.d(p,"a",function(){return T}),i.d(p,"b",function(){return Uo}),i.d(p,"c",function(){return Sn}),i.d(p,"d",function(){return rt}),i.d(p,"e",function(){return Ve}),i.d(p,"f",function(){return Ne}),i.d(p,"g",function(){return Ze}),i.d(p,"h",function(){return Fr}),i.d(p,"i",function(){return It}),i.d(p,"j",function(){return Ye}),i.d(p,"k",function(){return Fn}),i.d(p,"l",function(){return Bo}),i.d(p,"m",function(){return kt}),i.d(p,"n",function(){return xr}),i.d(p,"o",function(){return R}),i.d(p,"p",function(){return Vi}),i.d(p,"q",function(){return Hn}),i.d(p,"r",function(){return Hi}),i.d(p,"s",function(){return wn}),i.d(p,"t",function(){return Cr}),i.d(p,"u",function(){return so}),i.d(p,"v",function(){return nu}),i.d(p,"w",function(){return Gi}),i.d(p,"x",function(){return Ir}),i.d(p,"y",function(){return ln}),i.d(p,"z",function(){return tn}),i.d(p,"A",function(){return yn}),i.d(p,"B",function(){return Xn}),i.d(p,"C",function(){return qe}),i.d(p,"D",function(){return ru}),i.d(p,"E",function(){return wr}),i.d(p,"F",function(){return Or}),i.d(p,"G",function(){return Qa}),i.d(p,"H",function(){return Ni}),i.d(p,"I",function(){return Yi}),i.d(p,"J",function(){return mn}),i.d(p,"K",function(){return re}),i.d(p,"L",function(){return Gt}),i.d(p,"M",function(){return _n});var v=[];Object.freeze(v);var _={};function O(){return++Be.mobxGuid}function w(y){throw j(!1,y),"X"}function j(y,g){if(!y)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(_);function S(y){var g=!1;return function(){if(!g)return g=!0,y.apply(this,arguments)}}var k=function(){};function N(y){return y!==null&&typeof y=="object"}function I(y){if(y===null||typeof y!="object")return!1;var g=Object.getPrototypeOf(y);return g===Object.prototype||g===null}function X(y,g,E){Object.defineProperty(y,g,{enumerable:!1,writable:!0,configurable:!0,value:E})}function V(y,g){var E="isMobX"+y;return g.prototype[E]=!0,function(M){return N(M)&&M[E]===!0}}function F(y){return y instanceof Map}function K(y){return y instanceof Set}function J(y){var g=new Set;for(var E in y)g.add(E);return Object.getOwnPropertySymbols(y).forEach(function(M){Object.getOwnPropertyDescriptor(y,M).enumerable&&g.add(M)}),Array.from(g)}function Y(y){return y&&y.toString?y.toString():new String(y).toString()}function C(y){return y===null?null:typeof y=="object"?""+y:y}var H=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,T=Symbol("mobx administration"),z=function(){function y(g){g===void 0&&(g="Atom@"+O()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ee.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},y.prototype.reportObserved=function(){return Bn(this)},y.prototype.reportChanged=function(){dn(),function(g){g.lowestObserverState!==ee.STALE&&(g.lowestObserverState=ee.STALE,g.observers.forEach(function(E){E.dependenciesState===ee.UP_TO_DATE&&(E.isTracing!==Fe.NONE&&_r(E,g),E.onBecomeStale()),E.dependenciesState=ee.STALE}))}(this),hn()},y.prototype.toString=function(){return this.name},y}(),G=V("Atom",z);function R(y,g,E){g===void 0&&(g=k),E===void 0&&(E=k);var M,D=new z(y);return g!==k&&Ii("onBecomeObserved",D,g,M),E!==k&&wr(D,E),D}var L={identity:function(y,g){return y===g},structural:function(y,g){return $o(y,g)},default:function(y,g){return Object.is(y,g)},shallow:function(y,g){return $o(y,g,1)}},$=function(y,g){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,M){E.__proto__=M}||function(E,M){for(var D in M)M.hasOwnProperty(D)&&(E[D]=M[D])})(y,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ie=function(){return(ie=Object.assign||function(y){for(var g,E=1,M=arguments.length;E<M;E++)for(var D in g=arguments[E])Object.prototype.hasOwnProperty.call(g,D)&&(y[D]=g[D]);return y}).apply(this,arguments)};function fe(y){var g=typeof Symbol=="function"&&y[Symbol.iterator],E=0;return g?g.call(y):{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}}}function ve(y,g){var E=typeof Symbol=="function"&&y[Symbol.iterator];if(!E)return y;var M,D,W=E.call(y),ae=[];try{for(;(g===void 0||g-- >0)&&!(M=W.next()).done;)ae.push(M.value)}catch(xe){D={error:xe}}finally{try{M&&!M.done&&(E=W.return)&&E.call(W)}finally{if(D)throw D.error}}return ae}function ye(){for(var y=[],g=0;g<arguments.length;g++)y=y.concat(ve(arguments[g]));return y}var pe=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),le={},de={};function Ee(y,g){var E=g?le:de;return E[y]||(E[y]={configurable:!0,enumerable:g,get:function(){return Ae(this),this[y]},set:function(M){Ae(this),this[y]=M}})}function Ae(y){var g,E;if(y[pe]!==!0){var M=y[se];if(M){X(y,pe,!0);var D=ye(Object.getOwnPropertySymbols(M),Object.keys(M));try{for(var W=fe(D),ae=W.next();!ae.done;ae=W.next()){var xe=M[ae.value];xe.propertyCreator(y,xe.prop,xe.descriptor,xe.decoratorTarget,xe.decoratorArguments)}}catch(Le){g={error:Le}}finally{try{ae&&!ae.done&&(E=W.return)&&E.call(W)}finally{if(g)throw g.error}}}}}function Me(y,g){return function(){var E,M=function(D,W,ae,xe){if(xe===!0)return g(D,W,ae,D,E),null;if(!Object.prototype.hasOwnProperty.call(D,se)){var Le=D[se];X(D,se,ie({},Le))}return D[se][W]={prop:W,propertyCreator:g,descriptor:ae,decoratorTarget:D,decoratorArguments:E},Ee(W,y)};return Pe(arguments)?(E=v,M.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),M)}}function Pe(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function Ce(y,g,E){return Ir(y)?y:Array.isArray(y)?qe.array(y,{name:E}):I(y)?qe.object(y,void 0,{name:E}):F(y)?qe.map(y,{name:E}):K(y)?qe.set(y,{name:E}):y}function et(y){return y}function Q(y){j(y);var g=Me(!0,function(M,D,W,ae,xe){var Le=W?W.initializer?W.initializer.call(M):W.value:void 0;Yo(M).addObservableProp(D,Le,y)}),E=(f!==void 0&&f.env,g);return E.enhancer=y,E}var Z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function oe(y){return y==null?Z:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(Z);var me=Q(Ce),De=Q(function(y,g,E){return y==null||yn(y)||ln(y)||tn(y)||$t(y)?y:Array.isArray(y)?qe.array(y,{name:E,deep:!1}):I(y)?qe.object(y,void 0,{name:E,deep:!1}):F(y)?qe.map(y,{name:E,deep:!1}):K(y)?qe.set(y,{name:E,deep:!1}):w(!1)}),we=Q(et),We=Q(function(y,g,E){return $o(y,g)?g:y});function Ue(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?et:Ce}var tt={box:function(y,g){arguments.length>2&&_e("box");var E=oe(g);return new Qt(y,Ue(E),E.name,!0,E.equals)},array:function(y,g){arguments.length>2&&_e("array");var E=oe(g);return $i(y,Ue(E),E.name)},map:function(y,g){arguments.length>2&&_e("map");var E=oe(g);return new Uo(y,Ue(E),E.name)},set:function(y,g){arguments.length>2&&_e("set");var E=oe(g);return new ur(y,Ue(E),E.name)},object:function(y,g,E){typeof arguments[1]=="string"&&_e("object");var M=oe(E);if(M.proxy===!1)return Hn({},y,g,M);var D=Li(M),W=Hn({},void 0,void 0,M),ae=zr(W);return zi(ae,y,g,D),ae},ref:we,shallow:De,deep:me,struct:We},qe=function(y,g,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return me.apply(null,arguments);if(Ir(y))return y;var M=I(y)?qe.object(y,g,E):Array.isArray(y)?qe.array(y,g):F(y)?qe.map(y,g):K(y)?qe.set(y,g):y;if(M!==y)return M;w(!1)};function _e(y){w("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(tt).forEach(function(y){return qe[y]=tt[y]});var ee,Fe,Xe=Me(!1,function(y,g,E,M,D){var W=E.get,ae=E.set,xe=D[0]||{};Yo(y).addComputedProp(y,g,ie({get:W,set:ae,context:y},xe))}),$e=Xe({equals:L.structural}),kt=function(y,g,E){if(typeof g=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return Xe.apply(null,arguments);var M=typeof g=="object"?g:{};return M.get=y,M.set=typeof g=="function"?g:M.set,M.name=M.name||y.name||"",new zn(M)};kt.struct=$e,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(ee||(ee={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(Fe||(Fe={}));var ut=function(y){this.cause=y};function lt(y){return y instanceof ut}function yt(y){switch(y.dependenciesState){case ee.UP_TO_DATE:return!1;case ee.NOT_TRACKING:case ee.STALE:return!0;case ee.POSSIBLY_STALE:for(var g=Ne(!0),E=Se(),M=y.observing,D=M.length,W=0;W<D;W++){var ae=M[W];if(or(ae)){if(Be.disableErrorBoundaries)ae.get();else try{ae.get()}catch{return ke(E),Ve(g),!0}if(y.dependenciesState===ee.STALE)return ke(E),Ve(g),!0}}return gt(y),ke(E),Ve(g),!1}}function It(){return Be.trackingDerivation!==null}function U(y){var g=y.observers.size>0;Be.computationDepth>0&&g&&w(!1),Be.allowStateChanges||!g&&Be.enforceActions!=="strict"||w(!1)}function ne(y,g,E){var M=Ne(!0);gt(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++Be.runId;var D,W=Be.trackingDerivation;if(Be.trackingDerivation=y,Be.disableErrorBoundaries===!0)D=g.call(E);else try{D=g.call(E)}catch(ae){D=new ut(ae)}return Be.trackingDerivation=W,function(ae){for(var xe=ae.observing,Le=ae.observing=ae.newObserving,at=ee.UP_TO_DATE,ot=0,Et=ae.unboundDepsCount,bt=0;bt<Et;bt++)(vt=Le[bt]).diffValue===0&&(vt.diffValue=1,ot!==bt&&(Le[ot]=vt),ot++),vt.dependenciesState>at&&(at=vt.dependenciesState);for(Le.length=ot,ae.newObserving=null,Et=xe.length;Et--;)(vt=xe[Et]).diffValue===0&&Ai(vt,ae),vt.diffValue=0;for(;ot--;){var vt;(vt=Le[ot]).diffValue===1&&(vt.diffValue=0,Ka(vt,ae))}at!==ee.UP_TO_DATE&&(ae.dependenciesState=at,ae.onBecomeStale())}(y),Ve(M),D}function be(y){var g=y.observing;y.observing=[];for(var E=g.length;E--;)Ai(g[E],y);y.dependenciesState=ee.NOT_TRACKING}function re(y){var g=Se();try{return y()}finally{ke(g)}}function Se(){var y=Be.trackingDerivation;return Be.trackingDerivation=null,y}function ke(y){Be.trackingDerivation=y}function Ne(y){var g=Be.allowStateReads;return Be.allowStateReads=y,g}function Ve(y){Be.allowStateReads=y}function gt(y){if(y.dependenciesState!==ee.UP_TO_DATE){y.dependenciesState=ee.UP_TO_DATE;for(var g=y.observing,E=g.length;E--;)g[E].lowestObserverState=ee.UP_TO_DATE}}var wt=0,Wt=1,Jt=Object.getOwnPropertyDescriptor(function(){},"name");Jt&&Jt.configurable;function ct(y,g,E){var M=function(){return Ie(y,g,E||this,arguments)};return M.isMobxAction=!0,M}function Ie(y,g,E,M){var D=Ye();try{return g.apply(E,M)}catch(W){throw D.error=W,W}finally{Ze(D)}}function Ye(y,g,E){var M=0,D=Se();dn();var W={prevDerivation:D,prevAllowStateChanges:xt(!0),prevAllowStateReads:Ne(!0),notifySpy:!1,startTime:M,actionId:Wt++,parentActionId:wt};return wt=W.actionId,W}function Ze(y){wt!==y.actionId&&w("invalid action stack. did you forget to finish an action?"),wt=y.parentActionId,y.error!==void 0&&(Be.suppressReactionErrors=!0),Mt(y.prevAllowStateChanges),Ve(y.prevAllowStateReads),hn(),ke(y.prevDerivation),y.notifySpy,Be.suppressReactionErrors=!1}function rt(y,g){var E,M=xt(y);try{E=g()}finally{Mt(M)}return E}function xt(y){var g=Be.allowStateChanges;return Be.allowStateChanges=y,g}function Mt(y){Be.allowStateChanges=y}var Qt=function(y){function g(E,M,D,W,ae){D===void 0&&(D="ObservableValue@"+O()),ae===void 0&&(ae=L.default);var xe=y.call(this,D)||this;return xe.enhancer=M,xe.name=D,xe.equals=ae,xe.hasUnreportedChange=!1,xe.value=M(E,void 0,D),xe}return function(E,M){function D(){this.constructor=E}$(E,M),E.prototype=M===null?Object.create(M):(D.prototype=M.prototype,new D)}(g,y),g.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},g.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Be.UNCHANGED&&this.setNewValue(E)},g.prototype.prepareNewValue=function(E){if(U(this),On(this)){var M=sn(this,{object:this,type:"update",newValue:E});if(!M)return Be.UNCHANGED;E=M.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Be.UNCHANGED:E},g.prototype.setNewValue=function(E){var M=this.value;this.value=E,this.reportChanged(),ft(this)&&en(this,{type:"update",object:this,newValue:E,oldValue:M})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(E){return Gn(this,E)},g.prototype.observe=function(E,M){return M&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Br(this,E)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return C(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(z),Io=V("ObservableValue",Qt),zn=function(){function y(g){this.dependenciesState=ee.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ee.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+O(),this.value=new ut(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Fe.NONE,j(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+O(),g.set&&(this.setter=ct(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?L.structural:L.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return y.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===ee.UP_TO_DATE&&(g.lowestObserverState=ee.POSSIBLY_STALE,g.observers.forEach(function(E){E.dependenciesState===ee.UP_TO_DATE&&(E.dependenciesState=ee.POSSIBLY_STALE,E.isTracing!==Fe.NONE&&_r(E,g),E.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},y.prototype.get=function(){this.isComputing&&w("Cycle detected in computation "+this.name+": "+this.derivation),Be.inBatch!==0||this.observers.size!==0||this.keepAlive?(Bn(this),yt(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==ee.STALE&&(E.lowestObserverState=ee.STALE,E.observers.forEach(function(M){M.dependenciesState===ee.POSSIBLY_STALE?M.dependenciesState=ee.STALE:M.dependenciesState===ee.UP_TO_DATE&&(E.lowestObserverState=ee.UP_TO_DATE)}))}(this)):yt(this)&&(this.warnAboutUntrackedRead(),dn(),this.value=this.computeValue(!1),hn());var g=this.value;if(lt(g))throw g.cause;return g},y.prototype.peek=function(){var g=this.computeValue(!1);if(lt(g))throw g.cause;return g},y.prototype.set=function(g){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else j(!1,!1)},y.prototype.trackAndCompute=function(){var g=this.value,E=this.dependenciesState===ee.NOT_TRACKING,M=this.computeValue(!0),D=E||lt(g)||lt(M)||!this.equals(g,M);return D&&(this.value=M),D},y.prototype.computeValue=function(g){var E;if(this.isComputing=!0,Be.computationDepth++,g)E=ne(this,this.derivation,this.scope);else if(Be.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(M){E=new ut(M)}return Be.computationDepth--,this.isComputing=!1,E},y.prototype.suspend=function(){this.keepAlive||(be(this),this.value=void 0)},y.prototype.observe=function(g,E){var M=this,D=!0,W=void 0;return Bo(function(){var ae=M.get();if(!D||E){var xe=Se();g({type:"update",object:M,newValue:ae,oldValue:W}),ke(xe)}D=!1,W=ae})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return C(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),or=V("ComputedValue",zn),ao=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},$a={};function jn(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:$a}var uo=!0,Ti=!1,Be=function(){var y=jn();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(uo=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new ao().version&&(uo=!1),uo?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new ao):(setTimeout(function(){Ti||w("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ao)}();function Ka(y,g){y.observers.add(g),y.lowestObserverState>g.dependenciesState&&(y.lowestObserverState=g.dependenciesState)}function Ai(y,g){y.observers.delete(g),y.observers.size===0&&Mi(y)}function Mi(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,Be.pendingUnobservations.push(y))}function dn(){Be.inBatch++}function hn(){if(--Be.inBatch==0){Di();for(var y=Be.pendingUnobservations,g=0;g<y.length;g++){var E=y[g];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof zn&&E.suspend())}Be.pendingUnobservations=[]}}function Bn(y){var g=Be.trackingDerivation;return g!==null?(g.runId!==y.lastAccessedBy&&(y.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&Be.inBatch>0&&Mi(y),!1)}function _r(y,g){if(console.log("[mobx.trace] '"+y.name+"' is invalidated due to a change in: '"+g.name+"'"),y.isTracing===Fe.BREAK){var E=[];(function M(D,W,ae){if(W.length>=1e3)return void W.push("(and many more)");W.push(""+new Array(ae).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(xe){return M(xe,W,ae+1)})})(Cr(y),E,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof zn?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var Sn=function(){function y(g,E,M,D){g===void 0&&(g="Reaction@"+O()),D===void 0&&(D=!1),this.name=g,this.onInvalidate=E,this.errorHandler=M,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=ee.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+O(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Fe.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Be.pendingReactions.push(this),Di())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(dn(),this._isScheduled=!1,yt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}hn()}},y.prototype.track=function(g){if(!this.isDisposed){dn(),this._isRunning=!0;var E=ne(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&be(this),lt(E)&&this.reportExceptionInDerivation(E.cause),hn()}},y.prototype.reportExceptionInDerivation=function(g){var E=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Be.disableErrorBoundaries)throw g;var M="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Be.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(M,g),Be.globalReactionErrorHandlers.forEach(function(D){return D(g,E)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(dn(),be(this),hn()))},y.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[T]=this,g},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var E=[],M=0;M<arguments.length;M++)E[M]=arguments[M];var D=!1;typeof E[E.length-1]=="boolean"&&(D=E.pop());var W=Ho(E);if(!W)return w(!1);W.isTracing===Fe.NONE&&console.log("[mobx.trace] '"+W.name+"' tracing enabled"),W.isTracing=D?Fe.BREAK:Fe.LOG}(this,g)},y}(),Lo=function(y){return y()};function Di(){Be.inBatch>0||Be.isRunningReactions||Lo(qa)}function qa(){Be.isRunningReactions=!0;for(var y=Be.pendingReactions,g=0;y.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+y[0]),y.splice(0));for(var E=y.splice(0),M=0,D=E.length;M<D;M++)E[M].runReaction()}Be.isRunningReactions=!1}var co=V("Reaction",Sn);function Za(y){var g=Lo;Lo=function(E){return y(function(){return g(E)})}}function Ni(y){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ja(){w(!1)}function ir(y){return function(g,E,M){if(M){if(M.value)return{value:ct(y,M.value),enumerable:!1,configurable:!0,writable:!0};var D=M.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ct(y,D.call(this))}}}return Ci(y).apply(this,arguments)}}function Ci(y){return function(g,E,M){Object.defineProperty(g,E,{configurable:!0,enumerable:!1,get:function(){},set:function(D){X(this,E,Fn(y,D))}})}}var Fn=function(y,g,E,M){return arguments.length===1&&typeof y=="function"?ct(y.name||"<unnamed action>",y):arguments.length===2&&typeof g=="function"?ct(y,g):arguments.length===1&&typeof y=="string"?ir(y):M!==!0?ir(g).apply(null,arguments):void X(y,g,ct(y.name||g,E.value,this))};function Qa(y,g){return Ie(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:g,this,void 0)}function so(y){return typeof y=="function"&&y.isMobxAction===!0}function zo(y,g,E){X(y,g,ct(g,E.bind(y)))}function Bo(y,g){g===void 0&&(g=_);var E,M=g&&g.name||y.name||"Autorun@"+O();if(!g.scheduler&&!g.delay)E=new Sn(M,function(){this.track(ae)},g.onError,g.requiresObservable);else{var D=Ri(g),W=!1;E=new Sn(M,function(){W||(W=!0,D(function(){W=!1,E.isDisposed||E.track(ae)}))},g.onError,g.requiresObservable)}function ae(){y(E)}return E.schedule(),E.getDisposer()}Fn.bound=function(y,g,E,M){return M===!0?(zo(y,g,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return zo(this,g,E.value||E.initializer.call(this)),this[g]},set:Ja}:{enumerable:!1,configurable:!0,set:function(D){zo(this,g,D)},get:function(){}}};var eu=function(y){return y()};function Ri(y){return y.scheduler?y.scheduler:y.delay?function(g){return setTimeout(g,y.delay)}:eu}function Or(y,g,E){E===void 0&&(E=_);var M,D,W,ae=E.name||"Reaction@"+O(),xe=Fn(ae,E.onError?(M=E.onError,D=g,function(){try{return D.apply(this,arguments)}catch(jt){M.call(this,jt)}}):g),Le=!E.scheduler&&!E.delay,at=Ri(E),ot=!0,Et=!1,bt=E.compareStructural?L.structural:E.equals||L.default,vt=new Sn(ae,function(){ot||Le?Pt():Et||(Et=!0,at(Pt))},E.onError,E.requiresObservable);function Pt(){if(Et=!1,!vt.isDisposed){var jt=!1;vt.track(function(){var mt=y(vt);jt=ot||!bt(W,mt),W=mt}),ot&&E.fireImmediately&&xe(W,vt),ot||jt!==!0||xe(W,vt),ot&&(ot=!1)}}return vt.schedule(),vt.getDisposer()}function wr(y,g,E){return Ii("onBecomeUnobserved",y,g,E)}function Ii(y,g,E,M){var D=typeof M=="function"?wn(g,E):wn(g),W=typeof M=="function"?M:E,ae=y+"Listeners";return D[ae]?D[ae].add(W):D[ae]=new Set([W]),typeof D[y]!="function"?w(!1):function(){var xe=D[ae];xe&&(xe.delete(W),xe.size===0&&delete D[ae])}}function xr(y){var g=y.enforceActions,E=y.computedRequiresReaction,M=y.computedConfigurable,D=y.disableErrorBoundaries,W=y.reactionScheduler,ae=y.reactionRequiresObservable,xe=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((Be.pendingReactions.length||Be.inBatch||Be.isRunningReactions)&&w("isolateGlobalState should be called before MobX is running any reactions"),Ti=!0,uo&&(--jn().__mobxInstanceCount==0&&(jn().__mobxGlobals=void 0),Be=new ao)),g!==void 0){var Le=void 0;switch(g){case!0:case"observed":Le=!0;break;case!1:case"never":Le=!1;break;case"strict":case"always":Le="strict";break;default:w("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Be.enforceActions=Le,Be.allowStateChanges=Le!==!0&&Le!=="strict"}E!==void 0&&(Be.computedRequiresReaction=!!E),ae!==void 0&&(Be.reactionRequiresObservable=!!ae),xe!==void 0&&(Be.observableRequiresReaction=!!xe,Be.allowStateReads=!Be.observableRequiresReaction),M!==void 0&&(Be.computedConfigurable=!!M),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Be.disableErrorBoundaries=!!D),W&&Za(W)}function Hn(y,g,E,M){var D=Li(M=oe(M));return Ae(y),Yo(y,M.name,D.enhancer),g&&zi(y,g,E,D),y}function Li(y){return y.defaultDecorator||(y.deep===!1?we:me)}function zi(y,g,E,M){var D,W;dn();try{var ae=H(g);try{for(var xe=fe(ae),Le=xe.next();!Le.done;Le=xe.next()){var at=Le.value,ot=Object.getOwnPropertyDescriptor(g,at),Et=(E&&at in E?E[at]:ot.get?Xe:M)(y,at,ot,!0);Et&&Object.defineProperty(y,at,Et)}}catch(bt){D={error:bt}}finally{try{Le&&!Le.done&&(W=xe.return)&&W.call(xe)}finally{if(D)throw D.error}}}finally{hn()}}function Cr(y,g){return Bi(wn(y,g))}function Bi(y){var g,E,M={name:y.name};return y.observing&&y.observing.length>0&&(M.dependencies=(g=y.observing,E=[],g.forEach(function(D){E.indexOf(D)===-1&&E.push(D)}),E).map(Bi)),M}var tu=0;function Fi(){this.message="FLOW_CANCELLED"}function Hi(y){arguments.length!==1&&w("Flow expects 1 argument and cannot be used as decorator");var g=y.name||"<unnamed flow>";return function(){var E,M=this,D=arguments,W=++tu,ae=Fn(g+" - runid: "+W+" - init",y).apply(M,D),xe=void 0,Le=new Promise(function(at,ot){var Et=0;function bt(jt){var mt;xe=void 0;try{mt=Fn(g+" - runid: "+W+" - yield "+Et++,ae.next).call(ae,jt)}catch(kn){return ot(kn)}Pt(mt)}function vt(jt){var mt;xe=void 0;try{mt=Fn(g+" - runid: "+W+" - yield "+Et++,ae.throw).call(ae,jt)}catch(kn){return ot(kn)}Pt(mt)}function Pt(jt){if(!jt||typeof jt.then!="function")return jt.done?at(jt.value):(xe=Promise.resolve(jt.value)).then(bt,vt);jt.then(Pt,ot)}E=ot,bt(void 0)});return Le.cancel=Fn(g+" - runid: "+W+" - cancel",function(){try{xe&&Rr(xe);var at=ae.return(void 0),ot=Promise.resolve(at.value);ot.then(k,k),Rr(ot),E(new Fi)}catch(Et){E(Et)}}),Le}}function Rr(y){typeof y.cancel=="function"&&y.cancel()}function Xi(y,g){if(y==null)return!1;if(g!==void 0){if(yn(y)===!1||!y[T].values.has(g))return!1;var E=wn(y,g);return or(E)}return or(y)}function nu(y){return arguments.length>1?w(!1):Xi(y)}function Gi(y,g){return typeof g!="string"?w(!1):Xi(y,g)}function Fo(y,g){return y!=null&&(g!==void 0?!!yn(y)&&y[T].values.has(g):yn(y)||!!y[T]||G(y)||co(y)||or(y))}function Ir(y){return arguments.length!==1&&w(!1),Fo(y)}function Xn(y){return yn(y)?y[T].getKeys():tn(y)||$t(y)?Array.from(y.keys()):ln(y)?y.map(function(g,E){return E}):w(!1)}function Gt(y){return yn(y)?Xn(y).map(function(g){return y[g]}):tn(y)?Xn(y).map(function(g){return y.get(g)}):$t(y)?Array.from(y.values()):ln(y)?y.slice():w(!1)}function Vi(y){return yn(y)?Xn(y).map(function(g){return[g,y[g]]}):tn(y)?Xn(y).map(function(g){return[g,y.get(g)]}):$t(y)?Array.from(y.entries()):ln(y)?y.map(function(g,E){return[E,g]}):w(!1)}function ru(y,g,E,M){return typeof E=="function"?function(D,W,ae,xe){return Fr(D,W).observe(ae,xe)}(y,g,E,M):function(D,W,ae){return Fr(D).observe(W,ae)}(y,g,E)}Fi.prototype=Object.create(Error.prototype);var Ui={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Er(y,g,E,M){return M.detectCycles&&y.set(g,E),E}function Yi(y,g){var E;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Ui),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(E=new Map),function M(D,W,ae){if(!W.recurseEverything&&!Ir(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Io(D))return M(D.get(),W,ae);if(Ir(D)&&Xn(D),W.detectCycles===!0&&D!==null&&ae.has(D))return ae.get(D);if(ln(D)||Array.isArray(D)){var xe=Er(ae,D,[],W),Le=D.map(function(mt){return M(mt,W,ae)});xe.length=Le.length;for(var at=0,ot=Le.length;at<ot;at++)xe[at]=Le[at];return xe}if($t(D)||Object.getPrototypeOf(D)===Set.prototype){if(W.exportMapsAsObjects===!1){var Et=Er(ae,D,new Set,W);return D.forEach(function(mt){Et.add(M(mt,W,ae))}),Et}var bt=Er(ae,D,[],W);return D.forEach(function(mt){bt.push(M(mt,W,ae))}),bt}if(tn(D)||Object.getPrototypeOf(D)===Map.prototype){if(W.exportMapsAsObjects===!1){var vt=Er(ae,D,new Map,W);return D.forEach(function(mt,kn){vt.set(kn,M(mt,W,ae))}),vt}var Pt=Er(ae,D,{},W);return D.forEach(function(mt,kn){Pt[kn]=M(mt,W,ae)}),Pt}var jt=Er(ae,D,{},W);return J(D).forEach(function(mt){jt[mt]=M(D[mt],W,ae)}),jt}(y,g,E)}function Ho(y){switch(y.length){case 0:return Be.trackingDerivation;case 1:return wn(y[0]);case 2:return wn(y[0],y[1])}}function mn(y,g){g===void 0&&(g=void 0),dn();try{return y.apply(g)}finally{hn()}}function _n(y,g,E){return arguments.length===1||g&&typeof g=="object"?Wi(y,g):Xo(y,g,E||{})}function Xo(y,g,E){var M;typeof E.timeout=="number"&&(M=setTimeout(function(){if(!W[T].isDisposed){W();var ae=new Error("WHEN_TIMEOUT");if(!E.onError)throw ae;E.onError(ae)}},E.timeout)),E.name=E.name||"When@"+O();var D=ct(E.name+"-effect",g),W=Bo(function(ae){y()&&(ae.dispose(),M&&clearTimeout(M),D())},E);return W}function Wi(y,g){var E,M=new Promise(function(D,W){var ae=Xo(y,D,ie(ie({},g),{onError:W}));E=function(){ae(),W("WHEN_CANCELLED")}});return M.cancel=E,M}function lo(y){return y[T]}function fo(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var Lr={has:function(y,g){if(g===T||g==="constructor"||g===pe)return!0;var E=lo(y);return fo(g)?E.has(g):g in y},get:function(y,g){if(g===T||g==="constructor"||g===pe)return y[g];var E=lo(y),M=E.values.get(g);if(M instanceof z){var D=M.get();return D===void 0&&E.has(g),D}return fo(g)&&E.has(g),y[g]},set:function(y,g,E){return!!fo(g)&&(function M(D,W,ae){if(arguments.length!==2||$t(D))if(yn(D)){var xe=D[T],Le=xe.values.get(W);Le?xe.write(W,ae):xe.addObservableProp(W,ae,xe.defaultEnhancer)}else if(tn(D))D.set(W,ae);else if($t(D))D.add(W);else{if(!ln(D))return w(!1);typeof W!="number"&&(W=parseInt(W,10)),j(W>=0,"Not a valid index: '"+W+"'"),dn(),W>=D.length&&(D.length=W+1),D[W]=ae,hn()}else{dn();var at=W;try{for(var ot in at)M(D,ot,at[ot])}finally{hn()}}}(y,g,E),!0)},deleteProperty:function(y,g){return!!fo(g)&&(lo(y).remove(g),!0)},ownKeys:function(y){return lo(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return w("Dynamic observable objects cannot be frozen"),!1}};function zr(y){var g=new Proxy(y,Lr);return y[T].proxy=g,g}function On(y){return y.interceptors!==void 0&&y.interceptors.length>0}function Gn(y,g){var E=y.interceptors||(y.interceptors=[]);return E.push(g),S(function(){var M=E.indexOf(g);M!==-1&&E.splice(M,1)})}function sn(y,g){var E=Se();try{for(var M=ye(y.interceptors||[]),D=0,W=M.length;D<W&&(j(!(g=M[D](g))||g.type,"Intercept handlers should return nothing or a change object"),g);D++);return g}finally{ke(E)}}function ft(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function Br(y,g){var E=y.changeListeners||(y.changeListeners=[]);return E.push(g),S(function(){var M=E.indexOf(g);M!==-1&&E.splice(M,1)})}function en(y,g){var E=Se(),M=y.changeListeners;if(M){for(var D=0,W=(M=M.slice()).length;D<W;D++)M[D](g);ke(E)}}var jr={get:function(y,g){return g===T?y[T]:g==="length"?y[T].getArrayLength():typeof g=="number"?Pn.get.call(y,g):typeof g!="string"||isNaN(g)?Pn.hasOwnProperty(g)?Pn[g]:y[g]:Pn.get.call(y,parseInt(g))},set:function(y,g,E){return g==="length"&&y[T].setArrayLength(E),typeof g=="number"&&Pn.set.call(y,g,E),typeof g=="symbol"||isNaN(g)?y[g]=E:Pn.set.call(y,parseInt(g),E),!0},preventExtensions:function(y){return w("Observable arrays cannot be frozen"),!1}};function $i(y,g,E,M){E===void 0&&(E="ObservableArray@"+O()),M===void 0&&(M=!1);var D,W,ae,xe=new po(E,g,M);D=xe.values,W=T,ae=xe,Object.defineProperty(D,W,{enumerable:!1,writable:!1,configurable:!0,value:ae});var Le=new Proxy(xe.values,jr);if(xe.proxy=Le,y&&y.length){var at=xt(!0);xe.spliceWithArray(0,0,y),Mt(at)}return Le}var po=function(){function y(g,E,M){this.owned=M,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new z(g||"ObservableArray@"+O()),this.enhancer=function(D,W){return E(D,W,g+"[..]")}}return y.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},y.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},y.prototype.intercept=function(g){return Gn(this,g)},y.prototype.observe=function(g,E){return E===void 0&&(E=!1),E&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Br(this,g)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var E=this.values.length;if(g!==E)if(g>E){for(var M=new Array(g-E),D=0;D<g-E;D++)M[D]=void 0;this.spliceWithArray(E,0,M)}else this.spliceWithArray(g,E-g)},y.prototype.updateArrayLength=function(g,E){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},y.prototype.spliceWithArray=function(g,E,M){var D=this;U(this.atom);var W=this.values.length;if(g===void 0?g=0:g>W?g=W:g<0&&(g=Math.max(0,W+g)),E=arguments.length===1?W-g:E==null?0:Math.max(0,Math.min(E,W-g)),M===void 0&&(M=v),On(this)){var ae=sn(this,{object:this.proxy,type:"splice",index:g,removedCount:E,added:M});if(!ae)return v;E=ae.removedCount,M=ae.added}M=M.length===0?M:M.map(function(Le){return D.enhancer(Le,void 0)});var xe=this.spliceItemsIntoValues(g,E,M);return E===0&&M.length===0||this.notifyArraySplice(g,M,xe),this.dehanceValues(xe)},y.prototype.spliceItemsIntoValues=function(g,E,M){var D;if(M.length<1e4)return(D=this.values).splice.apply(D,ye([g,E],M));var W=this.values.slice(g,g+E);return this.values=this.values.slice(0,g).concat(M,this.values.slice(g+E)),W},y.prototype.notifyArrayChildUpdate=function(g,E,M){var D=!this.owned&&!1,W=ft(this),ae=W||D?{object:this.proxy,type:"update",index:g,newValue:E,oldValue:M}:null;this.atom.reportChanged(),W&&en(this,ae)},y.prototype.notifyArraySplice=function(g,E,M){var D=!this.owned&&!1,W=ft(this),ae=W||D?{object:this.proxy,type:"splice",index:g,removed:M,added:E,removedCount:M.length,addedCount:E.length}:null;this.atom.reportChanged(),W&&en(this,ae)},y}(),Pn={intercept:function(y){return this[T].intercept(y)},observe:function(y,g){return g===void 0&&(g=!1),this[T].observe(y,g)},clear:function(){return this.splice(0)},replace:function(y){var g=this[T];return g.spliceWithArray(0,g.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,g){for(var E=[],M=2;M<arguments.length;M++)E[M-2]=arguments[M];var D=this[T];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(y);case 2:return D.spliceWithArray(y,g)}return D.spliceWithArray(y,g,E)},spliceWithArray:function(y,g,E){return this[T].spliceWithArray(y,g,E)},push:function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];var E=this[T];return E.spliceWithArray(E.values.length,0,y),E.values.length},pop:function(){return this.splice(Math.max(this[T].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];var E=this[T];return E.spliceWithArray(0,0,y),E.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(y){var g=this[T],E=g.dehanceValues(g.values).indexOf(y);return E>-1&&(this.splice(E,1),!0)},get:function(y){var g=this[T];if(g){if(y<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[y]);console.warn("[mobx.array] Attempt to read an array index ("+y+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(y,g){var E=this[T],M=E.values;if(y<M.length){U(E.atom);var D=M[y];if(On(E)){var W=sn(E,{type:"update",object:E.proxy,index:y,newValue:g});if(!W)return;g=W.newValue}(g=E.enhancer(g,D))!==D&&(M[y]=g,E.notifyArrayChildUpdate(y,g,D))}else{if(y!==M.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+M.length);E.spliceWithArray(y,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(Pn[y]=function(){var g=this[T];g.atom.reportObserved();var E=g.dehanceValues(g.values);return E[y].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(Pn[y]=function(g,E){var M=this,D=this[T];return D.atom.reportObserved(),D.dehanceValues(D.values)[y](function(W,ae){return g.call(E,W,ae,M)},E)})}),["reduce","reduceRight"].forEach(function(y){Pn[y]=function(){var g=this,E=this[T];E.atom.reportObserved();var M=arguments[0];return arguments[0]=function(D,W,ae){return W=E.dehanceValue(W),M(D,W,ae,g)},E.values[y].apply(E.values,arguments)}});var Go,ou=V("ObservableArrayAdministration",po);function ln(y){return N(y)&&ou(y[T])}var Vo,iu={},Uo=function(){function y(g,E,M){if(E===void 0&&(E=Ce),M===void 0&&(M="ObservableMap@"+O()),this.enhancer=E,this.name=M,this[Go]=iu,this._keysAtom=R(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return y.prototype._has=function(g){return this._data.has(g)},y.prototype.has=function(g){var E=this;if(!Be.trackingDerivation)return this._has(g);var M=this._hasMap.get(g);if(!M){var D=M=new Qt(this._has(g),et,this.name+"."+Y(g)+"?",!1);this._hasMap.set(g,D),wr(D,function(){return E._hasMap.delete(g)})}return M.get()},y.prototype.set=function(g,E){var M=this._has(g);if(On(this)){var D=sn(this,{type:M?"update":"add",object:this,newValue:E,name:g});if(!D)return this;E=D.newValue}return M?this._updateValue(g,E):this._addValue(g,E),this},y.prototype.delete=function(g){var E=this;if(U(this._keysAtom),On(this)&&!(D=sn(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var M=ft(this),D=M?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return mn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(g,!1),E._data.get(g).setNewValue(void 0),E._data.delete(g)}),M&&en(this,D),!0}return!1},y.prototype._updateHasMapEntry=function(g,E){var M=this._hasMap.get(g);M&&M.setNewValue(E)},y.prototype._updateValue=function(g,E){var M=this._data.get(g);if((E=M.prepareNewValue(E))!==Be.UNCHANGED){var D=ft(this),W=D?{type:"update",object:this,oldValue:M.value,name:g,newValue:E}:null;M.setNewValue(E),D&&en(this,W)}},y.prototype._addValue=function(g,E){var M=this;U(this._keysAtom),mn(function(){var ae=new Qt(E,M.enhancer,M.name+"."+Y(g),!1);M._data.set(g,ae),E=ae.value,M._updateHasMapEntry(g,!0),M._keysAtom.reportChanged()});var D=ft(this),W=D?{type:"add",object:this,name:g,newValue:E}:null;D&&en(this,W)},y.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var g=this,E=this.keys();return Xr({next:function(){var M=E.next(),D=M.done,W=M.value;return{done:D,value:D?void 0:g.get(W)}}})},y.prototype.entries=function(){var g=this,E=this.keys();return Xr({next:function(){var M=E.next(),D=M.done,W=M.value;return{done:D,value:D?void 0:[W,g.get(W)]}}})},y.prototype[Go=T,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(g,E){var M,D;try{for(var W=fe(this),ae=W.next();!ae.done;ae=W.next()){var xe=ve(ae.value,2),Le=xe[0],at=xe[1];g.call(E,at,Le,this)}}catch(ot){M={error:ot}}finally{try{ae&&!ae.done&&(D=W.return)&&D.call(W)}finally{if(M)throw M.error}}},y.prototype.merge=function(g){var E=this;return tn(g)&&(g=g.toJS()),mn(function(){var M=xt(!0);try{I(g)?J(g).forEach(function(D){return E.set(D,g[D])}):Array.isArray(g)?g.forEach(function(D){var W=ve(D,2),ae=W[0],xe=W[1];return E.set(ae,xe)}):F(g)?(g.constructor!==Map&&w("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(D,W){return E.set(W,D)})):g!=null&&w("Cannot initialize map from "+g)}finally{Mt(M)}}),this},y.prototype.clear=function(){var g=this;mn(function(){re(function(){var E,M;try{for(var D=fe(g.keys()),W=D.next();!W.done;W=D.next()){var ae=W.value;g.delete(ae)}}catch(xe){E={error:xe}}finally{try{W&&!W.done&&(M=D.return)&&M.call(D)}finally{if(E)throw E.error}}})})},y.prototype.replace=function(g){var E=this;return mn(function(){var M,D,W,ae,xe=function(nn){if(F(nn)||tn(nn))return nn;if(Array.isArray(nn))return new Map(nn);if(I(nn)){var Zi=new Map;for(var qo in nn)Zi.set(qo,nn[qo]);return Zi}return w("Cannot convert to map from '"+nn+"'")}(g),Le=new Map,at=!1;try{for(var ot=fe(E._data.keys()),Et=ot.next();!Et.done;Et=ot.next()){var bt=Et.value;if(!xe.has(bt))if(E.delete(bt))at=!0;else{var vt=E._data.get(bt);Le.set(bt,vt)}}}catch(nn){M={error:nn}}finally{try{Et&&!Et.done&&(D=ot.return)&&D.call(ot)}finally{if(M)throw M.error}}try{for(var Pt=fe(xe.entries()),jt=Pt.next();!jt.done;jt=Pt.next()){var mt=ve(jt.value,2),kn=(bt=mt[0],vt=mt[1],E._data.has(bt));if(E.set(bt,vt),E._data.has(bt)){var uu=E._data.get(bt);Le.set(bt,uu),kn||(at=!0)}}}catch(nn){W={error:nn}}finally{try{jt&&!jt.done&&(ae=Pt.return)&&ae.call(Pt)}finally{if(W)throw W.error}}if(!at)if(E._data.size!==Le.size)E._keysAtom.reportChanged();else for(var Gr=E._data.keys(),Sr=Le.keys(),Vr=Gr.next(),Ko=Sr.next();!Vr.done;){if(Vr.value!==Ko.value){E._keysAtom.reportChanged();break}Vr=Gr.next(),Ko=Sr.next()}E._data=Le}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var g,E,M={};try{for(var D=fe(this),W=D.next();!W.done;W=D.next()){var ae=ve(W.value,2),xe=ae[0],Le=ae[1];M[typeof xe=="symbol"?xe:Y(xe)]=Le}}catch(at){g={error:at}}finally{try{W&&!W.done&&(E=D.return)&&E.call(D)}finally{if(g)throw g.error}}return M},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return Y(E)+": "+g.get(E)}).join(", ")+" }]"},y.prototype.observe=function(g,E){return Br(this,g)},y.prototype.intercept=function(g){return Gn(this,g)},y}(),tn=V("ObservableMap",Uo),ar={},ur=function(){function y(g,E,M){if(E===void 0&&(E=Ce),M===void 0&&(M="ObservableSet@"+O()),this.name=M,this[Vo]=ar,this._data=new Set,this._atom=R(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,W){return E(D,W,M)},g&&this.replace(g)}return y.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},y.prototype.clear=function(){var g=this;mn(function(){re(function(){var E,M;try{for(var D=fe(g._data.values()),W=D.next();!W.done;W=D.next()){var ae=W.value;g.delete(ae)}}catch(xe){E={error:xe}}finally{try{W&&!W.done&&(M=D.return)&&M.call(D)}finally{if(E)throw E.error}}})})},y.prototype.forEach=function(g,E){var M,D;try{for(var W=fe(this),ae=W.next();!ae.done;ae=W.next()){var xe=ae.value;g.call(E,xe,xe,this)}}catch(Le){M={error:Le}}finally{try{ae&&!ae.done&&(D=W.return)&&D.call(W)}finally{if(M)throw M.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(g){var E=this;if(U(this._atom),On(this)&&!(D=sn(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){mn(function(){E._data.add(E.enhancer(g,void 0)),E._atom.reportChanged()});var M=ft(this),D=M?{type:"add",object:this,newValue:g}:null;M&&en(this,D)}return this},y.prototype.delete=function(g){var E=this;if(On(this)&&!(D=sn(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var M=ft(this),D=M?{type:"delete",object:this,oldValue:g}:null;return mn(function(){E._atom.reportChanged(),E._data.delete(g)}),M&&en(this,D),!0}return!1},y.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},y.prototype.entries=function(){var g=0,E=Array.from(this.keys()),M=Array.from(this.values());return Xr({next:function(){var D=g;return g+=1,D<M.length?{value:[E[D],M[D]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var g=this,E=0,M=Array.from(this._data.values());return Xr({next:function(){return E<M.length?{value:g.dehanceValue(M[E++]),done:!1}:{done:!0}}})},y.prototype.replace=function(g){var E=this;return $t(g)&&(g=g.toJS()),mn(function(){var M=xt(!0);try{Array.isArray(g)||K(g)?(E.clear(),g.forEach(function(D){return E.add(D)})):g!=null&&w("Cannot initialize set from "+g)}finally{Mt(M)}}),this},y.prototype.observe=function(g,E){return Br(this,g)},y.prototype.intercept=function(g){return Gn(this,g)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[Vo=T,Symbol.iterator]=function(){return this.values()},y}(),$t=V("ObservableSet",ur),Ki=function(){function y(g,E,M,D){E===void 0&&(E=new Map),this.target=g,this.values=E,this.name=M,this.defaultEnhancer=D,this.keysAtom=new z(M+".keys")}return y.prototype.read=function(g){return this.values.get(g).get()},y.prototype.write=function(g,E){var M=this.target,D=this.values.get(g);if(D instanceof zn)D.set(E);else{if(On(this)){if(!(ae=sn(this,{type:"update",object:this.proxy||M,name:g,newValue:E})))return;E=ae.newValue}if((E=D.prepareNewValue(E))!==Be.UNCHANGED){var W=ft(this),ae=W?{type:"update",object:this.proxy||M,oldValue:D.value,name:g,newValue:E}:null;D.setNewValue(E),W&&en(this,ae)}}},y.prototype.has=function(g){var E=this.pendingKeys||(this.pendingKeys=new Map),M=E.get(g);if(M)return M.get();var D=!!this.values.get(g);return M=new Qt(D,et,this.name+"."+Y(g)+"?",!1),E.set(g,M),M.get()},y.prototype.addObservableProp=function(g,E,M){M===void 0&&(M=this.defaultEnhancer);var D=this.target;if(On(this)){var W=sn(this,{object:this.proxy||D,name:g,type:"add",newValue:E});if(!W)return;E=W.newValue}var ae=new Qt(E,M,this.name+"."+Y(g),!1);this.values.set(g,ae),E=ae.value,Object.defineProperty(D,g,function(xe){return ho[xe]||(ho[xe]={configurable:!0,enumerable:!0,get:function(){return this[T].read(xe)},set:function(Le){this[T].write(xe,Le)}})}(g)),this.notifyPropertyAddition(g,E)},y.prototype.addComputedProp=function(g,E,M){var D,W,ae,xe=this.target;M.name=M.name||this.name+"."+Y(E),this.values.set(E,new zn(M)),(g===xe||(D=g,W=E,!(ae=Object.getOwnPropertyDescriptor(D,W))||ae.configurable!==!1&&ae.writable!==!1))&&Object.defineProperty(g,E,function(Le){return yo[Le]||(yo[Le]={configurable:Be.computedConfigurable,enumerable:!1,get:function(){return vo(this).read(Le)},set:function(at){vo(this).write(Le,at)}})}(E))},y.prototype.remove=function(g){if(this.values.has(g)){var E=this.target;if(On(this)&&!(xe=sn(this,{object:this.proxy||E,name:g,type:"remove"})))return;try{dn();var M=ft(this),D=this.values.get(g),W=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var ae=this.pendingKeys.get(g);ae&&ae.set(!1)}delete this.target[g];var xe=M?{type:"remove",object:this.proxy||E,oldValue:W,name:g}:null;M&&en(this,xe)}finally{hn()}}},y.prototype.illegalAccess=function(g,E){console.warn("Property '"+E+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},y.prototype.observe=function(g,E){return Br(this,g)},y.prototype.intercept=function(g){return Gn(this,g)},y.prototype.notifyPropertyAddition=function(g,E){var M=ft(this),D=M?{type:"add",object:this.proxy||this.target,name:g,newValue:E}:null;if(M&&en(this,D),this.pendingKeys){var W=this.pendingKeys.get(g);W&&W.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var g,E;this.keysAtom.reportObserved();var M=[];try{for(var D=fe(this.values),W=D.next();!W.done;W=D.next()){var ae=ve(W.value,2),xe=ae[0];ae[1]instanceof Qt&&M.push(xe)}}catch(Le){g={error:Le}}finally{try{W&&!W.done&&(E=D.return)&&E.call(D)}finally{if(g)throw g.error}}return M},y}();function Yo(y,g,E){if(g===void 0&&(g=""),E===void 0&&(E=Ce),Object.prototype.hasOwnProperty.call(y,T))return y[T];I(y)||(g=(y.constructor.name||"ObservableObject")+"@"+O()),g||(g="ObservableObject@"+O());var M=new Ki(y,new Map,Y(g),E);return X(y,T,M),M}var ho=Object.create(null),yo=Object.create(null);function vo(y){var g=y[T];return g||(Ae(y),y[T])}var Wo=V("ObservableObjectAdministration",Ki);function yn(y){return!!N(y)&&(Ae(y),Wo(y[T]))}function wn(y,g){if(typeof y=="object"&&y!==null){if(ln(y))return g!==void 0&&w(!1),y[T].atom;if($t(y))return y[T];if(tn(y)){var E=y;return g===void 0?E._keysAtom:((M=E._data.get(g)||E._hasMap.get(g))||w(!1),M)}var M;if(Ae(y),g&&!y[T]&&y[g],yn(y))return g?((M=y[T].values.get(g))||w(!1),M):w(!1);if(G(y)||or(y)||co(y))return y}else if(typeof y=="function"&&co(y[T]))return y[T];return w(!1)}function Fr(y,g){return y||w("Expecting some object"),g!==void 0?Fr(wn(y,g)):G(y)||or(y)||co(y)||tn(y)||$t(y)?y:(Ae(y),y[T]?y[T]:void w(!1))}var qi=Object.prototype.toString;function $o(y,g,E){return E===void 0&&(E=-1),function M(D,W,ae,xe,Le){if(D===W)return D!==0||1/D==1/W;if(D==null||W==null)return!1;if(D!=D)return W!=W;var at=typeof D;if(at!=="function"&&at!=="object"&&typeof W!="object")return!1;var ot=qi.call(D);if(ot!==qi.call(W))return!1;switch(ot){case"[object RegExp]":case"[object String]":return""+D==""+W;case"[object Number]":return+D!=+D?+W!=+W:+D==0?1/+D==1/W:+D==+W;case"[object Date]":case"[object Boolean]":return+D==+W;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(W);case"[object Map]":case"[object Set]":ae>=0&&ae++}D=Vn(D),W=Vn(W);var Et=ot==="[object Array]";if(!Et){if(typeof D!="object"||typeof W!="object")return!1;var bt=D.constructor,vt=W.constructor;if(bt!==vt&&!(typeof bt=="function"&&bt instanceof bt&&typeof vt=="function"&&vt instanceof vt)&&"constructor"in D&&"constructor"in W)return!1}if(ae===0)return!1;ae<0&&(ae=-1),Le=Le||[];for(var Pt=(xe=xe||[]).length;Pt--;)if(xe[Pt]===D)return Le[Pt]===W;if(xe.push(D),Le.push(W),Et){if((Pt=D.length)!==W.length)return!1;for(;Pt--;)if(!M(D[Pt],W[Pt],ae-1,xe,Le))return!1}else{var jt=Object.keys(D),mt=void 0;if(Pt=jt.length,Object.keys(W).length!==Pt)return!1;for(;Pt--;)if(mt=jt[Pt],!Hr(W,mt)||!M(D[mt],W[mt],ae-1,xe,Le))return!1}return xe.pop(),Le.pop(),!0}(y,g,E)}function Vn(y){return ln(y)?y.slice():F(y)||tn(y)||K(y)||$t(y)?Array.from(y.entries()):y}function Hr(y,g){return Object.prototype.hasOwnProperty.call(y,g)}function Xr(y){return y[Symbol.iterator]=au,y}function au(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ni,extras:{getDebugName:function(y,g){return(g!==void 0?wn(y,g):yn(y)||tn(y)||$t(y)?Fr(y):wn(y)).name}},$mobx:T})}).call(this,i(155),i(81))},function(c,p,i){i.d(p,"a",function(){return Y}),i.d(p,"b",function(){return J}),i.d(p,"c",function(){return Ce}),i.d(p,"d",function(){return et}),i.d(p,"e",function(){return V}),i.d(p,"f",function(){return K}),i.d(p,"g",function(){return V}),i.d(p,"h",function(){return Pe}),i.d(p,"i",function(){return s}),i.d(p,"j",function(){return Me}),i.d(p,"k",function(){return L});var f,s,v,_,O,w,j,S={},k=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(Q,Z){for(var oe in Z)Q[oe]=Z[oe];return Q}function X(Q){var Z=Q.parentNode;Z&&Z.removeChild(Q)}function V(Q,Z,oe){var me,De,we,We={};for(we in Z)we=="key"?me=Z[we]:we=="ref"?De=Z[we]:We[we]=Z[we];if(arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):oe),typeof Q=="function"&&Q.defaultProps!=null)for(we in Q.defaultProps)We[we]===void 0&&(We[we]=Q.defaultProps[we]);return F(Q,We,me,De,null)}function F(Q,Z,oe,me,De){var we={type:Q,props:Z,key:oe,ref:me,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:De==null?++v:De};return De==null&&s.vnode!=null&&s.vnode(we),we}function K(){return{current:null}}function J(Q){return Q.children}function Y(Q,Z){this.props=Q,this.context=Z}function C(Q,Z){if(Z==null)return Q.__?C(Q.__,Q.__.__k.indexOf(Q)+1):null;for(var oe;Z<Q.__k.length;Z++)if((oe=Q.__k[Z])!=null&&oe.__e!=null)return oe.__e;return typeof Q.type=="function"?C(Q):null}function H(Q){var Z,oe;if((Q=Q.__)!=null&&Q.__c!=null){for(Q.__e=Q.__c.base=null,Z=0;Z<Q.__k.length;Z++)if((oe=Q.__k[Z])!=null&&oe.__e!=null){Q.__e=Q.__c.base=oe.__e;break}return H(Q)}}function T(Q){(!Q.__d&&(Q.__d=!0)&&_.push(Q)&&!z.__r++||w!==s.debounceRendering)&&((w=s.debounceRendering)||O)(z)}function z(){for(var Q;z.__r=_.length;)Q=_.sort(function(Z,oe){return Z.__v.__b-oe.__v.__b}),_=[],Q.some(function(Z){var oe,me,De,we,We,Ue;Z.__d&&(We=(we=(oe=Z).__v).__e,(Ue=oe.__P)&&(me=[],(De=I({},we)).__v=we.__v+1,pe(Ue,we,De,oe.__n,Ue.ownerSVGElement!==void 0,we.__h!=null?[We]:null,me,We==null?C(we):We,we.__h),se(me,we),we.__e!=We&&H(we)))})}function G(Q,Z,oe,me,De,we,We,Ue,tt,qe){var _e,ee,Fe,Xe,$e,kt,ut,lt=me&&me.__k||k,yt=lt.length;for(oe.__k=[],_e=0;_e<Z.length;_e++)if((Xe=oe.__k[_e]=(Xe=Z[_e])==null||typeof Xe=="boolean"?null:typeof Xe=="string"||typeof Xe=="number"||typeof Xe=="bigint"?F(null,Xe,null,null,Xe):Array.isArray(Xe)?F(J,{children:Xe},null,null,null):Xe.__b>0?F(Xe.type,Xe.props,Xe.key,null,Xe.__v):Xe)!=null){if(Xe.__=oe,Xe.__b=oe.__b+1,(Fe=lt[_e])===null||Fe&&Xe.key==Fe.key&&Xe.type===Fe.type)lt[_e]=void 0;else for(ee=0;ee<yt;ee++){if((Fe=lt[ee])&&Xe.key==Fe.key&&Xe.type===Fe.type){lt[ee]=void 0;break}Fe=null}pe(Q,Xe,Fe=Fe||S,De,we,We,Ue,tt,qe),$e=Xe.__e,(ee=Xe.ref)&&Fe.ref!=ee&&(ut||(ut=[]),Fe.ref&&ut.push(Fe.ref,null,Xe),ut.push(ee,Xe.__c||$e,Xe)),$e!=null?(kt==null&&(kt=$e),typeof Xe.type=="function"&&Xe.__k===Fe.__k?Xe.__d=tt=R(Xe,tt,Q):tt=$(Q,Xe,Fe,lt,$e,tt),typeof oe.type=="function"&&(oe.__d=tt)):tt&&Fe.__e==tt&&tt.parentNode!=Q&&(tt=C(Fe))}for(oe.__e=kt,_e=yt;_e--;)lt[_e]!=null&&(typeof oe.type=="function"&&lt[_e].__e!=null&&lt[_e].__e==oe.__d&&(oe.__d=C(me,_e+1)),Ee(lt[_e],lt[_e]));if(ut)for(_e=0;_e<ut.length;_e++)de(ut[_e],ut[++_e],ut[++_e])}function R(Q,Z,oe){for(var me,De=Q.__k,we=0;De&&we<De.length;we++)(me=De[we])&&(me.__=Q,Z=typeof me.type=="function"?R(me,Z,oe):$(oe,me,me,De,me.__e,Z));return Z}function L(Q,Z){return Z=Z||[],Q==null||typeof Q=="boolean"||(Array.isArray(Q)?Q.some(function(oe){L(oe,Z)}):Z.push(Q)),Z}function $(Q,Z,oe,me,De,we){var We,Ue,tt;if(Z.__d!==void 0)We=Z.__d,Z.__d=void 0;else if(oe==null||De!=we||De.parentNode==null)e:if(we==null||we.parentNode!==Q)Q.appendChild(De),We=null;else{for(Ue=we,tt=0;(Ue=Ue.nextSibling)&&tt<me.length;tt+=2)if(Ue==De)break e;Q.insertBefore(De,we),We=we}return We!==void 0?We:De.nextSibling}function ie(Q,Z,oe){Z[0]==="-"?Q.setProperty(Z,oe):Q[Z]=oe==null?"":typeof oe!="number"||N.test(Z)?oe:oe+"px"}function fe(Q,Z,oe,me,De){var we;e:if(Z==="style")if(typeof oe=="string")Q.style.cssText=oe;else{if(typeof me=="string"&&(Q.style.cssText=me=""),me)for(Z in me)oe&&Z in oe||ie(Q.style,Z,"");if(oe)for(Z in oe)me&&oe[Z]===me[Z]||ie(Q.style,Z,oe[Z])}else if(Z[0]==="o"&&Z[1]==="n")we=Z!==(Z=Z.replace(/Capture$/,"")),Z=Z.toLowerCase()in Q?Z.toLowerCase().slice(2):Z.slice(2),Q.l||(Q.l={}),Q.l[Z+we]=oe,oe?me||Q.addEventListener(Z,we?ye:ve,we):Q.removeEventListener(Z,we?ye:ve,we);else if(Z!=="dangerouslySetInnerHTML"){if(De)Z=Z.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Z!=="href"&&Z!=="list"&&Z!=="form"&&Z!=="tabIndex"&&Z!=="download"&&Z in Q)try{Q[Z]=oe==null?"":oe;break e}catch{}typeof oe=="function"||(oe!=null&&(oe!==!1||Z[0]==="a"&&Z[1]==="r")?Q.setAttribute(Z,oe):Q.removeAttribute(Z))}}function ve(Q){this.l[Q.type+!1](s.event?s.event(Q):Q)}function ye(Q){this.l[Q.type+!0](s.event?s.event(Q):Q)}function pe(Q,Z,oe,me,De,we,We,Ue,tt){var qe,_e,ee,Fe,Xe,$e,kt,ut,lt,yt,It,U=Z.type;if(Z.constructor!==void 0)return null;oe.__h!=null&&(tt=oe.__h,Ue=Z.__e=oe.__e,Z.__h=null,we=[Ue]),(qe=s.__b)&&qe(Z);try{e:if(typeof U=="function"){if(ut=Z.props,lt=(qe=U.contextType)&&me[qe.__c],yt=qe?lt?lt.props.value:qe.__:me,oe.__c?kt=(_e=Z.__c=oe.__c).__=_e.__E:("prototype"in U&&U.prototype.render?Z.__c=_e=new U(ut,yt):(Z.__c=_e=new Y(ut,yt),_e.constructor=U,_e.render=Ae),lt&&lt.sub(_e),_e.props=ut,_e.state||(_e.state={}),_e.context=yt,_e.__n=me,ee=_e.__d=!0,_e.__h=[]),_e.__s==null&&(_e.__s=_e.state),U.getDerivedStateFromProps!=null&&(_e.__s==_e.state&&(_e.__s=I({},_e.__s)),I(_e.__s,U.getDerivedStateFromProps(ut,_e.__s))),Fe=_e.props,Xe=_e.state,ee)U.getDerivedStateFromProps==null&&_e.componentWillMount!=null&&_e.componentWillMount(),_e.componentDidMount!=null&&_e.__h.push(_e.componentDidMount);else{if(U.getDerivedStateFromProps==null&&ut!==Fe&&_e.componentWillReceiveProps!=null&&_e.componentWillReceiveProps(ut,yt),!_e.__e&&_e.shouldComponentUpdate!=null&&_e.shouldComponentUpdate(ut,_e.__s,yt)===!1||Z.__v===oe.__v){_e.props=ut,_e.state=_e.__s,Z.__v!==oe.__v&&(_e.__d=!1),_e.__v=Z,Z.__e=oe.__e,Z.__k=oe.__k,Z.__k.forEach(function(ne){ne&&(ne.__=Z)}),_e.__h.length&&We.push(_e);break e}_e.componentWillUpdate!=null&&_e.componentWillUpdate(ut,_e.__s,yt),_e.componentDidUpdate!=null&&_e.__h.push(function(){_e.componentDidUpdate(Fe,Xe,$e)})}_e.context=yt,_e.props=ut,_e.state=_e.__s,(qe=s.__r)&&qe(Z),_e.__d=!1,_e.__v=Z,_e.__P=Q,qe=_e.render(_e.props,_e.state,_e.context),_e.state=_e.__s,_e.getChildContext!=null&&(me=I(I({},me),_e.getChildContext())),ee||_e.getSnapshotBeforeUpdate==null||($e=_e.getSnapshotBeforeUpdate(Fe,Xe)),It=qe!=null&&qe.type===J&&qe.key==null?qe.props.children:qe,G(Q,Array.isArray(It)?It:[It],Z,oe,me,De,we,We,Ue,tt),_e.base=Z.__e,Z.__h=null,_e.__h.length&&We.push(_e),kt&&(_e.__E=_e.__=null),_e.__e=!1}else we==null&&Z.__v===oe.__v?(Z.__k=oe.__k,Z.__e=oe.__e):Z.__e=le(oe.__e,Z,oe,me,De,we,We,tt);(qe=s.diffed)&&qe(Z)}catch(ne){Z.__v=null,(tt||we!=null)&&(Z.__e=Ue,Z.__h=!!tt,we[we.indexOf(Ue)]=null),s.__e(ne,Z,oe)}}function se(Q,Z){s.__c&&s.__c(Z,Q),Q.some(function(oe){try{Q=oe.__h,oe.__h=[],Q.some(function(me){me.call(oe)})}catch(me){s.__e(me,oe.__v)}})}function le(Q,Z,oe,me,De,we,We,Ue){var tt,qe,_e,ee=oe.props,Fe=Z.props,Xe=Z.type,$e=0;if(Xe==="svg"&&(De=!0),we!=null){for(;$e<we.length;$e++)if((tt=we[$e])&&"setAttribute"in tt==!!Xe&&(Xe?tt.localName===Xe:tt.nodeType===3)){Q=tt,we[$e]=null;break}}if(Q==null){if(Xe===null)return document.createTextNode(Fe);Q=De?document.createElementNS("http://www.w3.org/2000/svg",Xe):document.createElement(Xe,Fe.is&&Fe),we=null,Ue=!1}if(Xe===null)ee===Fe||Ue&&Q.data===Fe||(Q.data=Fe);else{if(we=we&&f.call(Q.childNodes),qe=(ee=oe.props||S).dangerouslySetInnerHTML,_e=Fe.dangerouslySetInnerHTML,!Ue){if(we!=null)for(ee={},$e=0;$e<Q.attributes.length;$e++)ee[Q.attributes[$e].name]=Q.attributes[$e].value;(_e||qe)&&(_e&&(qe&&_e.__html==qe.__html||_e.__html===Q.innerHTML)||(Q.innerHTML=_e&&_e.__html||""))}if(function(kt,ut,lt,yt,It){var U;for(U in lt)U==="children"||U==="key"||U in ut||fe(kt,U,null,lt[U],yt);for(U in ut)It&&typeof ut[U]!="function"||U==="children"||U==="key"||U==="value"||U==="checked"||lt[U]===ut[U]||fe(kt,U,ut[U],lt[U],yt)}(Q,Fe,ee,De,Ue),_e)Z.__k=[];else if($e=Z.props.children,G(Q,Array.isArray($e)?$e:[$e],Z,oe,me,De&&Xe!=="foreignObject",we,We,we?we[0]:oe.__k&&C(oe,0),Ue),we!=null)for($e=we.length;$e--;)we[$e]!=null&&X(we[$e]);Ue||("value"in Fe&&($e=Fe.value)!==void 0&&($e!==ee.value||$e!==Q.value||Xe==="progress"&&!$e)&&fe(Q,"value",$e,ee.value,!1),"checked"in Fe&&($e=Fe.checked)!==void 0&&$e!==Q.checked&&fe(Q,"checked",$e,ee.checked,!1))}return Q}function de(Q,Z,oe){try{typeof Q=="function"?Q(Z):Q.current=Z}catch(me){s.__e(me,oe)}}function Ee(Q,Z,oe){var me,De;if(s.unmount&&s.unmount(Q),(me=Q.ref)&&(me.current&&me.current!==Q.__e||de(me,null,Z)),(me=Q.__c)!=null){if(me.componentWillUnmount)try{me.componentWillUnmount()}catch(we){s.__e(we,Z)}me.base=me.__P=null}if(me=Q.__k)for(De=0;De<me.length;De++)me[De]&&Ee(me[De],Z,typeof Q.type!="function");oe||Q.__e==null||X(Q.__e),Q.__e=Q.__d=void 0}function Ae(Q,Z,oe){return this.constructor(Q,oe)}function Me(Q,Z,oe){var me,De,we;s.__&&s.__(Q,Z),De=(me=typeof oe=="function")?null:oe&&oe.__k||Z.__k,we=[],pe(Z,Q=(!me&&oe||Z).__k=V(J,null,[Q]),De||S,S,Z.ownerSVGElement!==void 0,!me&&oe?[oe]:De?null:Z.firstChild?f.call(Z.childNodes):null,we,!me&&oe?oe:De?De.__e:Z.firstChild,me),se(we,Q)}function Pe(Q,Z){Me(Q,Z,Pe)}function Ce(Q,Z,oe){var me,De,we,We=I({},Q.props);for(we in Z)we=="key"?me=Z[we]:we=="ref"?De=Z[we]:We[we]=Z[we];return arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):oe),F(Q.type,We,me||Q.key,De||Q.ref,null)}function et(Q,Z){var oe={__c:Z="__cC"+j++,__:Q,Consumer:function(me,De){return me.children(De)},Provider:function(me){var De,we;return this.getChildContext||(De=[],(we={})[Z]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&De.some(T)},this.sub=function(We){De.push(We);var Ue=We.componentWillUnmount;We.componentWillUnmount=function(){De.splice(De.indexOf(We),1),Ue&&Ue.call(We)}}),me.children}};return oe.Provider.__=oe.Consumer.contextType=oe}f=k.slice,s={__e:function(Q,Z){for(var oe,me,De;Z=Z.__;)if((oe=Z.__c)&&!oe.__)try{if((me=oe.constructor)&&me.getDerivedStateFromError!=null&&(oe.setState(me.getDerivedStateFromError(Q)),De=oe.__d),oe.componentDidCatch!=null&&(oe.componentDidCatch(Q),De=oe.__d),De)return oe.__E=oe}catch(we){Q=we}throw Q}},v=0,Y.prototype.setState=function(Q,Z){var oe;oe=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof Q=="function"&&(Q=Q(I({},oe),this.props)),Q&&I(oe,Q),Q!=null&&this.__v&&(Z&&this.__h.push(Z),T(this))},Y.prototype.forceUpdate=function(Q){this.__v&&(this.__e=!0,Q&&this.__h.push(Q),T(this))},Y.prototype.render=J,_=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,j=0},function(c,p,i){var f=i(116),s=i(44),v=i(177);f||s(Object.prototype,"toString",v,{unsafe:!0})},function(c,p,i){var f=i(39),s=i(82),v=i(70),_=i(56),O=i(111),w=_.set,j=_.getterFor("Array Iterator");c.exports=O(Array,"Array",function(S,k){w(this,{type:"Array Iterator",target:f(S),index:0,kind:k})},function(){var S=j(this),k=S.target,N=S.kind,I=S.index++;return!k||I>=k.length?(S.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:I,done:!1}:N=="values"?{value:k[I],done:!1}:{value:[I,k[I]],done:!1}},"values"),v.Arguments=v.Array,s("keys"),s("values"),s("entries")},function(c,p,i){var f=i(7),s=i(147),v=i(148),_=i(3),O=i(57),w=i(27),j=w("iterator"),S=w("toStringTag"),k=_.values,N=function(X,V){if(X){if(X[j]!==k)try{O(X,j,k)}catch{X[j]=k}if(X[S]||O(X,S,V),s[V]){for(var F in _)if(X[F]!==_[F])try{O(X,F,_[F])}catch{X[F]=_[F]}}}};for(var I in s)N(f[I]&&f[I].prototype,I);N(v,"DOMTokenList")},function(c,p,i){var f=i(16),s=i(7),v=i(46),_=i(76),O=i(35),w=i(15),j=i(64),S=i(36),k=i(109),N=i(18),I=i(34),X=i(98),V=i(28),F=i(33),K=i(58),J=i(87),Y=i(32),C=i(38),H=i(39),T=i(86),z=i(40),G=i(71),R=i(54),L=i(66),$=i(72),ie=i(139),fe=i(112),ve=i(51),ye=i(37),pe=i(92),se=i(100),le=i(44),de=i(83),Ee=i(90),Ae=i(69),Me=i(84),Pe=i(27),Ce=i(149),et=i(150),Q=i(73),Z=i(56),oe=i(74).forEach,me=Ee("hidden"),De=Pe("toPrimitive"),we=Z.set,We=Z.getterFor("Symbol"),Ue=Object.prototype,tt=s.Symbol,qe=tt&&tt.prototype,_e=s.TypeError,ee=s.QObject,Fe=v("JSON","stringify"),Xe=ve.f,$e=ye.f,kt=ie.f,ut=pe.f,lt=w([].push),yt=de("symbols"),It=de("op-symbols"),U=de("string-to-symbol-registry"),ne=de("symbol-to-string-registry"),be=de("wks"),re=!ee||!ee.prototype||!ee.prototype.findChild,Se=S&&N(function(){return R($e({},"a",{get:function(){return $e(this,"a",{value:7}).a}})).a!=7})?function(Ie,Ye,Ze){var rt=Xe(Ue,Ye);rt&&delete Ue[Ye],$e(Ie,Ye,Ze),rt&&Ie!==Ue&&$e(Ue,Ye,rt)}:$e,ke=function(Ie,Ye){var Ze=yt[Ie]=R(qe);return we(Ze,{type:"Symbol",tag:Ie,description:Ye}),S||(Ze.description=Ye),Ze},Ne=function(Ie,Ye,Ze){Ie===Ue&&Ne(It,Ye,Ze),Y(Ie);var rt=T(Ye);return Y(Ze),I(yt,rt)?(Ze.enumerable?(I(Ie,me)&&Ie[me][rt]&&(Ie[me][rt]=!1),Ze=R(Ze,{enumerable:G(0,!1)})):(I(Ie,me)||$e(Ie,me,G(1,{})),Ie[me][rt]=!0),Se(Ie,rt,Ze)):$e(Ie,rt,Ze)},Ve=function(Ie,Ye){Y(Ie);var Ze=H(Ye),rt=L(Ze).concat(Jt(Ze));return oe(rt,function(xt){S&&!O(gt,Ze,xt)||Ne(Ie,xt,Ze[xt])}),Ie},gt=function(Ie){var Ye=T(Ie),Ze=O(ut,this,Ye);return!(this===Ue&&I(yt,Ye)&&!I(It,Ye))&&(!(Ze||!I(this,Ye)||!I(yt,Ye)||I(this,me)&&this[me][Ye])||Ze)},wt=function(Ie,Ye){var Ze=H(Ie),rt=T(Ye);if(Ze!==Ue||!I(yt,rt)||I(It,rt)){var xt=Xe(Ze,rt);return!xt||!I(yt,rt)||I(Ze,me)&&Ze[me][rt]||(xt.enumerable=!0),xt}},Wt=function(Ie){var Ye=kt(H(Ie)),Ze=[];return oe(Ye,function(rt){I(yt,rt)||I(Ae,rt)||lt(Ze,rt)}),Ze},Jt=function(Ie){var Ye=Ie===Ue,Ze=kt(Ye?It:H(Ie)),rt=[];return oe(Ze,function(xt){!I(yt,xt)||Ye&&!I(Ue,xt)||lt(rt,yt[xt])}),rt};if(k||(le(qe=(tt=function(){if(K(qe,this))throw _e("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?z(arguments[0]):void 0,Ye=Me(Ie),Ze=function(rt){this===Ue&&O(Ze,It,rt),I(this,me)&&I(this[me],Ye)&&(this[me][Ye]=!1),Se(this,Ye,G(1,rt))};return S&&re&&Se(Ue,Ye,{configurable:!0,set:Ze}),ke(Ye,Ie)}).prototype,"toString",function(){return We(this).tag}),le(tt,"withoutSetter",function(Ie){return ke(Me(Ie),Ie)}),pe.f=gt,ye.f=Ne,ve.f=wt,$.f=ie.f=Wt,fe.f=Jt,Ce.f=function(Ie){return ke(Pe(Ie),Ie)},S&&($e(qe,"description",{configurable:!0,get:function(){return We(this).description}}),j||le(Ue,"propertyIsEnumerable",gt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:tt}),oe(L(be),function(Ie){et(Ie)}),f({target:"Symbol",stat:!0,forced:!k},{for:function(Ie){var Ye=z(Ie);if(I(U,Ye))return U[Ye];var Ze=tt(Ye);return U[Ye]=Ze,ne[Ze]=Ye,Ze},keyFor:function(Ie){if(!J(Ie))throw _e(Ie+" is not a symbol");if(I(ne,Ie))return ne[Ie]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),f({target:"Object",stat:!0,forced:!k,sham:!S},{create:function(Ie,Ye){return Ye===void 0?R(Ie):Ve(R(Ie),Ye)},defineProperty:Ne,defineProperties:Ve,getOwnPropertyDescriptor:wt}),f({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:Wt,getOwnPropertySymbols:Jt}),f({target:"Object",stat:!0,forced:N(function(){fe.f(1)})},{getOwnPropertySymbols:function(Ie){return fe.f(C(Ie))}}),Fe&&f({target:"JSON",stat:!0,forced:!k||N(function(){var Ie=tt();return Fe([Ie])!="[null]"||Fe({a:Ie})!="{}"||Fe(Object(Ie))!="{}"})},{stringify:function(Ie,Ye,Ze){var rt=se(arguments),xt=Ye;if((F(Ye)||Ie!==void 0)&&!J(Ie))return X(Ye)||(Ye=function(Mt,Qt){if(V(xt)&&(Qt=O(xt,this,Mt,Qt)),!J(Qt))return Qt}),rt[1]=Ye,_(Fe,null,rt)}}),!qe[De]){var ct=qe.valueOf;le(qe,De,function(Ie){return O(ct,this)})}Q(tt,"Symbol"),Ae[me]=!0},function(c,p,i){var f=i(146).charAt,s=i(40),v=i(56),_=i(111),O=v.set,w=v.getterFor("String Iterator");_(String,"String",function(j){O(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,S=w(this),k=S.string,N=S.index;return N>=k.length?{value:void 0,done:!0}:(j=f(k,N),S.index+=j.length,{value:j,done:!1})})},function(c,p,i){(function(f){var s=function(v){return v&&v.Math==Math&&v};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,i(81))},function(c,p,i){var f=i(16),s=i(36),v=i(7),_=i(15),O=i(34),w=i(28),j=i(58),S=i(40),k=i(37).f,N=i(134),I=v.Symbol,X=I&&I.prototype;if(s&&w(I)&&(!("description"in X)||I().description!==void 0)){var V={},F=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),G=j(X,this)?new I(z):z===void 0?I():I(z);return z===""&&(V[G]=!0),G};N(F,I),F.prototype=X,X.constructor=F;var K=String(I("test"))=="Symbol(test)",J=_(X.toString),Y=_(X.valueOf),C=/^Symbol\((.*)\)[^)]+$/,H=_("".replace),T=_("".slice);k(X,"description",{configurable:!0,get:function(){var z=Y(this),G=J(z);if(O(V,z))return"";var R=K?T(G,7,-1):H(G,C,"$1");return R===""?void 0:R}}),f({global:!0,forced:!0},{Symbol:F})}},function(c,p,i){i(150)("iterator")},function(c,p,i){i.d(p,"a",function(){return _.a}),i.d(p,"c",function(){return _.e}),i.d(p,"h",function(){return C}),i.d(p,"i",function(){return K}),i.d(p,"j",function(){return V}),i.d(p,"b",function(){return ve}),i.d(p,"e",function(){return le}),i.d(p,"f",function(){return ye}),i.d(p,"g",function(){return lt});var f,s,v,_=i(1),O=0,w=[],j=_.i.__b,S=_.i.__r,k=_.i.diffed,N=_.i.__c,I=_.i.unmount;function X(U,ne){_.i.__h&&_.i.__h(s,U,O||ne),O=0;var be=s.__H||(s.__H={__:[],__h:[]});return U>=be.__.length&&be.__.push({}),be.__[U]}function V(U){return O=1,F($,U)}function F(U,ne,be){var re=X(f++,2);return re.t=U,re.__c||(re.__=[be?be(ne):$(void 0,ne),function(Se){var ke=re.t(re.__[0],Se);re.__[0]!==ke&&(re.__=[ke,re.__[1]],re.__c.setState({}))}],re.__c=s),re.__}function K(U,ne){var be=X(f++,3);!_.i.__s&&L(be.__H,ne)&&(be.__=U,be.__H=ne,s.__H.__h.push(be))}function J(U,ne){var be=X(f++,4);!_.i.__s&&L(be.__H,ne)&&(be.__=U,be.__H=ne,s.__h.push(be))}function Y(U,ne){var be=X(f++,7);return L(be.__H,ne)&&(be.__=U(),be.__H=ne,be.__h=U),be.__}function C(U,ne){return O=8,Y(function(){return U},ne)}function H(){var U;for(w.sort(function(ne,be){return ne.__v.__b-be.__v.__b});U=w.pop();)if(U.__P)try{U.__H.__h.forEach(G),U.__H.__h.forEach(R),U.__H.__h=[]}catch(ne){U.__H.__h=[],_.i.__e(ne,U.__v)}}_.i.__b=function(U){s=null,j&&j(U)},_.i.__r=function(U){S&&S(U),f=0;var ne=(s=U.__c).__H;ne&&(ne.__h.forEach(G),ne.__h.forEach(R),ne.__h=[])},_.i.diffed=function(U){k&&k(U);var ne=U.__c;ne&&ne.__H&&ne.__H.__h.length&&(w.push(ne)!==1&&v===_.i.requestAnimationFrame||((v=_.i.requestAnimationFrame)||z)(H)),s=null},_.i.__c=function(U,ne){ne.some(function(be){try{be.__h.forEach(G),be.__h=be.__h.filter(function(re){return!re.__||R(re)})}catch(re){ne.some(function(Se){Se.__h&&(Se.__h=[])}),ne=[],_.i.__e(re,be.__v)}}),N&&N(U,ne)},_.i.unmount=function(U){I&&I(U);var ne,be=U.__c;be&&be.__H&&(be.__H.__.forEach(function(re){try{G(re)}catch(Se){ne=Se}}),ne&&_.i.__e(ne,be.__v))};var T=typeof requestAnimationFrame=="function";function z(U){var ne,be=function(){clearTimeout(re),T&&cancelAnimationFrame(ne),setTimeout(U)},re=setTimeout(be,100);T&&(ne=requestAnimationFrame(be))}function G(U){var ne=s,be=U.__c;typeof be=="function"&&(U.__c=void 0,be()),s=ne}function R(U){var ne=s;U.__c=U.__(),s=ne}function L(U,ne){return!U||U.length!==ne.length||ne.some(function(be,re){return be!==U[re]})}function $(U,ne){return typeof ne=="function"?ne(U):ne}function ie(U,ne){for(var be in ne)U[be]=ne[be];return U}function fe(U,ne){for(var be in U)if(be!=="__source"&&!(be in ne))return!0;for(var re in ne)if(re!=="__source"&&U[re]!==ne[re])return!0;return!1}function ve(U){this.props=U}function ye(U,ne){function be(Se){var ke=this.props.ref,Ne=ke==Se.ref;return!Ne&&ke&&(ke.call?ke(null):ke.current=null),ne?!ne(this.props,Se)||!Ne:fe(this.props,Se)}function re(Se){return this.shouldComponentUpdate=be,Object(_.e)(U,Se)}return re.displayName="Memo("+(U.displayName||U.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(ve.prototype=new _.a).isPureReactComponent=!0,ve.prototype.shouldComponentUpdate=function(U,ne){return fe(this.props,U)||fe(this.state,ne)};var pe=_.i.__b;_.i.__b=function(U){U.type&&U.type.__f&&U.ref&&(U.props.ref=U.ref,U.ref=null),pe&&pe(U)};var se=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function le(U){function ne(be,re){var Se=ie({},be);return delete Se.ref,U(Se,!(re=be.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return ne.$$typeof=se,ne.render=ne,ne.prototype.isReactComponent=ne.__f=!0,ne.displayName="ForwardRef("+(U.displayName||U.name)+")",ne}var de=function(U,ne){return U==null?null:Object(_.k)(Object(_.k)(U).map(ne))},Ee={map:de,forEach:de,count:function(U){return U?Object(_.k)(U).length:0},only:function(U){var ne=Object(_.k)(U);if(ne.length!==1)throw"Children.only";return ne[0]},toArray:_.k},Ae=_.i.__e;_.i.__e=function(U,ne,be){if(U.then){for(var re,Se=ne;Se=Se.__;)if((re=Se.__c)&&re.__c)return ne.__e==null&&(ne.__e=be.__e,ne.__k=be.__k),re.__c(U,ne)}Ae(U,ne,be)};var Me=_.i.unmount;function Pe(){this.__u=0,this.t=null,this.__b=null}function Ce(U){var ne=U.__.__c;return ne&&ne.__e&&ne.__e(U)}function et(){this.u=null,this.o=null}_.i.unmount=function(U){var ne=U.__c;ne&&ne.__R&&ne.__R(),ne&&U.__h===!0&&(U.type=null),Me&&Me(U)},(Pe.prototype=new _.a).__c=function(U,ne){var be=ne.__c,re=this;re.t==null&&(re.t=[]),re.t.push(be);var Se=Ce(re.__v),ke=!1,Ne=function(){ke||(ke=!0,be.__R=null,Se?Se(Ve):Ve())};be.__R=Ne;var Ve=function(){if(!--re.__u){if(re.state.__e){var wt=re.state.__e;re.__v.__k[0]=function Jt(ct,Ie,Ye){return ct&&(ct.__v=null,ct.__k=ct.__k&&ct.__k.map(function(Ze){return Jt(Ze,Ie,Ye)}),ct.__c&&ct.__c.__P===Ie&&(ct.__e&&Ye.insertBefore(ct.__e,ct.__d),ct.__c.__e=!0,ct.__c.__P=Ye)),ct}(wt,wt.__c.__P,wt.__c.__O)}var Wt;for(re.setState({__e:re.__b=null});Wt=re.t.pop();)Wt.forceUpdate()}},gt=ne.__h===!0;re.__u++||gt||re.setState({__e:re.__b=re.__v.__k[0]}),U.then(Ne,Ne)},Pe.prototype.componentWillUnmount=function(){this.t=[]},Pe.prototype.render=function(U,ne){if(this.__b){if(this.__v.__k){var be=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=function ke(Ne,Ve,gt){return Ne&&(Ne.__c&&Ne.__c.__H&&(Ne.__c.__H.__.forEach(function(wt){typeof wt.__c=="function"&&wt.__c()}),Ne.__c.__H=null),(Ne=ie({},Ne)).__c!=null&&(Ne.__c.__P===gt&&(Ne.__c.__P=Ve),Ne.__c=null),Ne.__k=Ne.__k&&Ne.__k.map(function(wt){return ke(wt,Ve,gt)})),Ne}(this.__b,be,re.__O=re.__P)}this.__b=null}var Se=ne.__e&&Object(_.e)(_.b,null,U.fallback);return Se&&(Se.__h=null),[Object(_.e)(_.b,null,ne.__e?null:U.children),Se]};var Q=function(U,ne,be){if(++be[1]===be[0]&&U.o.delete(ne),U.props.revealOrder&&(U.props.revealOrder[0]!=="t"||!U.o.size))for(be=U.u;be;){for(;be.length>3;)be.pop()();if(be[1]<be[0])break;U.u=be=be[2]}};function Z(U){return this.getChildContext=function(){return U.context},U.children}function oe(U){var ne=this,be=U.i;ne.componentWillUnmount=function(){Object(_.j)(null,ne.l),ne.l=null,ne.i=null},ne.i&&ne.i!==be&&ne.componentWillUnmount(),U.__v?(ne.l||(ne.i=be,ne.l={nodeType:1,parentNode:be,childNodes:[],appendChild:function(re){this.childNodes.push(re),ne.i.appendChild(re)},insertBefore:function(re,Se){this.childNodes.push(re),ne.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),ne.i.removeChild(re)}}),Object(_.j)(Object(_.e)(Z,{context:ne.context},U.__v),ne.l)):ne.l&&ne.componentWillUnmount()}(et.prototype=new _.a).__e=function(U){var ne=this,be=Ce(ne.__v),re=ne.o.get(U);return re[0]++,function(Se){var ke=function(){ne.props.revealOrder?(re.push(Se),Q(ne,U,re)):Se()};be?be(ke):ke()}},et.prototype.render=function(U){this.u=null,this.o=new Map;var ne=Object(_.k)(U.children);U.revealOrder&&U.revealOrder[0]==="b"&&ne.reverse();for(var be=ne.length;be--;)this.o.set(ne[be],this.u=[1,0,this.u]);return U.children},et.prototype.componentDidUpdate=et.prototype.componentDidMount=function(){var U=this;this.o.forEach(function(ne,be){Q(U,be,ne)})};var me=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,De=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,we=typeof document!="undefined",We=function(U){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(U)};_.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(U){Object.defineProperty(_.a.prototype,U,{configurable:!0,get:function(){return this["UNSAFE_"+U]},set:function(ne){Object.defineProperty(this,U,{configurable:!0,writable:!0,value:ne})}})});var Ue=_.i.event;function tt(){}function qe(){return this.cancelBubble}function _e(){return this.defaultPrevented}_.i.event=function(U){return Ue&&(U=Ue(U)),U.persist=tt,U.isPropagationStopped=qe,U.isDefaultPrevented=_e,U.nativeEvent=U};var ee,Fe={configurable:!0,get:function(){return this.class}},Xe=_.i.vnode;_.i.vnode=function(U){var ne=U.type,be=U.props,re=be;if(typeof ne=="string"){var Se=ne.indexOf("-")===-1;for(var ke in re={},be){var Ne=be[ke];we&&ke==="children"&&ne==="noscript"||ke==="value"&&"defaultValue"in be&&Ne==null||(ke==="defaultValue"&&"value"in be&&be.value==null?ke="value":ke==="download"&&Ne===!0?Ne="":/ondoubleclick/i.test(ke)?ke="ondblclick":/^onchange(textarea|input)/i.test(ke+ne)&&!We(be.type)?ke="oninput":/^onfocus$/i.test(ke)?ke="onfocusin":/^onblur$/i.test(ke)?ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(ke)?ke=ke.toLowerCase():Se&&De.test(ke)?ke=ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ne===null&&(Ne=void 0),re[ke]=Ne)}ne=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(_.k)(be.children).forEach(function(Ve){Ve.props.selected=re.value.indexOf(Ve.props.value)!=-1})),ne=="select"&&re.defaultValue!=null&&(re.value=Object(_.k)(be.children).forEach(function(Ve){Ve.props.selected=re.multiple?re.defaultValue.indexOf(Ve.props.value)!=-1:re.defaultValue==Ve.props.value})),U.props=re,be.class!=be.className&&(Fe.enumerable="className"in be,be.className!=null&&(re.class=be.className),Object.defineProperty(re,"className",Fe))}U.$$typeof=me,Xe&&Xe(U)};var $e=_.i.__r;_.i.__r=function(U){$e&&$e(U),ee=U.__c};var kt={ReactCurrentDispatcher:{current:{readContext:function(U){return ee.__n[U.__c].props.value}}}};function ut(U){return!!U&&U.$$typeof===me}var lt=function(U,ne){return U(ne)},yt=_.b,It={useState:V,useReducer:F,useEffect:K,useLayoutEffect:J,useRef:function(U){return O=5,Y(function(){return{current:U}},[])},useImperativeHandle:function(U,ne,be){O=6,J(function(){typeof U=="function"?U(ne()):U&&(U.current=ne())},be==null?be:be.concat(U))},useMemo:Y,useCallback:C,useContext:function(U){var ne=s.context[U.__c],be=X(f++,9);return be.c=U,ne?(be.__==null&&(be.__=!0,ne.sub(s)),ne.props.value):U.__},useDebugValue:function(U,ne){_.i.useDebugValue&&_.i.useDebugValue(ne?ne(U):U)},version:"17.0.2",Children:Ee,render:function(U,ne,be){return ne.__k==null&&(ne.textContent=""),Object(_.j)(U,ne),typeof be=="function"&&be(),U?U.__c:null},hydrate:function(U,ne,be){return Object(_.h)(U,ne),typeof be=="function"&&be(),U?U.__c:null},unmountComponentAtNode:function(U){return!!U.__k&&(Object(_.j)(null,U),!0)},createPortal:function(U,ne){return Object(_.e)(oe,{__v:U,i:ne})},createElement:_.e,createContext:_.d,createFactory:function(U){return _.e.bind(null,U)},cloneElement:function(U){return ut(U)?_.c.apply(null,arguments):U},createRef:_.f,Fragment:_.b,isValidElement:ut,findDOMNode:function(U){return U&&(U.base||U.nodeType===1&&U)||null},Component:_.a,PureComponent:ve,memo:ye,forwardRef:le,flushSync:function(U,ne){return U(ne)},unstable_batchedUpdates:lt,StrictMode:yt,Suspense:Pe,SuspenseList:et,lazy:function(U){var ne,be,re;function Se(ke){if(ne||(ne=U()).then(function(Ne){be=Ne.default||Ne},function(Ne){re=Ne}),re)throw re;if(!be)throw ne;return Object(_.e)(be,ke)}return Se.displayName="Lazy",Se.__f=!0,Se},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:kt};p.d=It},function(c,p,i){var f=i(7),s=i(147),v=i(148),_=i(178),O=i(57),w=function(S){if(S&&S.forEach!==_)try{O(S,"forEach",_)}catch{S.forEach=_}};for(var j in s)s[j]&&w(f[j]&&f[j].prototype);w(v)},function(c,p,i){i(16)({target:"Object",stat:!0},{setPrototypeOf:i(96)})},function(c,p,i){var f=i(16),s=i(18),v=i(38),_=i(95),O=i(137);f({target:"Object",stat:!0,forced:s(function(){_(1)}),sham:!O},{getPrototypeOf:function(w){return _(v(w))}})},function(c,p,i){var f=i(16),s=i(46),v=i(76),_=i(198),O=i(157),w=i(32),j=i(33),S=i(54),k=i(18),N=s("Reflect","construct"),I=Object.prototype,X=[].push,V=k(function(){function J(){}return!(N(function(){},[],J)instanceof J)}),F=!k(function(){N(function(){})}),K=V||F;f({target:"Reflect",stat:!0,forced:K,sham:K},{construct:function(J,Y){O(J),w(Y);var C=arguments.length<3?J:O(arguments[2]);if(F&&!V)return N(J,Y,C);if(J==C){switch(Y.length){case 0:return new J;case 1:return new J(Y[0]);case 2:return new J(Y[0],Y[1]);case 3:return new J(Y[0],Y[1],Y[2]);case 4:return new J(Y[0],Y[1],Y[2],Y[3])}var H=[null];return v(X,H,Y),new(v(_,J,H))}var T=C.prototype,z=S(j(T)?T:I),G=v(J,z,Y);return j(G)?G:z}})},function(c,p){var i=Function.prototype,f=i.bind,s=i.call,v=f&&f.bind(s);c.exports=f?function(_){return _&&v(s,_)}:function(_){return _&&function(){return s.apply(_,arguments)}}},function(c,p,i){var f=i(7),s=i(51).f,v=i(57),_=i(44),O=i(108),w=i(134),j=i(94);c.exports=function(S,k){var N,I,X,V,F,K=S.target,J=S.global,Y=S.stat;if(N=J?f:Y?f[K]||O(K,{}):(f[K]||{}).prototype)for(I in k){if(V=k[I],X=S.noTargetGet?(F=s(N,I))&&F.value:N[I],!j(J?I:K+(Y?".":"#")+I,S.forced)&&X!==void 0){if(typeof V==typeof X)continue;w(V,X)}(S.sham||X&&X.sham)&&v(V,"sham",!0),_(N,I,V,S)}}},function(c,p,i){var f=i(16),s=i(7),v=i(98),_=i(99),O=i(33),w=i(67),j=i(43),S=i(39),k=i(61),N=i(27),I=i(75),X=i(100),V=I("slice"),F=N("species"),K=s.Array,J=Math.max;f({target:"Array",proto:!0,forced:!V},{slice:function(Y,C){var H,T,z,G=S(this),R=j(G),L=w(Y,R),$=w(C===void 0?R:C,R);if(v(G)&&(H=G.constructor,(_(H)&&(H===K||v(H.prototype))||O(H)&&(H=H[F])===null)&&(H=void 0),H===K||H===void 0))return X(G,L,$);for(T=new(H===void 0?K:H)(J($-L,0)),z=0;L<$;L++,z++)L in G&&k(T,z,G[L]);return T.length=z,T}})},function(c,p){c.exports=function(i){try{return!!i()}catch{return!0}}},function(c,p,i){var f=i(16),s=i(101);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p,i){var f=i(16),s=i(38),v=i(66);f({target:"Object",stat:!0,forced:i(18)(function(){v(1)})},{keys:function(_){return v(s(_))}})},function(c,p,i){var f=i(16),s=i(18),v=i(39),_=i(51).f,O=i(36),w=s(function(){_(1)});f({target:"Object",stat:!0,forced:!O||w,sham:!O},{getOwnPropertyDescriptor:function(j,S){return _(v(j),S)}})},function(c,p,i){var f=i(16),s=i(74).filter;f({target:"Array",proto:!0,forced:!i(75)("filter")},{filter:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(16),s=i(36),v=i(135),_=i(39),O=i(51),w=i(61);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var S,k,N=_(j),I=O.f,X=v(N),V={},F=0;X.length>F;)(k=I(N,S=X[F++]))!==void 0&&w(V,S,k);return V}})},function(c,p,i){var f=i(36),s=i(93).EXISTS,v=i(15),_=i(37).f,O=Function.prototype,w=v(O.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=v(j.exec);f&&!s&&_(O,"name",{configurable:!0,get:function(){try{return S(j,w(this))[1]}catch{return""}}})},function(c,p,i){var f=i(16),s=i(181);f({target:"Array",stat:!0,forced:!i(118)(function(v){Array.from(v)})},{from:s})},,function(c,p,i){var f=i(7),s=i(83),v=i(34),_=i(84),O=i(109),w=i(128),j=s("wks"),S=f.Symbol,k=S&&S.for,N=w?S:S&&S.withoutSetter||_;c.exports=function(I){if(!v(j,I)||!O&&typeof j[I]!="string"){var X="Symbol."+I;O&&v(S,I)?j[I]=S[I]:j[I]=w&&k?k(X):N(X)}return j[I]}},function(c,p){c.exports=function(i){return typeof i=="function"}},function(c,p,i){var f=i(16),s=i(7),v=i(18),_=i(98),O=i(33),w=i(38),j=i(43),S=i(61),k=i(119),N=i(75),I=i(27),X=i(65),V=I("isConcatSpreadable"),F=s.TypeError,K=X>=51||!v(function(){var C=[];return C[V]=!1,C.concat()[0]!==C}),J=N("concat"),Y=function(C){if(!O(C))return!1;var H=C[V];return H!==void 0?!!H:_(C)};f({target:"Array",proto:!0,forced:!K||!J},{concat:function(C){var H,T,z,G,R,L=w(this),$=k(L,0),ie=0;for(H=-1,z=arguments.length;H<z;H++)if(Y(R=H===-1?L:arguments[H])){if(ie+(G=j(R))>9007199254740991)throw F("Maximum allowed index exceeded");for(T=0;T<G;T++,ie++)T in R&&S($,ie,R[T])}else{if(ie>=9007199254740991)throw F("Maximum allowed index exceeded");S($,ie++,R)}return $.length=ie,$}})},function(c,p,i){var f=i(105),s=typeof self=="object"&&self&&self.Object===Object&&self,v=f.a||s||Function("return this")();p.a=v},function(c,p,i){var f=i(16),s=i(200);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,i){var f=i(7),s=i(33),v=f.String,_=f.TypeError;c.exports=function(O){if(s(O))return O;throw _(v(O)+" is not an object")}},function(c,p,i){var f=i(28);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},function(c,p,i){var f=i(15),s=i(38),v=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(_,O){return v(s(_),O)}},function(c,p){var i=Function.prototype.call;c.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,i){var f=i(7),s=i(36),v=i(129),_=i(32),O=i(86),w=f.TypeError,j=Object.defineProperty;p.f=s?j:function(S,k,N){if(_(S),k=O(k),_(N),v)try{return j(S,k,N)}catch{}if("get"in N||"set"in N)throw w("Accessors not supported");return"value"in N&&(S[k]=N.value),S}},function(c,p,i){var f=i(7),s=i(45),v=f.Object;c.exports=function(_){return v(s(_))}},function(c,p,i){var f=i(80),s=i(45);c.exports=function(v){return f(s(v))}},function(c,p,i){var f=i(7),s=i(97),v=f.String;c.exports=function(_){if(s(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(_)}},function(c,p,i){var f=i(16),s=i(74).map;f({target:"Array",proto:!0,forced:!i(75)("map")},{map:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){(function(f){i.d(p,"d",function(){return _}),i.d(p,"c",function(){return O}),i.d(p,"b",function(){return w}),i.d(p,"a",function(){return S});var s=i(10),v=function(k,N){var I=typeof Symbol=="function"&&k[Symbol.iterator];if(!I)return k;var X,V,F=I.call(k),K=[];try{for(;(N===void 0||N-- >0)&&!(X=F.next()).done;)K.push(X.value)}catch(J){V={error:J}}finally{try{X&&!X.done&&(I=F.return)&&I.call(F)}finally{if(V)throw V.error}}return K};function _(){var k=v(Object(s.j)(0),2)[1];return Object(s.h)(function(){k(function(N){return N+1})},[])}function O(k){if(!k||typeof k!="object")return!1;var N=Object.getPrototypeOf(k);return!N||N===Object.prototype}function w(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var j={};function S(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:j}}).call(this,i(81))},function(c,p,i){var f=i(89);c.exports=function(s){return f(s.length)}},function(c,p,i){var f=i(7),s=i(28),v=i(34),_=i(57),O=i(108),w=i(91),j=i(56),S=i(93).CONFIGURABLE,k=j.get,N=j.enforce,I=String(String).split("String");(c.exports=function(X,V,F,K){var J,Y=!!K&&!!K.unsafe,C=!!K&&!!K.enumerable,H=!!K&&!!K.noTargetGet,T=K&&K.name!==void 0?K.name:V;s(F)&&(String(T).slice(0,7)==="Symbol("&&(T="["+String(T).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v(F,"name")||S&&F.name!==T)&&_(F,"name",T),(J=N(F)).source||(J.source=I.join(typeof T=="string"?T:""))),X!==f?(Y?!H&&X[V]&&(C=!0):delete X[V],C?X[V]=F:_(X,V,F)):C?X[V]=F:O(V,F)})(Function.prototype,"toString",function(){return s(this)&&k(this).source||w(this)})},function(c,p,i){var f=i(7).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,i){var f=i(7),s=i(28),v=function(_){return s(_)?_:void 0};c.exports=function(_,O){return arguments.length<2?v(f[_]):f[_]&&f[_][O]}},function(c,p,i){var f=i(16),s=i(35),v=i(33),_=i(32),O=i(199),w=i(51),j=i(95);f({target:"Reflect",stat:!0},{get:function S(k,N){var I,X,V=arguments.length<3?k:arguments[2];return _(k)===V?k[N]:(I=w.f(k,N))?O(I)?I.value:I.get===void 0?void 0:s(I.get,V):v(X=j(k))?S(X,N,V):void 0}})},function(c,p,i){(function(f){var s=i(30),v=i(164),_=h&&!h.nodeType&&h,O=_&&typeof f=="object"&&f&&!f.nodeType&&f,w=O&&O.exports===_?s.a.Buffer:void 0,j=(w?w.isBuffer:void 0)||v.a;p.a=j}).call(this,i(121)(c))},function(c,p,i){(function(f){var s=i(105),v=h&&!h.nodeType&&h,_=v&&typeof f=="object"&&f&&!f.nodeType&&f,O=_&&_.exports===v&&s.a.process,w=function(){try{var j=_&&_.require&&_.require("util").types;return j||O&&O.binding&&O.binding("util")}catch{}}();p.a=w}).call(this,i(121)(c))},function(c,p,i){var f=i(15),s=f({}.toString),v=f("".slice);c.exports=function(_){return v(s(_),8,-1)}},function(c,p,i){var f=i(36),s=i(35),v=i(92),_=i(71),O=i(39),w=i(86),j=i(34),S=i(129),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(N,I){if(N=O(N),I=w(I),S)try{return k(N,I)}catch{}if(j(N,I))return _(!s(v.f,N,I),N[I])}},function(c,p,i){var f=i(16),s=i(213).entries;f({target:"Object",stat:!0},{entries:function(v){return s(v)}})},function(c,p,i){var f=i(46);c.exports=f("navigator","userAgent")||""},function(c,p,i){var f,s=i(32),v=i(167),_=i(110),O=i(69),w=i(133),j=i(85),S=i(90),k=S("IE_PROTO"),N=function(){},I=function(F){return"<script>"+F+"<\/script>"},X=function(F){F.write(I("")),F.close();var K=F.parentWindow.Object;return F=null,K},V=function(){try{f=new ActiveXObject("htmlfile")}catch{}var F,K;V=typeof document!="undefined"?document.domain&&f?X(f):((K=j("iframe")).style.display="none",w.appendChild(K),K.src=String("javascript:"),(F=K.contentWindow.document).open(),F.write(I("document.F=Object")),F.close(),F.F):X(f);for(var J=_.length;J--;)delete V.prototype[_[J]];return V()};O[k]=!0,c.exports=Object.create||function(F,K){var J;return F!==null?(N.prototype=s(F),J=new N,N.prototype=null,J[k]=F):J=V(),K===void 0?J:v(J,K)}},function(c,p,i){var f=i(7),s=i(28),v=i(88),_=f.TypeError;c.exports=function(O){if(s(O))return O;throw _(v(O)+" is not a function")}},function(c,p,i){var f,s,v,_=i(169),O=i(7),w=i(15),j=i(33),S=i(57),k=i(34),N=i(107),I=i(90),X=i(69),V=O.TypeError,F=O.WeakMap;if(_||N.state){var K=N.state||(N.state=new F),J=w(K.get),Y=w(K.has),C=w(K.set);f=function(T,z){if(Y(K,T))throw new V("Object already initialized");return z.facade=T,C(K,T,z),z},s=function(T){return J(K,T)||{}},v=function(T){return Y(K,T)}}else{var H=I("state");X[H]=!0,f=function(T,z){if(k(T,H))throw new V("Object already initialized");return z.facade=T,S(T,H,z),z},s=function(T){return k(T,H)?T[H]:{}},v=function(T){return k(T,H)}}c.exports={set:f,get:s,has:v,enforce:function(T){return v(T)?s(T):f(T,{})},getterFor:function(T){return function(z){var G;if(!j(z)||(G=s(z)).type!==T)throw V("Incompatible receiver, "+T+" required");return G}}}},function(c,p,i){var f=i(36),s=i(37),v=i(71);c.exports=f?function(_,O,w){return s.f(_,O,v(1,w))}:function(_,O,w){return _[O]=w,_}},function(c,p,i){var f=i(15);c.exports=f({}.isPrototypeOf)},function(c,p,i){var f=i(55);c.exports=function(s,v){var _=s[v];return _==null?void 0:f(_)}},function(c,p,i){i(172)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},i(176))},function(c,p,i){var f=i(86),s=i(37),v=i(71);c.exports=function(_,O,w){var j=f(O);j in _?s.f(_,j,v(0,w)):_[j]=w}},function(c,p,i){var f=i(15),s=i(55),v=f(f.bind);c.exports=function(_,O){return s(_),O===void 0?_:v?v(_,O):function(){return _.apply(O,arguments)}}},function(c,p,i){var f=i(16),s=i(214),v=i(82);f({target:"Array",proto:!0},{fill:s}),v("fill")},function(c,p){c.exports=!1},function(c,p,i){var f,s,v=i(7),_=i(53),O=v.process,w=v.Deno,j=O&&O.versions||w&&w.version,S=j&&j.v8;S&&(s=(f=S.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&_&&(!(f=_.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=_.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,i){var f=i(131),s=i(110);c.exports=Object.keys||function(v){return f(v,s)}},function(c,p,i){var f=i(68),s=Math.max,v=Math.min;c.exports=function(_,O){var w=f(_);return w<0?s(w+O,0):v(w,O)}},function(c,p){var i=Math.ceil,f=Math.floor;c.exports=function(s){var v=+s;return v!=v||v===0?0:(v>0?f:i)(v)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(i,f){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:f}}},function(c,p,i){var f=i(131),s=i(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(v){return f(v,s)}},function(c,p,i){var f=i(37).f,s=i(34),v=i(27)("toStringTag");c.exports=function(_,O,w){_&&!s(_=w?_:_.prototype,v)&&f(_,v,{configurable:!0,value:O})}},function(c,p,i){var f=i(62),s=i(15),v=i(80),_=i(38),O=i(43),w=i(119),j=s([].push),S=function(k){var N=k==1,I=k==2,X=k==3,V=k==4,F=k==6,K=k==7,J=k==5||F;return function(Y,C,H,T){for(var z,G,R=_(Y),L=v(R),$=f(C,H),ie=O(L),fe=0,ve=T||w,ye=N?ve(Y,ie):I||K?ve(Y,0):void 0;ie>fe;fe++)if((J||fe in L)&&(G=$(z=L[fe],fe,R),k))if(N)ye[fe]=G;else if(G)switch(k){case 3:return!0;case 5:return z;case 6:return fe;case 2:j(ye,z)}else switch(k){case 4:return!1;case 7:j(ye,z)}return F?-1:X||V?V:ye}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},function(c,p,i){var f=i(18),s=i(27),v=i(65),_=s("species");c.exports=function(O){return v>=51||!f(function(){var w=[];return(w.constructor={})[_]=function(){return{foo:1}},w[O](Boolean).foo!==1})}},function(c,p){var i=Function.prototype,f=i.apply,s=i.bind,v=i.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?v.bind(f):function(){return v.apply(f,arguments)})},function(c,p,i){var f=i(76),s=i(35),v=i(15),_=i(122),O=i(154),w=i(32),j=i(45),S=i(156),k=i(123),N=i(89),I=i(40),X=i(59),V=i(113),F=i(124),K=i(101),J=i(151),Y=i(18),C=J.UNSUPPORTED_Y,H=Math.min,T=[].push,z=v(/./.exec),G=v(T),R=v("".slice);_("split",function(L,$,ie){var fe;return fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ve,ye){var pe=I(j(this)),se=ye===void 0?4294967295:ye>>>0;if(se===0)return[];if(ve===void 0)return[pe];if(!O(ve))return s($,pe,ve,se);for(var le,de,Ee,Ae=[],Me=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+(ve.sticky?"y":""),Pe=0,Ce=new RegExp(ve.source,Me+"g");(le=s(K,Ce,pe))&&!((de=Ce.lastIndex)>Pe&&(G(Ae,R(pe,Pe,le.index)),le.length>1&&le.index<pe.length&&f(T,Ae,V(le,1)),Ee=le[0].length,Pe=de,Ae.length>=se));)Ce.lastIndex===le.index&&Ce.lastIndex++;return Pe===pe.length?!Ee&&z(Ce,"")||G(Ae,""):G(Ae,R(pe,Pe)),Ae.length>se?V(Ae,0,se):Ae}:"0".split(void 0,0).length?function(ve,ye){return ve===void 0&&ye===0?[]:s($,this,ve,ye)}:$,[function(ve,ye){var pe=j(this),se=ve==null?void 0:X(ve,L);return se?s(se,ve,pe,ye):s(fe,I(pe),ve,ye)},function(ve,ye){var pe=w(this),se=I(ve),le=ie(fe,pe,se,ye,fe!==$);if(le.done)return le.value;var de=S(pe,RegExp),Ee=pe.unicode,Ae=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(C?"g":"y"),Me=new de(C?"^(?:"+pe.source+")":pe,Ae),Pe=ye===void 0?4294967295:ye>>>0;if(Pe===0)return[];if(se.length===0)return F(Me,se)===null?[se]:[];for(var Ce=0,et=0,Q=[];et<se.length;){Me.lastIndex=C?0:et;var Z,oe=F(Me,C?R(se,et):se);if(oe===null||(Z=H(N(Me.lastIndex+(C?et:0)),se.length))===Ce)et=k(se,et,Ee);else{if(G(Q,R(se,Ce,et)),Q.length===Pe)return Q;for(var me=1;me<=oe.length-1;me++)if(G(Q,oe[me]),Q.length===Pe)return Q;et=Ce=Z}}return G(Q,R(se,Ce)),Q}]},!!Y(function(){var L=/(?:)/,$=L.exec;L.exec=function(){return $.apply(this,arguments)};var ie="ab".split(L);return ie.length!==2||ie[0]!=="a"||ie[1]!=="b"}),C)},function(c,p,i){var f=i(36),s=i(7),v=i(15),_=i(94),O=i(44),w=i(34),j=i(143),S=i(58),k=i(87),N=i(130),I=i(18),X=i(72).f,V=i(51).f,F=i(37).f,K=i(196),J=i(158).trim,Y=s.Number,C=Y.prototype,H=s.TypeError,T=v("".slice),z=v("".charCodeAt),G=function(ve){var ye=N(ve,"number");return typeof ye=="bigint"?ye:R(ye)},R=function(ve){var ye,pe,se,le,de,Ee,Ae,Me,Pe=N(ve,"number");if(k(Pe))throw H("Cannot convert a Symbol value to a number");if(typeof Pe=="string"&&Pe.length>2){if(Pe=J(Pe),(ye=z(Pe,0))===43||ye===45){if((pe=z(Pe,2))===88||pe===120)return NaN}else if(ye===48){switch(z(Pe,1)){case 66:case 98:se=2,le=49;break;case 79:case 111:se=8,le=55;break;default:return+Pe}for(Ee=(de=T(Pe,2)).length,Ae=0;Ae<Ee;Ae++)if((Me=z(de,Ae))<48||Me>le)return NaN;return parseInt(de,se)}}return+Pe};if(_("Number",!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var L,$=function(ve){var ye=arguments.length<1?0:Y(G(ve)),pe=this;return S(C,pe)&&I(function(){K(pe)})?j(Object(ye),pe,$):ye},ie=f?X(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),fe=0;ie.length>fe;fe++)w(Y,L=ie[fe])&&!w($,L)&&F($,L,V(Y,L));$.prototype=C,C.constructor=$,O(s,"Number",$)}},function(c,p,i){i(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,i){var f=i(7),s=i(15),v=i(18),_=i(50),O=f.Object,w=s("".split);c.exports=v(function(){return!O("z").propertyIsEnumerable(0)})?function(j){return _(j)=="String"?w(j,""):O(j)}:O},function(c,p){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}c.exports=i},function(c,p,i){var f=i(27),s=i(54),v=i(37),_=f("unscopables"),O=Array.prototype;O[_]==null&&v.f(O,_,{configurable:!0,value:s(null)}),c.exports=function(w){O[_][w]=!0}},function(c,p,i){var f=i(64),s=i(107);(c.exports=function(v,_){return s[v]||(s[v]=_!==void 0?_:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p,i){var f=i(15),s=0,v=Math.random(),_=f(1 .toString);c.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+_(++s+v,36)}},function(c,p,i){var f=i(7),s=i(33),v=f.document,_=s(v)&&s(v.createElement);c.exports=function(O){return _?v.createElement(O):{}}},function(c,p,i){var f=i(130),s=i(87);c.exports=function(v){var _=f(v,"string");return s(_)?_:_+""}},function(c,p,i){var f=i(7),s=i(46),v=i(28),_=i(58),O=i(128),w=f.Object;c.exports=O?function(j){return typeof j=="symbol"}:function(j){var S=s("Symbol");return v(S)&&_(S.prototype,w(j))}},function(c,p,i){var f=i(7).String;c.exports=function(s){try{return f(s)}catch{return"Object"}}},function(c,p,i){var f=i(68),s=Math.min;c.exports=function(v){return v>0?s(f(v),9007199254740991):0}},function(c,p,i){var f=i(83),s=i(84),v=f("keys");c.exports=function(_){return v[_]||(v[_]=s(_))}},function(c,p,i){var f=i(15),s=i(28),v=i(107),_=f(Function.toString);s(v.inspectSource)||(v.inspectSource=function(O){return _(O)}),c.exports=v.inspectSource},function(c,p,i){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,v=s&&!f.call({1:2},1);p.f=v?function(_){var O=s(this,_);return!!O&&O.enumerable}:f},function(c,p,i){var f=i(36),s=i(34),v=Function.prototype,_=f&&Object.getOwnPropertyDescriptor,O=s(v,"name"),w=O&&function(){}.name==="something",j=O&&(!f||f&&_(v,"name").configurable);c.exports={EXISTS:O,PROPER:w,CONFIGURABLE:j}},function(c,p,i){var f=i(18),s=i(28),v=/#|\.prototype\./,_=function(k,N){var I=w[O(k)];return I==S||I!=j&&(s(N)?f(N):!!N)},O=_.normalize=function(k){return String(k).replace(v,".").toLowerCase()},w=_.data={},j=_.NATIVE="N",S=_.POLYFILL="P";c.exports=_},function(c,p,i){var f=i(7),s=i(34),v=i(28),_=i(38),O=i(90),w=i(137),j=O("IE_PROTO"),S=f.Object,k=S.prototype;c.exports=w?S.getPrototypeOf:function(N){var I=_(N);if(s(I,j))return I[j];var X=I.constructor;return v(X)&&I instanceof X?X.prototype:I instanceof S?k:null}},function(c,p,i){var f=i(15),s=i(32),v=i(171);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _,O=!1,w={};try{(_=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(w,[]),O=w instanceof Array}catch{}return function(j,S){return s(j),v(S),O?_(j,S):j.__proto__=S,j}}():void 0)},function(c,p,i){var f=i(7),s=i(116),v=i(28),_=i(50),O=i(27)("toStringTag"),w=f.Object,j=_(function(){return arguments}())=="Arguments";c.exports=s?_:function(S){var k,N,I;return S===void 0?"Undefined":S===null?"Null":typeof(N=function(X,V){try{return X[V]}catch{}}(k=w(S),O))=="string"?N:j?_(k):(I=_(k))=="Object"&&v(k.callee)?"Arguments":I}},function(c,p,i){var f=i(50);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,i){var f=i(15),s=i(18),v=i(28),_=i(97),O=i(46),w=i(91),j=function(){},S=[],k=O("Reflect","construct"),N=/^\s*(?:class|function)\b/,I=f(N.exec),X=!N.exec(j),V=function(F){if(!v(F))return!1;try{return k(j,S,F),!0}catch{return!1}};c.exports=!k||s(function(){var F;return V(V.call)||!V(Object)||!V(function(){F=!0})||F})?function(F){if(!v(F))return!1;switch(_(F)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return X||!!I(N,w(F))}:V},function(c,p,i){var f=i(15);c.exports=f([].slice)},function(c,p,i){var f,s,v=i(35),_=i(15),O=i(40),w=i(183),j=i(151),S=i(83),k=i(54),N=i(56).get,I=i(184),X=i(185),V=S("native-string-replace",String.prototype.replace),F=RegExp.prototype.exec,K=F,J=_("".charAt),Y=_("".indexOf),C=_("".replace),H=_("".slice),T=(s=/b*/g,v(F,f=/a/,"a"),v(F,s,"a"),f.lastIndex!==0||s.lastIndex!==0),z=j.BROKEN_CARET,G=/()??/.exec("")[1]!==void 0;(T||G||z||I||X)&&(K=function(R){var L,$,ie,fe,ve,ye,pe,se=this,le=N(se),de=O(R),Ee=le.raw;if(Ee)return Ee.lastIndex=se.lastIndex,L=v(K,Ee,de),se.lastIndex=Ee.lastIndex,L;var Ae=le.groups,Me=z&&se.sticky,Pe=v(w,se),Ce=se.source,et=0,Q=de;if(Me&&(Pe=C(Pe,"y",""),Y(Pe,"g")===-1&&(Pe+="g"),Q=H(de,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&J(de,se.lastIndex-1)!==`
`)&&(Ce="(?: "+Ce+")",Q=" "+Q,et++),$=new RegExp("^(?:"+Ce+")",Pe)),G&&($=new RegExp("^"+Ce+"$(?!\\s)",Pe)),T&&(ie=se.lastIndex),fe=v(F,Me?$:se,Q),Me?fe?(fe.input=H(fe.input,et),fe[0]=H(fe[0],et),fe.index=se.lastIndex,se.lastIndex+=fe[0].length):se.lastIndex=0:T&&fe&&(se.lastIndex=se.global?fe.index+fe[0].length:ie),G&&fe&&fe.length>1&&v(V,fe[0],$,function(){for(ve=1;ve<arguments.length-2;ve++)arguments[ve]===void 0&&(fe[ve]=void 0)}),fe&&Ae)for(fe.groups=ye=k(null),ve=0;ve<Ae.length;ve++)ye[(pe=Ae[ve])[0]]=fe[pe[1]];return fe}),c.exports=K},function(c,p,i){var f=i(16),s=i(7),v=i(67),_=i(68),O=i(43),w=i(38),j=i(119),S=i(61),k=i(75)("splice"),N=s.TypeError,I=Math.max,X=Math.min;f({target:"Array",proto:!0,forced:!k},{splice:function(V,F){var K,J,Y,C,H,T,z=w(this),G=O(z),R=v(V,G),L=arguments.length;if(L===0?K=J=0:L===1?(K=0,J=G-R):(K=L-2,J=X(I(_(F),0),G-R)),G+K-J>9007199254740991)throw N("Maximum allowed length exceeded");for(Y=j(z,J),C=0;C<J;C++)(H=R+C)in z&&S(Y,C,z[H]);if(Y.length=J,K<J){for(C=R;C<G-J;C++)T=C+K,(H=C+J)in z?z[T]=z[H]:delete z[T];for(C=G;C>G-J+K;C--)delete z[C-1]}else if(K>J)for(C=G-J;C>R;C--)T=C+K-1,(H=C+J-1)in z?z[T]=z[H]:delete z[T];for(C=0;C<K;C++)z[C+R]=arguments[C+2];return z.length=G-J+K,Y}})},function(c,p,i){var f=i(16),s=i(15),v=i(80),_=i(39),O=i(120),w=s([].join),j=v!=Object,S=O("join",",");f({target:"Array",proto:!0,forced:j||!S},{join:function(k){return w(_(this),k===void 0?",":k)}})},function(c,p,i){var f=i(16),s=i(201);f({target:"String",proto:!0,forced:i(202)("anchor")},{anchor:function(v){return s(this,"a","name",v)}})},function(c,p,i){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,i(81))},function(c,p,i){(function(f){var s=i(30),v=h&&!h.nodeType&&h,_=v&&typeof f=="object"&&f&&!f.nodeType&&f,O=_&&_.exports===v?s.a.Buffer:void 0,w=O?O.allocUnsafe:void 0;p.a=function(j,S){if(S)return j.slice();var k=j.length,N=w?w(k):new j.constructor(k);return j.copy(N),N}}).call(this,i(121)(c))},function(c,p,i){var f=i(7),s=i(108),v=f["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=v},function(c,p,i){var f=i(7),s=Object.defineProperty;c.exports=function(v,_){try{s(f,v,{value:_,configurable:!0,writable:!0})}catch{f[v]=_}return _}},function(c,p,i){var f=i(65),s=i(18);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,i){var f=i(16),s=i(35),v=i(64),_=i(93),O=i(28),w=i(170),j=i(95),S=i(96),k=i(73),N=i(57),I=i(44),X=i(27),V=i(70),F=i(136),K=_.PROPER,J=_.CONFIGURABLE,Y=F.IteratorPrototype,C=F.BUGGY_SAFARI_ITERATORS,H=X("iterator"),T=function(){return this};c.exports=function(z,G,R,L,$,ie,fe){w(R,G,L);var ve,ye,pe,se=function(Ce){if(Ce===$&&Me)return Me;if(!C&&Ce in Ee)return Ee[Ce];switch(Ce){case"keys":case"values":case"entries":return function(){return new R(this,Ce)}}return function(){return new R(this)}},le=G+" Iterator",de=!1,Ee=z.prototype,Ae=Ee[H]||Ee["@@iterator"]||$&&Ee[$],Me=!C&&Ae||se($),Pe=G=="Array"&&Ee.entries||Ae;if(Pe&&(ve=j(Pe.call(new z)))!==Object.prototype&&ve.next&&(v||j(ve)===Y||(S?S(ve,Y):O(ve[H])||I(ve,H,T)),k(ve,le,!0,!0),v&&(V[le]=T)),K&&$=="values"&&Ae&&Ae.name!=="values"&&(!v&&J?N(Ee,"name","values"):(de=!0,Me=function(){return s(Ae,this)})),$)if(ye={values:se("values"),keys:ie?Me:se("keys"),entries:se("entries")},fe)for(pe in ye)(C||de||!(pe in Ee))&&I(Ee,pe,ye[pe]);else f({target:G,proto:!0,forced:C||de},ye);return v&&!fe||Ee[H]===Me||I(Ee,H,Me,{name:$}),V[G]=Me,ye}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,i){var f=i(7),s=i(67),v=i(43),_=i(61),O=f.Array,w=Math.max;c.exports=function(j,S,k){for(var N=v(j),I=s(S,N),X=s(k===void 0?N:k,N),V=O(w(X-I,0)),F=0;I<X;I++,F++)_(V,F,j[I]);return V.length=F,V}},function(c,p,i){var f=i(7),s=i(62),v=i(35),_=i(32),O=i(88),w=i(140),j=i(43),S=i(58),k=i(141),N=i(115),I=i(142),X=f.TypeError,V=function(K,J){this.stopped=K,this.result=J},F=V.prototype;c.exports=function(K,J,Y){var C,H,T,z,G,R,L,$=Y&&Y.that,ie=!(!Y||!Y.AS_ENTRIES),fe=!(!Y||!Y.IS_ITERATOR),ve=!(!Y||!Y.INTERRUPTED),ye=s(J,$),pe=function(le){return C&&I(C,"normal",le),new V(!0,le)},se=function(le){return ie?(_(le),ve?ye(le[0],le[1],pe):ye(le[0],le[1])):ve?ye(le,pe):ye(le)};if(fe)C=K;else{if(!(H=N(K)))throw X(O(K)+" is not iterable");if(w(H)){for(T=0,z=j(K);z>T;T++)if((G=se(K[T]))&&S(F,G))return G;return new V(!1)}C=k(K,H)}for(R=C.next;!(L=v(R,C)).done;){try{G=se(L.value)}catch(le){I(C,"throw",le)}if(typeof G=="object"&&G&&S(F,G))return G}return new V(!1)}},function(c,p,i){var f=i(97),s=i(59),v=i(70),_=i(27)("iterator");c.exports=function(O){if(O!=null)return s(O,_)||s(O,"@@iterator")||v[f(O)]}},function(c,p,i){var f={};f[i(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,i){var f=i(7),s=i(58),v=f.TypeError;c.exports=function(_,O){if(s(O,_))return _;throw v("Incorrect invocation")}},function(c,p,i){var f=i(27)("iterator"),s=!1;try{var v=0,_={next:function(){return{done:!!v++}},return:function(){s=!0}};_[f]=function(){return this},Array.from(_,function(){throw 2})}catch{}c.exports=function(O,w){if(!w&&!s)return!1;var j=!1;try{var S={};S[f]=function(){return{next:function(){return{done:j=!0}}}},O(S)}catch{}return j}},function(c,p,i){var f=i(179);c.exports=function(s,v){return new(f(s))(v===0?0:v)}},function(c,p,i){var f=i(18);c.exports=function(s,v){var _=[][s];return!!_&&f(function(){_.call(null,v||function(){throw 1},1)})}},function(c,p){c.exports=function(i){if(!i.webpackPolyfill){var f=Object.create(i);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,i){i(19);var f=i(15),s=i(44),v=i(101),_=i(18),O=i(27),w=i(57),j=O("species"),S=RegExp.prototype;c.exports=function(k,N,I,X){var V=O(k),F=!_(function(){var C={};return C[V]=function(){return 7},""[k](C)!=7}),K=F&&!_(function(){var C=!1,H=/a/;return k==="split"&&((H={}).constructor={},H.constructor[j]=function(){return H},H.flags="",H[V]=/./[V]),H.exec=function(){return C=!0,null},H[V](""),!C});if(!F||!K||I){var J=f(/./[V]),Y=N(V,""[k],function(C,H,T,z,G){var R=f(C),L=H.exec;return L===v||L===S.exec?F&&!G?{done:!0,value:J(H,T,z)}:{done:!0,value:R(T,H,z)}:{done:!1}});s(String.prototype,k,Y[0]),s(S,V,Y[1])}X&&w(S[V],"sham",!0)}},function(c,p,i){var f=i(146).charAt;c.exports=function(s,v,_){return v+(_?f(s,v).length:1)}},function(c,p,i){var f=i(7),s=i(35),v=i(32),_=i(28),O=i(50),w=i(101),j=f.TypeError;c.exports=function(S,k){var N=S.exec;if(_(N)){var I=s(N,S,k);return I!==null&&v(I),I}if(O(S)==="RegExp")return s(w,S,k);throw j("RegExp#exec called on incompatible receiver")}},function(c,p,i){var f=i(76),s=i(35),v=i(15),_=i(122),O=i(18),w=i(32),j=i(28),S=i(68),k=i(89),N=i(40),I=i(45),X=i(123),V=i(59),F=i(197),K=i(124),J=i(27)("replace"),Y=Math.max,C=Math.min,H=v([].concat),T=v([].push),z=v("".indexOf),G=v("".slice),R="a".replace(/./,"$0")==="$0",L=!!/./[J]&&/./[J]("a","$0")==="";_("replace",function($,ie,fe){var ve=L?"$":"$0";return[function(ye,pe){var se=I(this),le=ye==null?void 0:V(ye,J);return le?s(le,ye,se,pe):s(ie,N(se),ye,pe)},function(ye,pe){var se=w(this),le=N(ye);if(typeof pe=="string"&&z(pe,ve)===-1&&z(pe,"$<")===-1){var de=fe(ie,se,le,pe);if(de.done)return de.value}var Ee=j(pe);Ee||(pe=N(pe));var Ae=se.global;if(Ae){var Me=se.unicode;se.lastIndex=0}for(var Pe=[];;){var Ce=K(se,le);if(Ce===null||(T(Pe,Ce),!Ae))break;N(Ce[0])===""&&(se.lastIndex=X(le,k(se.lastIndex),Me))}for(var et,Q="",Z=0,oe=0;oe<Pe.length;oe++){for(var me=N((Ce=Pe[oe])[0]),De=Y(C(S(Ce.index),le.length),0),we=[],We=1;We<Ce.length;We++)T(we,(et=Ce[We])===void 0?et:String(et));var Ue=Ce.groups;if(Ee){var tt=H([me],we,De,le);Ue!==void 0&&T(tt,Ue);var qe=N(f(pe,void 0,tt))}else qe=F(me,le,De,we,Ue,pe);De>=Z&&(Q+=G(le,Z,De)+qe,Z=De+me.length)}return Q+G(le,Z)}]},!!O(function(){var $=/./;return $.exec=function(){var ie=[];return ie.groups={a:"7"},ie},"".replace($,"$<a>")!=="7"})||!R||L)},function(c,p,i){var f=i(50),s=i(7);c.exports=f(s.process)=="process"},function(c,p,i){i(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,i){var f=i(109);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,i){var f=i(36),s=i(18),v=i(85);c.exports=!f&&!s(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,i){var f=i(7),s=i(35),v=i(33),_=i(87),O=i(59),w=i(168),j=i(27),S=f.TypeError,k=j("toPrimitive");c.exports=function(N,I){if(!v(N)||_(N))return N;var X,V=O(N,k);if(V){if(I===void 0&&(I="default"),X=s(V,N,I),!v(X)||_(X))return X;throw S("Can't convert object to primitive value")}return I===void 0&&(I="number"),w(N,I)}},function(c,p,i){var f=i(15),s=i(34),v=i(39),_=i(132).indexOf,O=i(69),w=f([].push);c.exports=function(j,S){var k,N=v(j),I=0,X=[];for(k in N)!s(O,k)&&s(N,k)&&w(X,k);for(;S.length>I;)s(N,k=S[I++])&&(~_(X,k)||w(X,k));return X}},function(c,p,i){var f=i(39),s=i(67),v=i(43),_=function(O){return function(w,j,S){var k,N=f(w),I=v(N),X=s(S,I);if(O&&j!=j){for(;I>X;)if((k=N[X++])!=k)return!0}else for(;I>X;X++)if((O||X in N)&&N[X]===j)return O||X||0;return!O&&-1}};c.exports={includes:_(!0),indexOf:_(!1)}},function(c,p,i){var f=i(46);c.exports=f("document","documentElement")},function(c,p,i){var f=i(34),s=i(135),v=i(51),_=i(37);c.exports=function(O,w){for(var j=s(w),S=_.f,k=v.f,N=0;N<j.length;N++){var I=j[N];f(O,I)||S(O,I,k(w,I))}}},function(c,p,i){var f=i(46),s=i(15),v=i(72),_=i(112),O=i(32),w=s([].concat);c.exports=f("Reflect","ownKeys")||function(j){var S=v.f(O(j)),k=_.f;return k?w(S,k(j)):S}},function(c,p,i){var f,s,v,_=i(18),O=i(28),w=i(54),j=i(95),S=i(44),k=i(27),N=i(64),I=k("iterator"),X=!1;[].keys&&("next"in(v=[].keys())?(s=j(j(v)))!==Object.prototype&&(f=s):X=!0),f==null||_(function(){var V={};return f[I].call(V)!==V})?f={}:N&&(f=w(f)),O(f[I])||S(f,I,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:X}},function(c,p,i){var f=i(18);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,i){var f=i(16),s=i(15),v=i(69),_=i(33),O=i(34),w=i(37).f,j=i(72),S=i(139),k=i(173),N=i(84),I=i(175),X=!1,V=N("meta"),F=0,K=function(Y){w(Y,V,{value:{objectID:"O"+F++,weakData:{}}})},J=c.exports={enable:function(){J.enable=function(){},X=!0;var Y=j.f,C=s([].splice),H={};H[V]=1,Y(H).length&&(j.f=function(T){for(var z=Y(T),G=0,R=z.length;G<R;G++)if(z[G]===V){C(z,G,1);break}return z},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(Y,C){if(!_(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!O(Y,V)){if(!k(Y))return"F";if(!C)return"E";K(Y)}return Y[V].objectID},getWeakData:function(Y,C){if(!O(Y,V)){if(!k(Y))return!0;if(!C)return!1;K(Y)}return Y[V].weakData},onFreeze:function(Y){return I&&X&&k(Y)&&!O(Y,V)&&K(Y),Y}};v[V]=!0},function(c,p,i){var f=i(50),s=i(39),v=i(72).f,_=i(113),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(w){return O&&f(w)=="Window"?function(j){try{return v(j)}catch{return _(O)}}(w):v(s(w))}},function(c,p,i){var f=i(27),s=i(70),v=f("iterator"),_=Array.prototype;c.exports=function(O){return O!==void 0&&(s.Array===O||_[v]===O)}},function(c,p,i){var f=i(7),s=i(35),v=i(55),_=i(32),O=i(88),w=i(115),j=f.TypeError;c.exports=function(S,k){var N=arguments.length<2?w(S):k;if(v(N))return _(s(N,S));throw j(O(S)+" is not iterable")}},function(c,p,i){var f=i(35),s=i(32),v=i(59);c.exports=function(_,O,w){var j,S;s(_);try{if(!(j=v(_,"return"))){if(O==="throw")throw w;return w}j=f(j,_)}catch(k){S=!0,j=k}if(O==="throw")throw w;if(S)throw j;return s(j),w}},function(c,p,i){var f=i(28),s=i(33),v=i(96);c.exports=function(_,O,w){var j,S;return v&&f(j=O.constructor)&&j!==w&&s(S=j.prototype)&&S!==w.prototype&&v(_,S),_}},function(c,p,i){var f=i(44);c.exports=function(s,v,_){for(var O in v)f(s,O,v[O],_);return s}},function(c,p,i){var f=i(46),s=i(37),v=i(27),_=i(36),O=v("species");c.exports=function(w){var j=f(w),S=s.f;_&&j&&!j[O]&&S(j,O,{configurable:!0,get:function(){return this}})}},function(c,p,i){var f=i(15),s=i(68),v=i(40),_=i(45),O=f("".charAt),w=f("".charCodeAt),j=f("".slice),S=function(k){return function(N,I){var X,V,F=v(_(N)),K=s(I),J=F.length;return K<0||K>=J?k?"":void 0:(X=w(F,K))<55296||X>56319||K+1===J||(V=w(F,K+1))<56320||V>57343?k?O(F,K):X:k?j(F,K,K+2):V-56320+(X-55296<<10)+65536}};c.exports={codeAt:S(!1),charAt:S(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,i){var f=i(85)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,i){var f=i(27);p.f=f},function(c,p,i){var f=i(180),s=i(34),v=i(149),_=i(37).f;c.exports=function(O){var w=f.Symbol||(f.Symbol={});s(w,O)||_(w,O,{value:v.f(O)})}},function(c,p,i){var f=i(18),s=i(7).RegExp,v=f(function(){var w=s("a","y");return w.lastIndex=2,w.exec("abcd")!=null}),_=v||f(function(){return!s("a","y").sticky}),O=v||f(function(){var w=s("^r","gy");return w.lastIndex=2,w.exec("str")!=null});c.exports={BROKEN_CARET:O,MISSED_STICKY:_,UNSUPPORTED_Y:v}},function(c,p,i){var f=i(16),s=i(132).includes,v=i(82);f({target:"Array",proto:!0},{includes:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(c,p,i){var f=i(16),s=i(15),v=i(192),_=i(45),O=i(40),w=i(193),j=s("".indexOf);f({target:"String",proto:!0,forced:!w("includes")},{includes:function(S){return!!~j(O(_(this)),O(v(S)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(33),s=i(50),v=i(27)("match");c.exports=function(_){var O;return f(_)&&((O=_[v])!==void 0?!!O:s(_)=="RegExp")}},function(c,p){var i,f,s=c.exports={};function v(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function O(F){if(i===setTimeout)return setTimeout(F,0);if((i===v||!i)&&setTimeout)return i=setTimeout,setTimeout(F,0);try{return i(F,0)}catch{try{return i.call(null,F,0)}catch{return i.call(this,F,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:v}catch{i=v}try{f=typeof clearTimeout=="function"?clearTimeout:_}catch{f=_}})();var w,j=[],S=!1,k=-1;function N(){S&&w&&(S=!1,w.length?j=w.concat(j):k=-1,j.length&&I())}function I(){if(!S){var F=O(N);S=!0;for(var K=j.length;K;){for(w=j,j=[];++k<K;)w&&w[k].run();k=-1,K=j.length}w=null,S=!1,function(J){if(f===clearTimeout)return clearTimeout(J);if((f===_||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(J);try{f(J)}catch{try{return f.call(null,J)}catch{return f.call(this,J)}}}(F)}}function X(F,K){this.fun=F,this.array=K}function V(){}s.nextTick=function(F){var K=new Array(arguments.length-1);if(arguments.length>1)for(var J=1;J<arguments.length;J++)K[J-1]=arguments[J];j.push(new X(F,K)),j.length!==1||S||O(I)},X.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=V,s.addListener=V,s.once=V,s.off=V,s.removeListener=V,s.removeAllListeners=V,s.emit=V,s.prependListener=V,s.prependOnceListener=V,s.listeners=function(F){return[]},s.binding=function(F){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(F){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,i){var f=i(32),s=i(157),v=i(27)("species");c.exports=function(_,O){var w,j=f(_).constructor;return j===void 0||(w=f(j)[v])==null?O:s(w)}},function(c,p,i){var f=i(7),s=i(99),v=i(88),_=f.TypeError;c.exports=function(O){if(s(O))return O;throw _(v(O)+" is not a constructor")}},function(c,p,i){var f=i(15),s=i(45),v=i(40),_=i(159),O=f("".replace),w="["+_+"]",j=RegExp("^"+w+w+"*"),S=RegExp(w+w+"*$"),k=function(N){return function(I){var X=v(s(I));return 1&N&&(X=O(X,j,"")),2&N&&(X=O(X,S,"")),X}};c.exports={start:k(1),end:k(2),trim:k(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,i){var f=i(35),s=i(122),v=i(32),_=i(89),O=i(40),w=i(45),j=i(59),S=i(123),k=i(124);s("match",function(N,I,X){return[function(V){var F=w(this),K=V==null?void 0:j(V,N);return K?f(K,V,F):new RegExp(V)[N](O(F))},function(V){var F=v(this),K=O(V),J=X(I,F,K);if(J.done)return J.value;if(!F.global)return k(F,K);var Y=F.unicode;F.lastIndex=0;for(var C,H=[],T=0;(C=k(F,K))!==null;){var z=O(C[0]);H[T]=z,z===""&&(F.lastIndex=S(K,_(F.lastIndex),Y)),T++}return T===0?null:H}]})},function(c,p,i){var f,s,v,_,O=i(7),w=i(76),j=i(62),S=i(28),k=i(34),N=i(18),I=i(133),X=i(100),V=i(85),F=i(162),K=i(126),J=O.setImmediate,Y=O.clearImmediate,C=O.process,H=O.Dispatch,T=O.Function,z=O.MessageChannel,G=O.String,R=0,L={};try{f=O.location}catch{}var $=function(ye){if(k(L,ye)){var pe=L[ye];delete L[ye],pe()}},ie=function(ye){return function(){$(ye)}},fe=function(ye){$(ye.data)},ve=function(ye){O.postMessage(G(ye),f.protocol+"//"+f.host)};J&&Y||(J=function(ye){var pe=X(arguments,1);return L[++R]=function(){w(S(ye)?ye:T(ye),void 0,pe)},s(R),R},Y=function(ye){delete L[ye]},K?s=function(ye){C.nextTick(ie(ye))}:H&&H.now?s=function(ye){H.now(ie(ye))}:z&&!F?(_=(v=new z).port2,v.port1.onmessage=fe,s=j(_.postMessage,_)):O.addEventListener&&S(O.postMessage)&&!O.importScripts&&f&&f.protocol!=="file:"&&!N(ve)?(s=ve,O.addEventListener("message",fe,!1)):s="onreadystatechange"in V("script")?function(ye){I.appendChild(V("script")).onreadystatechange=function(){I.removeChild(this),$(ye)}}:function(ye){setTimeout(ie(ye),0)}),c.exports={set:J,clear:Y}},function(c,p,i){var f=i(53);c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(c,p,i){var f=i(55),s=function(v){var _,O;this.promise=new v(function(w,j){if(_!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");_=w,O=j}),this.resolve=f(_),this.reject=f(O)};c.exports.f=function(v){return new s(v)}},function(c,p,i){p.a=function(){return!1}},function(c,p,i){(function(f){i.d(p,"a",function(){return K});var s=i(0);function v(C){throw new Error("[mobx-utils] "+C)}function _(C,H){H===void 0&&(H="Illegal state"),C||v(H)}var O=function(C){return C&&C!==Object.prototype&&Object.getOwnPropertyNames(C).concat(O(Object.getPrototypeOf(C))||[])},w=function(C){return function(H){var T=O(H);return T.filter(function(z,G){return T.indexOf(z)===G})}(C).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})};function j(C){switch(this.state){case"pending":return C.pending&&C.pending(this.value);case"rejected":return C.rejected&&C.rejected(this.value);case"fulfilled":return C.fulfilled?C.fulfilled(this.value):this.value}}function S(C,H){if(_(arguments.length<=2,"fromPromise expects up to two arguments"),_(typeof C=="function"||typeof C=="object"&&C&&typeof C.then=="function","Please pass a promise or function to fromPromise"),C.isPromiseBasedObservable===!0)return C;typeof C=="function"&&(C=new Promise(C));var T=C;C.then(Object(s.k)("observableFromPromise-resolve",function(G){T.value=G,T.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(G){T.value=G,T.state="rejected"})),T.isPromiseBasedObservable=!0,T.case=j;var z=H&&H.state==="fulfilled"?H.value:void 0;return Object(s.q)(T,{value:z,state:"pending"},{},{deep:!1}),T}(function(C){C.reject=Object(s.k)("fromPromise.reject",function(H){var T=C(Promise.reject(H));return T.state="rejected",T.value=H,T}),C.resolve=Object(s.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var T=C(Promise.resolve(H));return T.state="fulfilled",T.value=H,T})})(S||(S={}));var k=function(C,H,T,z){var G,R=arguments.length,L=R<3?H:z===null?z=Object.getOwnPropertyDescriptor(H,T):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,H,T,z);else for(var $=C.length-1;$>=0;$--)(G=C[$])&&(L=(R<3?G(L):R>3?G(H,T,L):G(H,T))||L);return R>3&&L&&Object.defineProperty(H,T,L),L};(function(){function C(H,T){var z=this;Object(s.G)(function(){z.current=T,z.subscription=H.subscribe(z)})}C.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},C.prototype.next=function(H){this.current=H},C.prototype.complete=function(){this.dispose()},C.prototype.error=function(H){this.current=H,this.dispose()},k([s.C.ref],C.prototype,"current",void 0),k([s.k.bound],C.prototype,"next",null),k([s.k.bound],C.prototype,"complete",null),k([s.k.bound],C.prototype,"error",null)})();var N=function(){return(N=Object.assign||function(C){for(var H,T=1,z=arguments.length;T<z;T++)for(var G in H=arguments[T])Object.prototype.hasOwnProperty.call(H,G)&&(C[G]=H[G]);return C}).apply(this,arguments)},I=function(C,H,T,z){var G,R=arguments.length,L=R<3?H:z===null?z=Object.getOwnPropertyDescriptor(H,T):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,H,T,z);else for(var $=C.length-1;$>=0;$--)(G=C[$])&&(L=(R<3?G(L):R>3?G(H,T,L):G(H,T))||L);return R>3&&L&&Object.defineProperty(H,T,L),L},X=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function C(H){var T=this;this.model=H,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(z){return T.localValues.has(z)},_(Object(s.A)(H),"createViewModel expects an observable object"),w(H).forEach(function(z){if(z!==s.a&&z!=="__mobxDidRunLazyInitializers"){if(_(X.indexOf(z)===-1,"The propertyname "+z+" is reserved and cannot be used with viewModels"),Object(s.w)(H,z)){var G=Object(s.h)(H,z).derivation;T.localComputedValues.set(z,Object(s.m)(G.bind(T)))}var R=Object.getOwnPropertyDescriptor(H,z),L=R?{enumerable:R.enumerable}:{};Object.defineProperty(T,z,N(N({},L),{configurable:!0,get:function(){return Object(s.w)(H,z)?T.localComputedValues.get(z).get():T.isPropertyDirty(z)?T.localValues.get(z):T.model[z]},set:Object(s.k)(function($){$!==T.model[z]?T.localValues.set(z,$):T.localValues.delete(z)})}))}})}Object.defineProperty(C.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),C.prototype.submit=function(){var H=this;Object(s.B)(this.localValues).forEach(function(T){var z=H.localValues.get(T),G=H.model[T];Object(s.y)(G)?G.replace(z):Object(s.z)(G)?(G.clear(),G.merge(z)):Object(s.v)(z)||(H.model[T]=z)}),this.localValues.clear()},C.prototype.reset=function(){this.localValues.clear()},C.prototype.resetProperty=function(H){this.localValues.delete(H)},I([s.m],C.prototype,"isDirty",null),I([s.m],C.prototype,"changedValues",null),I([s.k.bound],C.prototype,"submit",null),I([s.k.bound],C.prototype,"reset",null),I([s.k.bound],C.prototype,"resetProperty",null)})();function V(C){if(!C)return"ROOT";for(var H=[];C.parent;)H.push(C.path),C=C.parent;return H.reverse().join("/")}function F(C){return Object(s.A)(C)||Object(s.y)(C)||Object(s.z)(C)}function K(C,H){var T=new WeakMap;function z(L){var $=T.get(L.object);(function(ie,fe){switch(ie.type){case"add":G(ie.newValue,fe,ie.name);break;case"update":R(ie.oldValue),G(ie.newValue,fe,ie.name||""+ie.index);break;case"remove":case"delete":R(ie.oldValue);break;case"splice":ie.removed.map(R),ie.added.forEach(function(pe,se){return G(pe,fe,""+(ie.index+se))});for(var ve=ie.index+ie.addedCount;ve<ie.object.length;ve++)if(F(ie.object[ve])){var ye=T.get(ie.object[ve]);ye&&(ye.path=""+ve)}}})(L,$),H(L,V($),C)}function G(L,$,ie){if(F(L)){var fe=T.get(L);if(fe){if(fe.parent!==$||fe.path!==ie)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+V($)+"/"+ie+"', but it already exists at '"+V(fe.parent)+"/"+fe.path+"'")}else{var ve={parent:$,path:ie,dispose:Object(s.D)(L,z)};T.set(L,ve),Object(s.p)(L).forEach(function(ye){var pe=ye[0];return G(ye[1],ve,pe)})}}}function R(L){if(F(L)){var $=T.get(L);if(!$)return;T.delete(L),$.dispose(),Object(s.L)(L).forEach(R)}}return G(C,void 0,""),function(){R(C)}}var J,Y=(J=function(C,H){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,z){T.__proto__=z}||function(T,z){for(var G in z)z.hasOwnProperty(G)&&(T[G]=z[G])})(C,H)},function(C,H){function T(){this.constructor=C}J(C,H),C.prototype=H===null?Object.create(H):(T.prototype=H.prototype,new T)});(function(C){function H(T,z,G){var R=G===void 0?{}:G,L=R.name,$=L===void 0?"ogm"+(1e3*Math.random()|0):L,ie=R.keyToName,fe=ie===void 0?function(pe){return""+pe}:ie,ve=C.call(this)||this;ve._keyToName=fe,ve._groupBy=z,ve._ogmInfoKey=Symbol("ogmInfo"+$),ve._base=T;for(var ye=0;ye<T.length;ye++)ve._addItem(T[ye]);return ve._disposeBaseObserver=Object(s.D)(ve._base,function(pe){if(pe.type==="splice")Object(s.J)(function(){for(var se=0,le=pe.removed;se<le.length;se++){var de=le[se];ve._removeItem(de)}for(var Ee=0,Ae=pe.added;Ee<Ae.length;Ee++){var Me=Ae[Ee];ve._addItem(Me)}});else{if(pe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){ve._removeItem(pe.oldValue),ve._addItem(pe.newValue)})}}),ve}Y(H,C),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(T){throw new Error("not supported")},H.prototype.set=function(T,z){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var T=0;T<this._base.length;T++){var z=this._base[T];z[this._ogmInfoKey].reaction(),delete z[this._ogmInfoKey]}},H.prototype._getGroupArr=function(T){var z=C.prototype.get.call(this,T);return z===void 0&&(z=Object(s.C)([],{name:"GroupArray["+this._keyToName(T)+"]",deep:!1}),C.prototype.set.call(this,T,z)),z},H.prototype._removeFromGroupArr=function(T,z){var G=C.prototype.get.call(this,T);G.length===1?C.prototype.delete.call(this,T):(z===G.length-1||(G[z]=G[G.length-1],G[z][this._ogmInfoKey].groupArrIndex=z),G.length--)},H.prototype._addItem=function(T){var z=this,G=this._groupBy(T),R=this._getGroupArr(G),L={groupByValue:G,groupArrIndex:R.length,reaction:Object(s.F)(function(){return z._groupBy(T)},function($,ie){var fe=T[z._ogmInfoKey];z._removeFromGroupArr(fe.groupByValue,fe.groupArrIndex);var ve=z._getGroupArr($),ye=ve.length;ve.push(T),fe.groupByValue=$,fe.groupArrIndex=ye})};Object.defineProperty(T,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:L}),R.push(T)},H.prototype._removeItem=function(T){var z=T[this._ogmInfoKey];this._removeFromGroupArr(z.groupByValue,z.groupArrIndex),z.reaction(),delete T[this._ogmInfoKey]}})(s.b),function(){function C(H,T){this.base=H,this.args=T,this.closestIdx=0,this.isDisposed=!1;for(var z=this.closest=this.root=H,G=0;G<this.args.length-1&&(z=z.get(T[G]));G++)this.closest=z;this.closestIdx=G}return C.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},C.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},C.prototype.set=function(H){this.assertNotDisposed();for(var T=this.args.length,z=this.closest,G=this.closestIdx;G<T-1;G++){var R=new Map;z.set(this.args[G],R),z=R}this.closestIdx=T-1,this.closest=z,z.set(this.args[T-1],H)},C.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var T=this.root,z=[T],G=0;G<H-1;G++)T=T.get(this.args[G]),z.push(T);for(G=z.length-1;G>0;G--)z[G].size===0&&z[G-1].delete(this.args[G-1]);this.isDisposed=!0},C.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},C}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,i(155))},function(c,p,i){var f;(function(s,v,_){if(s){for(var O,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N=1;N<20;++N)w[111+N]="f"+N;for(N=0;N<=9;++N)w[N+96]=N.toString();J.prototype.bind=function(Y,C,H){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,C,H),this},J.prototype.unbind=function(Y,C){return this.bind.call(this,Y,function(){},C)},J.prototype.trigger=function(Y,C){return this._directMap[Y+":"+C]&&this._directMap[Y+":"+C]({},Y),this},J.prototype.reset=function(){return this._callbacks={},this._directMap={},this},J.prototype.stopCallback=function(Y,C){if((" "+C.className+" ").indexOf(" mousetrap ")>-1||function T(z,G){return z!==null&&z!==v&&(z===G||T(z.parentNode,G))}(C,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var H=Y.composedPath()[0];H!==Y.target&&(C=H)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},J.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},J.addKeycodes=function(Y){for(var C in Y)Y.hasOwnProperty(C)&&(w[C]=Y[C]);O=null},J.init=function(){var Y=J(v);for(var C in Y)C.charAt(0)!=="_"&&(J[C]=function(H){return function(){return Y[H].apply(Y,arguments)}}(C))},J.init(),s.Mousetrap=J,c.exports&&(c.exports=J),(f=function(){return J}.call(p,i,p,c))===void 0||(c.exports=f)}function I(Y,C,H){Y.addEventListener?Y.addEventListener(C,H,!1):Y.attachEvent("on"+C,H)}function X(Y){if(Y.type=="keypress"){var C=String.fromCharCode(Y.which);return Y.shiftKey||(C=C.toLowerCase()),C}return w[Y.which]?w[Y.which]:j[Y.which]?j[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function V(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function F(Y,C,H){return H||(H=function(){if(!O)for(var T in O={},w)T>95&&T<112||w.hasOwnProperty(T)&&(O[w[T]]=T);return O}()[Y]?"keydown":"keypress"),H=="keypress"&&C.length&&(H="keydown"),H}function K(Y,C){var H,T,z,G=[];for(H=function(R){return R==="+"?["+"]:(R=R.replace(/\+{2}/g,"+plus")).split("+")}(Y),z=0;z<H.length;++z)T=H[z],k[T]&&(T=k[T]),C&&C!="keypress"&&S[T]&&(T=S[T],G.push("shift")),V(T)&&G.push(T);return{key:T,modifiers:G,action:C=F(T,G,C)}}function J(Y){var C=this;if(Y=Y||v,!(C instanceof J))return new J(Y);C.target=Y,C._callbacks={},C._directMap={};var H,T={},z=!1,G=!1,R=!1;function L(pe){pe=pe||{};var se,le=!1;for(se in T)pe[se]?le=!0:T[se]=0;le||(R=!1)}function $(pe,se,le,de,Ee,Ae){var Me,Pe,Ce,et,Q=[],Z=le.type;if(!C._callbacks[pe])return[];for(Z=="keyup"&&V(pe)&&(se=[pe]),Me=0;Me<C._callbacks[pe].length;++Me)if(Pe=C._callbacks[pe][Me],(de||!Pe.seq||T[Pe.seq]==Pe.level)&&Z==Pe.action&&(Z=="keypress"&&!le.metaKey&&!le.ctrlKey||(Ce=se,et=Pe.modifiers,Ce.sort().join(",")===et.sort().join(",")))){var oe=!de&&Pe.combo==Ee,me=de&&Pe.seq==de&&Pe.level==Ae;(oe||me)&&C._callbacks[pe].splice(Me,1),Q.push(Pe)}return Q}function ie(pe,se,le,de){C.stopCallback(se,se.target||se.srcElement,le,de)||pe(se,le)===!1&&(function(Ee){Ee.preventDefault?Ee.preventDefault():Ee.returnValue=!1}(se),function(Ee){Ee.stopPropagation?Ee.stopPropagation():Ee.cancelBubble=!0}(se))}function fe(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var se=X(pe);se&&(pe.type!="keyup"||z!==se?C.handleKey(se,function(le){var de=[];return le.shiftKey&&de.push("shift"),le.altKey&&de.push("alt"),le.ctrlKey&&de.push("ctrl"),le.metaKey&&de.push("meta"),de}(pe),pe):z=!1)}function ve(pe,se,le,de){function Ee(Ce){return function(){R=Ce,++T[pe],clearTimeout(H),H=setTimeout(L,1e3)}}function Ae(Ce){ie(le,Ce,pe),de!=="keyup"&&(z=X(Ce)),setTimeout(L,10)}T[pe]=0;for(var Me=0;Me<se.length;++Me){var Pe=Me+1===se.length?Ae:Ee(de||K(se[Me+1]).action);ye(se[Me],Pe,de,pe,Me)}}function ye(pe,se,le,de,Ee){C._directMap[pe+":"+le]=se;var Ae,Me=(pe=pe.replace(/\s+/g," ")).split(" ");Me.length>1?ve(pe,Me,se,le):(Ae=K(pe,le),C._callbacks[Ae.key]=C._callbacks[Ae.key]||[],$(Ae.key,Ae.modifiers,{type:Ae.action},de,pe,Ee),C._callbacks[Ae.key][de?"unshift":"push"]({callback:se,modifiers:Ae.modifiers,action:Ae.action,seq:de,level:Ee,combo:pe}))}C._handleKey=function(pe,se,le){var de,Ee=$(pe,se,le),Ae={},Me=0,Pe=!1;for(de=0;de<Ee.length;++de)Ee[de].seq&&(Me=Math.max(Me,Ee[de].level));for(de=0;de<Ee.length;++de)if(Ee[de].seq){if(Ee[de].level!=Me)continue;Pe=!0,Ae[Ee[de].seq]=1,ie(Ee[de].callback,le,Ee[de].combo,Ee[de].seq)}else Pe||ie(Ee[de].callback,le,Ee[de].combo);var Ce=le.type=="keypress"&&G;le.type!=R||V(pe)||Ce||L(Ae),G=Pe&&le.type=="keydown"},C._bindMultiple=function(pe,se,le){for(var de=0;de<pe.length;++de)ye(pe[de],se,le)},I(Y,"keypress",fe),I(Y,"keydown",fe),I(Y,"keyup",fe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,i){var f=i(36),s=i(37),v=i(32),_=i(39),O=i(66);c.exports=f?Object.defineProperties:function(w,j){v(w);for(var S,k=_(j),N=O(j),I=N.length,X=0;I>X;)s.f(w,S=N[X++],k[S]);return w}},function(c,p,i){var f=i(7),s=i(35),v=i(28),_=i(33),O=f.TypeError;c.exports=function(w,j){var S,k;if(j==="string"&&v(S=w.toString)&&!_(k=s(S,w))||v(S=w.valueOf)&&!_(k=s(S,w))||j!=="string"&&v(S=w.toString)&&!_(k=s(S,w)))return k;throw O("Can't convert object to primitive value")}},function(c,p,i){var f=i(7),s=i(28),v=i(91),_=f.WeakMap;c.exports=s(_)&&/native code/.test(v(_))},function(c,p,i){var f=i(136).IteratorPrototype,s=i(54),v=i(71),_=i(73),O=i(70),w=function(){return this};c.exports=function(j,S,k,N){var I=S+" Iterator";return j.prototype=s(f,{next:v(+!N,k)}),_(j,I,!1,!0),O[I]=w,j}},function(c,p,i){var f=i(7),s=i(28),v=f.String,_=f.TypeError;c.exports=function(O){if(typeof O=="object"||s(O))return O;throw _("Can't set "+v(O)+" as a prototype")}},function(c,p,i){var f=i(16),s=i(7),v=i(15),_=i(94),O=i(44),w=i(138),j=i(114),S=i(117),k=i(28),N=i(33),I=i(18),X=i(118),V=i(73),F=i(143);c.exports=function(K,J,Y){var C=K.indexOf("Map")!==-1,H=K.indexOf("Weak")!==-1,T=C?"set":"add",z=s[K],G=z&&z.prototype,R=z,L={},$=function(se){var le=v(G[se]);O(G,se,se=="add"?function(de){return le(this,de===0?0:de),this}:se=="delete"?function(de){return!(H&&!N(de))&&le(this,de===0?0:de)}:se=="get"?function(de){return H&&!N(de)?void 0:le(this,de===0?0:de)}:se=="has"?function(de){return!(H&&!N(de))&&le(this,de===0?0:de)}:function(de,Ee){return le(this,de===0?0:de,Ee),this})};if(_(K,!k(z)||!(H||G.forEach&&!I(function(){new z().entries().next()}))))R=Y.getConstructor(J,K,C,T),w.enable();else if(_(K,!0)){var ie=new R,fe=ie[T](H?{}:-0,1)!=ie,ve=I(function(){ie.has(1)}),ye=X(function(se){new z(se)}),pe=!H&&I(function(){for(var se=new z,le=5;le--;)se[T](le,le);return!se.has(-0)});ye||((R=J(function(se,le){S(se,G);var de=F(new z,se,R);return le!=null&&j(le,de[T],{that:de,AS_ENTRIES:C}),de})).prototype=G,G.constructor=R),(ve||pe)&&($("delete"),$("has"),C&&$("get")),(pe||fe)&&$(T),H&&G.clear&&delete G.clear}return L[K]=R,f({global:!0,forced:R!=z},L),V(R,K),H||Y.setStrong(R,K,C),R}},function(c,p,i){var f=i(18),s=i(33),v=i(50),_=i(174),O=Object.isExtensible,w=f(function(){});c.exports=w||_?function(j){return!!s(j)&&(!_||v(j)!="ArrayBuffer")&&(!O||O(j))}:O},function(c,p,i){var f=i(18);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,i){var f=i(37).f,s=i(54),v=i(144),_=i(62),O=i(117),w=i(114),j=i(111),S=i(145),k=i(36),N=i(138).fastKey,I=i(56),X=I.set,V=I.getterFor;c.exports={getConstructor:function(F,K,J,Y){var C=F(function(R,L){O(R,H),X(R,{type:K,index:s(null),first:void 0,last:void 0,size:0}),k||(R.size=0),L!=null&&w(L,R[Y],{that:R,AS_ENTRIES:J})}),H=C.prototype,T=V(K),z=function(R,L,$){var ie,fe,ve=T(R),ye=G(R,L);return ye?ye.value=$:(ve.last=ye={index:fe=N(L,!0),key:L,value:$,previous:ie=ve.last,next:void 0,removed:!1},ve.first||(ve.first=ye),ie&&(ie.next=ye),k?ve.size++:R.size++,fe!=="F"&&(ve.index[fe]=ye)),R},G=function(R,L){var $,ie=T(R),fe=N(L);if(fe!=="F")return ie.index[fe];for($=ie.first;$;$=$.next)if($.key==L)return $};return v(H,{clear:function(){for(var R=T(this),L=R.index,$=R.first;$;)$.removed=!0,$.previous&&($.previous=$.previous.next=void 0),delete L[$.index],$=$.next;R.first=R.last=void 0,k?R.size=0:this.size=0},delete:function(R){var L=T(this),$=G(this,R);if($){var ie=$.next,fe=$.previous;delete L.index[$.index],$.removed=!0,fe&&(fe.next=ie),ie&&(ie.previous=fe),L.first==$&&(L.first=ie),L.last==$&&(L.last=fe),k?L.size--:this.size--}return!!$},forEach:function(R){for(var L,$=T(this),ie=_(R,arguments.length>1?arguments[1]:void 0);L=L?L.next:$.first;)for(ie(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(R){return!!G(this,R)}}),v(H,J?{get:function(R){var L=G(this,R);return L&&L.value},set:function(R,L){return z(this,R===0?0:R,L)}}:{add:function(R){return z(this,R=R===0?0:R,R)}}),k&&f(H,"size",{get:function(){return T(this).size}}),C},setStrong:function(F,K,J){var Y=K+" Iterator",C=V(K),H=V(Y);j(F,K,function(T,z){X(this,{type:Y,target:T,state:C(T),kind:z,last:void 0})},function(){for(var T=H(this),z=T.kind,G=T.last;G&&G.removed;)G=G.previous;return T.target&&(T.last=G=G?G.next:T.state.first)?z=="keys"?{value:G.key,done:!1}:z=="values"?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}:(T.target=void 0,{value:void 0,done:!0})},J?"entries":"values",!J,!0),S(K)}}},function(c,p,i){var f=i(116),s=i(97);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,i){var f=i(74).forEach,s=i(120)("forEach");c.exports=s?[].forEach:function(v){return f(this,v,arguments.length>1?arguments[1]:void 0)}},function(c,p,i){var f=i(7),s=i(98),v=i(99),_=i(33),O=i(27)("species"),w=f.Array;c.exports=function(j){var S;return s(j)&&(S=j.constructor,(v(S)&&(S===w||s(S.prototype))||_(S)&&(S=S[O])===null)&&(S=void 0)),S===void 0?w:S}},function(c,p,i){var f=i(7);c.exports=f},function(c,p,i){var f=i(7),s=i(62),v=i(35),_=i(38),O=i(182),w=i(140),j=i(99),S=i(43),k=i(61),N=i(141),I=i(115),X=f.Array;c.exports=function(V){var F=_(V),K=j(this),J=arguments.length,Y=J>1?arguments[1]:void 0,C=Y!==void 0;C&&(Y=s(Y,J>2?arguments[2]:void 0));var H,T,z,G,R,L,$=I(F),ie=0;if(!$||this==X&&w($))for(H=S(F),T=K?new this(H):X(H);H>ie;ie++)L=C?Y(F[ie],ie):F[ie],k(T,ie,L);else for(R=(G=N(F,$)).next,T=K?new this:[];!(z=v(R,G)).done;ie++)L=C?O(G,Y,[z.value,ie],!0):z.value,k(T,ie,L);return T.length=ie,T}},function(c,p,i){var f=i(32),s=i(142);c.exports=function(v,_,O,w){try{return w?_(f(O)[0],O[1]):_(O)}catch(j){s(v,"throw",j)}}},function(c,p,i){var f=i(32);c.exports=function(){var s=f(this),v="";return s.global&&(v+="g"),s.ignoreCase&&(v+="i"),s.multiline&&(v+="m"),s.dotAll&&(v+="s"),s.unicode&&(v+="u"),s.sticky&&(v+="y"),v}},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var v=s(".","s");return!(v.dotAll&&v.exec(`
`)&&v.flags==="s")})},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var v=s("(?<a>b)","g");return v.exec("b").groups.a!=="b"||"b".replace(v,"$<a>c")!=="bc"})},function(c,p,i){var f=i(16),s=i(15),v=i(55),_=i(38),O=i(43),w=i(40),j=i(18),S=i(187),k=i(120),N=i(188),I=i(189),X=i(65),V=i(190),F=[],K=s(F.sort),J=s(F.push),Y=j(function(){F.sort(void 0)}),C=j(function(){F.sort(null)}),H=k("sort"),T=!j(function(){if(X)return X<70;if(!(N&&N>3)){if(I)return!0;if(V)return V<603;var z,G,R,L,$="";for(z=65;z<76;z++){switch(G=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(L=0;L<47;L++)F.push({k:G+L,v:R})}for(F.sort(function(ie,fe){return fe.v-ie.v}),L=0;L<F.length;L++)G=F[L].k.charAt(0),$.charAt($.length-1)!==G&&($+=G);return $!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:Y||!C||!H||!T},{sort:function(z){z!==void 0&&v(z);var G=_(this);if(T)return z===void 0?K(G):K(G,z);var R,L,$=[],ie=O(G);for(L=0;L<ie;L++)L in G&&J($,G[L]);for(S($,function(fe){return function(ve,ye){return ye===void 0?-1:ve===void 0?1:fe!==void 0?+fe(ve,ye)||0:w(ve)>w(ye)?1:-1}}(z)),R=$.length,L=0;L<R;)G[L]=$[L++];for(;L<ie;)delete G[L++];return G}})},function(c,p,i){var f=i(113),s=Math.floor,v=function(w,j){var S=w.length,k=s(S/2);return S<8?_(w,j):O(w,v(f(w,0,k),j),v(f(w,k),j),j)},_=function(w,j){for(var S,k,N=w.length,I=1;I<N;){for(k=I,S=w[I];k&&j(w[k-1],S)>0;)w[k]=w[--k];k!==I++&&(w[k]=S)}return w},O=function(w,j,S,k){for(var N=j.length,I=S.length,X=0,V=0;X<N||V<I;)w[X+V]=X<N&&V<I?k(j[X],S[V])<=0?j[X++]:S[V++]:X<N?j[X++]:S[V++];return w};c.exports=v},function(c,p,i){var f=i(53).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(53);c.exports=/MSIE|Trident/.test(f)},function(c,p,i){var f=i(53).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(16),s=i(74).find,v=i(82),_=!0;"find"in[]&&Array(1).find(function(){_=!1}),f({target:"Array",proto:!0,forced:_},{find:function(O){return s(this,O,arguments.length>1?arguments[1]:void 0)}}),v("find")},function(c,p,i){var f=i(7),s=i(154),v=f.TypeError;c.exports=function(_){if(s(_))throw v("The method doesn't accept regular expressions");return _}},function(c,p,i){var f=i(27)("match");c.exports=function(s){var v=/./;try{"/./"[s](v)}catch{try{return v[f]=!1,"/./"[s](v)}catch{}}return!1}},function(c,p,i){var f=i(16),s=i(158).trim;f({target:"String",proto:!0,forced:i(195)("trim")},{trim:function(){return s(this)}})},function(c,p,i){var f=i(93).PROPER,s=i(18),v=i(159);c.exports=function(_){return s(function(){return!!v[_]()||"\u200B\x85\u180E"[_]()!=="\u200B\x85\u180E"||f&&v[_].name!==_})}},function(c,p,i){var f=i(15);c.exports=f(1 .valueOf)},function(c,p,i){var f=i(15),s=i(38),v=Math.floor,_=f("".charAt),O=f("".replace),w=f("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;c.exports=function(k,N,I,X,V,F){var K=I+k.length,J=X.length,Y=S;return V!==void 0&&(V=s(V),Y=j),O(F,Y,function(C,H){var T;switch(_(H,0)){case"$":return"$";case"&":return k;case"`":return w(N,0,I);case"'":return w(N,K);case"<":T=V[w(H,1,-1)];break;default:var z=+H;if(z===0)return C;if(z>J){var G=v(z/10);return G===0?C:G<=J?X[G-1]===void 0?_(H,1):X[G-1]+_(H,1):C}T=X[z-1]}return T===void 0?"":T})}},function(c,p,i){var f=i(7),s=i(15),v=i(55),_=i(33),O=i(34),w=i(100),j=f.Function,S=s([].concat),k=s([].join),N={},I=function(X,V,F){if(!O(N,V)){for(var K=[],J=0;J<V;J++)K[J]="a["+J+"]";N[V]=j("C,a","return new C("+k(K,",")+")")}return N[V](X,F)};c.exports=j.bind||function(X){var V=v(this),F=V.prototype,K=w(arguments,1),J=function(){var Y=S(K,w(arguments));return this instanceof J?I(V,Y.length,Y):V.apply(X,Y)};return _(F)&&(J.prototype=F),J}},function(c,p,i){var f=i(34);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,i){var f=i(36),s=i(15),v=i(35),_=i(18),O=i(66),w=i(112),j=i(92),S=i(38),k=i(80),N=Object.assign,I=Object.defineProperty,X=s([].concat);c.exports=!N||_(function(){if(f&&N({b:1},N(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var V={},F={},K=Symbol();return V[K]=7,"abcdefghijklmnopqrst".split("").forEach(function(J){F[J]=J}),N({},V)[K]!=7||O(N({},F)).join("")!="abcdefghijklmnopqrst"})?function(V,F){for(var K=S(V),J=arguments.length,Y=1,C=w.f,H=j.f;J>Y;)for(var T,z=k(arguments[Y++]),G=C?X(O(z),C(z)):O(z),R=G.length,L=0;R>L;)T=G[L++],f&&!v(H,z,T)||(K[T]=z[T]);return K}:N},function(c,p,i){var f=i(15),s=i(45),v=i(40),_=/"/g,O=f("".replace);c.exports=function(w,j,S,k){var N=v(s(w)),I="<"+j;return S!==""&&(I+=" "+S+'="'+O(v(k),_,"&quot;")+'"'),I+">"+N+"</"+j+">"}},function(c,p,i){var f=i(18);c.exports=function(s){return f(function(){var v=""[s]('"');return v!==v.toLowerCase()||v.split('"').length>3})}},function(c,p,i){var f=i(16),s=Math.hypot,v=Math.abs,_=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(O,w){for(var j,S,k=0,N=0,I=arguments.length,X=0;N<I;)X<(j=v(arguments[N++]))?(k=k*(S=X/j)*S+1,X=j):k+=j>0?(S=j/X)*S:j;return X===1/0?1/0:X*_(k)}})},function(c,p,i){var f,s,v,_,O=i(16),w=i(64),j=i(7),S=i(46),k=i(35),N=i(205),I=i(44),X=i(144),V=i(96),F=i(73),K=i(145),J=i(55),Y=i(28),C=i(33),H=i(117),T=i(91),z=i(114),G=i(118),R=i(156),L=i(161).set,$=i(206),ie=i(209),fe=i(210),ve=i(163),ye=i(211),pe=i(56),se=i(94),le=i(27),de=i(212),Ee=i(126),Ae=i(65),Me=le("species"),Pe="Promise",Ce=pe.getterFor(Pe),et=pe.set,Q=pe.getterFor(Pe),Z=N&&N.prototype,oe=N,me=Z,De=j.TypeError,we=j.document,We=j.process,Ue=ve.f,tt=Ue,qe=!!(we&&we.createEvent&&j.dispatchEvent),_e=Y(j.PromiseRejectionEvent),ee=!1,Fe=se(Pe,function(){var re=T(oe),Se=re!==String(oe);if(!Se&&Ae===66||w&&!me.finally)return!0;if(Ae>=51&&/native code/.test(re))return!1;var ke=new oe(function(Ve){Ve(1)}),Ne=function(Ve){Ve(function(){},function(){})};return(ke.constructor={})[Me]=Ne,!(ee=ke.then(function(){})instanceof Ne)||!Se&&de&&!_e}),Xe=Fe||!G(function(re){oe.all(re).catch(function(){})}),$e=function(re){var Se;return!(!C(re)||!Y(Se=re.then))&&Se},kt=function(re,Se){if(!re.notified){re.notified=!0;var ke=re.reactions;$(function(){for(var Ne=re.value,Ve=re.state==1,gt=0;ke.length>gt;){var wt,Wt,Jt,ct=ke[gt++],Ie=Ve?ct.ok:ct.fail,Ye=ct.resolve,Ze=ct.reject,rt=ct.domain;try{Ie?(Ve||(re.rejection===2&&It(re),re.rejection=1),Ie===!0?wt=Ne:(rt&&rt.enter(),wt=Ie(Ne),rt&&(rt.exit(),Jt=!0)),wt===ct.promise?Ze(De("Promise-chain cycle")):(Wt=$e(wt))?k(Wt,wt,Ye,Ze):Ye(wt)):Ze(Ne)}catch(xt){rt&&!Jt&&rt.exit(),Ze(xt)}}re.reactions=[],re.notified=!1,Se&&!re.rejection&&lt(re)})}},ut=function(re,Se,ke){var Ne,Ve;qe?((Ne=we.createEvent("Event")).promise=Se,Ne.reason=ke,Ne.initEvent(re,!1,!0),j.dispatchEvent(Ne)):Ne={promise:Se,reason:ke},!_e&&(Ve=j["on"+re])?Ve(Ne):re==="unhandledrejection"&&fe("Unhandled promise rejection",ke)},lt=function(re){k(L,j,function(){var Se,ke=re.facade,Ne=re.value;if(yt(re)&&(Se=ye(function(){Ee?We.emit("unhandledRejection",Ne,ke):ut("unhandledrejection",ke,Ne)}),re.rejection=Ee||yt(re)?2:1,Se.error))throw Se.value})},yt=function(re){return re.rejection!==1&&!re.parent},It=function(re){k(L,j,function(){var Se=re.facade;Ee?We.emit("rejectionHandled",Se):ut("rejectionhandled",Se,re.value)})},U=function(re,Se,ke){return function(Ne){re(Se,Ne,ke)}},ne=function(re,Se,ke){re.done||(re.done=!0,ke&&(re=ke),re.value=Se,re.state=2,kt(re,!0))},be=function(re,Se,ke){if(!re.done){re.done=!0,ke&&(re=ke);try{if(re.facade===Se)throw De("Promise can't be resolved itself");var Ne=$e(Se);Ne?$(function(){var Ve={done:!1};try{k(Ne,Se,U(be,Ve,re),U(ne,Ve,re))}catch(gt){ne(Ve,gt,re)}}):(re.value=Se,re.state=1,kt(re,!1))}catch(Ve){ne({done:!1},Ve,re)}}};if(Fe&&(me=(oe=function(re){H(this,me),J(re),k(f,this);var Se=Ce(this);try{re(U(be,Se),U(ne,Se))}catch(ke){ne(Se,ke)}}).prototype,(f=function(re){et(this,{type:Pe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=X(me,{then:function(re,Se){var ke=Q(this),Ne=ke.reactions,Ve=Ue(R(this,oe));return Ve.ok=!Y(re)||re,Ve.fail=Y(Se)&&Se,Ve.domain=Ee?We.domain:void 0,ke.parent=!0,Ne[Ne.length]=Ve,ke.state!=0&&kt(ke,!1),Ve.promise},catch:function(re){return this.then(void 0,re)}}),s=function(){var re=new f,Se=Ce(re);this.promise=re,this.resolve=U(be,Se),this.reject=U(ne,Se)},ve.f=Ue=function(re){return re===oe||re===v?new s(re):tt(re)},!w&&Y(N)&&Z!==Object.prototype)){_=Z.then,ee||(I(Z,"then",function(re,Se){var ke=this;return new oe(function(Ne,Ve){k(_,ke,Ne,Ve)}).then(re,Se)},{unsafe:!0}),I(Z,"catch",me.catch,{unsafe:!0}));try{delete Z.constructor}catch{}V&&V(Z,me)}O({global:!0,wrap:!0,forced:Fe},{Promise:oe}),F(oe,Pe,!1,!0),K(Pe),v=S(Pe),O({target:Pe,stat:!0,forced:Fe},{reject:function(re){var Se=Ue(this);return k(Se.reject,void 0,re),Se.promise}}),O({target:Pe,stat:!0,forced:w||Fe},{resolve:function(re){return ie(w&&this===v?oe:this,re)}}),O({target:Pe,stat:!0,forced:Xe},{all:function(re){var Se=this,ke=Ue(Se),Ne=ke.resolve,Ve=ke.reject,gt=ye(function(){var wt=J(Se.resolve),Wt=[],Jt=0,ct=1;z(re,function(Ie){var Ye=Jt++,Ze=!1;ct++,k(wt,Se,Ie).then(function(rt){Ze||(Ze=!0,Wt[Ye]=rt,--ct||Ne(Wt))},Ve)}),--ct||Ne(Wt)});return gt.error&&Ve(gt.value),ke.promise},race:function(re){var Se=this,ke=Ue(Se),Ne=ke.reject,Ve=ye(function(){var gt=J(Se.resolve);z(re,function(wt){k(gt,Se,wt).then(ke.resolve,Ne)})});return Ve.error&&Ne(Ve.value),ke.promise}})},function(c,p,i){var f=i(7);c.exports=f.Promise},function(c,p,i){var f,s,v,_,O,w,j,S,k=i(7),N=i(62),I=i(51).f,X=i(161).set,V=i(162),F=i(207),K=i(208),J=i(126),Y=k.MutationObserver||k.WebKitMutationObserver,C=k.document,H=k.process,T=k.Promise,z=I(k,"queueMicrotask"),G=z&&z.value;G||(f=function(){var R,L;for(J&&(R=H.domain)&&R.exit();s;){L=s.fn,s=s.next;try{L()}catch($){throw s?_():v=void 0,$}}v=void 0,R&&R.enter()},V||J||K||!Y||!C?!F&&T&&T.resolve?((j=T.resolve(void 0)).constructor=T,S=N(j.then,j),_=function(){S(f)}):J?_=function(){H.nextTick(f)}:(X=N(X,k),_=function(){X(f)}):(O=!0,w=C.createTextNode(""),new Y(f).observe(w,{characterData:!0}),_=function(){w.data=O=!O})),c.exports=G||function(R){var L={fn:R,next:void 0};v&&(v.next=L),s||(s=L,_()),v=L}},function(c,p,i){var f=i(53),s=i(7);c.exports=/ipad|iphone|ipod/i.test(f)&&s.Pebble!==void 0},function(c,p,i){var f=i(53);c.exports=/web0s(?!.*chrome)/i.test(f)},function(c,p,i){var f=i(32),s=i(33),v=i(163);c.exports=function(_,O){if(f(_),s(O)&&O.constructor===_)return O;var w=v.f(_);return(0,w.resolve)(O),w.promise}},function(c,p,i){var f=i(7);c.exports=function(s,v){var _=f.console;_&&_.error&&(arguments.length==1?_.error(s):_.error(s,v))}},function(c,p){c.exports=function(i){try{return{error:!1,value:i()}}catch(f){return{error:!0,value:f}}}},function(c,p){c.exports=typeof window=="object"},function(c,p,i){var f=i(36),s=i(15),v=i(66),_=i(39),O=s(i(92).f),w=s([].push),j=function(S){return function(k){for(var N,I=_(k),X=v(I),V=X.length,F=0,K=[];V>F;)N=X[F++],f&&!O(I,N)||w(K,S?[N,I[N]]:I[N]);return K}};c.exports={entries:j(!0),values:j(!1)}},function(c,p,i){var f=i(38),s=i(67),v=i(43);c.exports=function(_){for(var O=f(this),w=v(O),j=arguments.length,S=s(j>1?arguments[1]:void 0,w),k=j>2?arguments[2]:void 0,N=k===void 0?w:s(k,w);N>S;)O[S++]=_;return O}},function(c,p,i){i.r(p),i.d(p,"observer",function(){return Ln}),i.d(p,"LogicFlow",function(){return Kc}),i.d(p,"h",function(){return ee.g}),i.d(p,"LogicFlowUtil",function(){return f}),i.d(p,"BaseNode",function(){return hr}),i.d(p,"RectNode",function(){return pc}),i.d(p,"CircleNode",function(){return hc}),i.d(p,"PolygonNode",function(){return vc}),i.d(p,"DiamondNode",function(){return bc}),i.d(p,"EllipseNode",function(){return _c}),i.d(p,"TextNode",function(){return wc}),i.d(p,"HtmlNode",function(){return Ec}),i.d(p,"BaseEdge",function(){return vi}),i.d(p,"LineEdge",function(){return Cc}),i.d(p,"PolylineEdge",function(){return Lc}),i.d(p,"BezierEdge",function(){return Fc}),i.d(p,"Arrow",function(){return Yh}),i.d(p,"BaseEdgeModel",function(){return ju}),i.d(p,"BezierEdgeModel",function(){return Ku}),i.d(p,"LineEdgeModel",function(){return Pu}),i.d(p,"PolylineEdgeModel",function(){return Tu}),i.d(p,"BaseNodeModel",function(){return pr}),i.d(p,"CircleNodeModel",function(){return Zu}),i.d(p,"DiamondNodeModel",function(){return Qu}),i.d(p,"EllipseNodeModel",function(){return ec}),i.d(p,"PolygonNodeModel",function(){return nc}),i.d(p,"RectNodeModel",function(){return rc}),i.d(p,"TextNodeModel",function(){return oc}),i.d(p,"HtmlNodeModel",function(){return ac}),i.d(p,"EditConfigModel",function(){return Ns}),i.d(p,"GraphModel",function(){return xf}),i.d(p,"SnaplineModel",function(){return Kd}),i.d(p,"Keyboard",function(){return Iy}),i.d(p,"get",function(){return gp}),i.d(p,"defaults",function(){return mp});var f={};i.r(f),i.d(f,"createUuid",function(){return Yr}),i.d(f,"refreshGraphId",function(){return fb}),i.d(f,"createDrag",function(){return Ru}),i.d(f,"StepDrag",function(){return $r});var s=i(0),v=i(10);if(!v.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var _=i(42),O=Object(_.b)("observerBatching");function w(e){e()}var j=!1;function S(){return j}function k(e){return Object(s.t)(e)}var N,I=1e4,X=new Set;function V(){N===void 0&&(N=setTimeout(F,1e4))}function F(){N=void 0;var e=Date.now();X.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,X.delete(t))}),X.size>0&&V()}var K=!1,J=[],Y={};function C(e){return"observer"+e}function H(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=Y),S();var r,a=function(m){return function(){K?J.push(m):m()}}((n.useForceUpdate||_.d)()),o=v.d.useRef(null);if(!o.current){var u=new s.c(C(t),function(){l.mounted?a():(u.dispose(),o.current=null)}),l=function(m){return{cleanAt:Date.now()+I,reaction:m}}(u);o.current=l,r=o,X.add(r),V()}var d=o.current.reaction;return v.d.useDebugValue(d,k),v.d.useEffect(function(){var m;return m=o,X.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(C(t),function(){a()}),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){K=!0,J=[];try{var x=m();K=!1;var P=J.length>0?J:void 0;return v.d.useLayoutEffect(function(){P&&P.forEach(function(A){return A()})},[P]),x}finally{K=!1}}(function(){var m,x;if(d.track(function(){try{m=e()}catch(P){x=P}}),x)throw x;return m})}var T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function z(e,t){var n,r,a,o=T({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,m){return H(function(){return e(d,m)},u)};return l.displayName=u,n=o.forwardRef?Object(v.f)(Object(v.e)(l)):Object(v.f)(l),r=e,a=n,Object.keys(r).forEach(function(d){G[d]||Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var G={$$typeof:!0,render:!0,compare:!0,type:!0};function R(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:H(r)}function L(e,t,n,r,a){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}R.propTypes={children:L,render:L},R.displayName="Observer";var $;($=v.g)||($=w),Object(s.n)({reactionScheduler:$}),Object(_.a)()[O]=!0;var ie=0,fe={};function ve(e){return fe[e]||(fe[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+ie+")";return ie++,n}(e)),fe[e]}function ye(e,t){if(pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!pe(e[n[a]],t[n[a]]))return!1;return!0}function pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var le=ve("patchMixins"),de=ve("patchedDefinition");function Ee(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,a)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,a)})}}function Ae(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ee.call.apply(Ee,[this,e,t].concat(r))}}function Me(e,t,n){var r=function(l,d){var m=l[le]=l[le]||{},x=m[d]=m[d]||{};return x.locks=x.locks||0,x.methods=x.methods||[],x}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[de]){var o=e[t],u=function l(d,m,x,P,A){var B,q=Ae(A,P);return(B={})[de]=!0,B.get=function(){return q},B.set=function(te){if(this===d)q=Ae(te,P);else{var ce=l(this,m,x,P,te);Object.defineProperty(this,m,ce)}},B.configurable=!0,B.enumerable=x,B}(e,t,a?a.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Pe=s.a||"$mobx",Ce=ve("isMobXReactObserver"),et=ve("isUnmounted"),Q=ve("skipRender"),Z=ve("isForcingUpdate");function oe(e){var t=e.prototype;if(e[Ce]){var n=me(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Ce]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==v.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==we)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=we;We(t,"props"),We(t,"state");var r=t.render;return t.render=function(){return De.call(this,r)},Me(t,"componentWillUnmount",function(){var a;if((a=this.render[Pe])===null||a===void 0||a.dispose(),this[et]=!0,!this.render[Pe]){var o=me(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function me(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function De(e){var t=this;se(this,Q,!1),se(this,Z,!1);var n=me(this),r=e.bind(this),a=!1,o=new s.c(n+".render()",function(){if(!a&&(a=!0,t[et]!==!0)){var l=!0;try{se(t,Z,!0),t[Q]||v.a.prototype.forceUpdate.call(t),l=!1}finally{se(t,Z,!1),l&&o.dispose()}}});function u(){a=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(m){l=m}}),l)throw l;return d}return o.reactComponent=this,u[Pe]=o,this.render=u,u.call(this)}function we(e,t){return this.state!==t||!ye(this.props,e)}function We(e,t){var n=ve("reactProp_"+t+"_valueHolder"),r=ve("reactProp_"+t+"_atomHolder");function a(){return this[r]||se(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),a.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[Z]||ye(this[n],o)?se(this,n,o):(se(this,n,o),se(this,Q,!0),a.call(this).reportChanged(),se(this,Q,!1))}})}var Ue=typeof Symbol=="function"&&Symbol.for,tt=Ue?Symbol.for("react.forward_ref"):typeof v.e=="function"&&Object(v.e)(function(e){return null}).$$typeof,qe=Ue?Symbol.for("react.memo"):typeof v.f=="function"&&Object(v.f)(function(e){return null}).$$typeof;function _e(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),qe&&e.$$typeof===qe)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(tt&&e.$$typeof===tt){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(v.e)(function(){var n=arguments;return Object(v.c)(R,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(v.a,e)?oe(e):z(e)}if(!v.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var ee=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(186),i(191),i(102),i(152),i(153);var Fe=function(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},Xe=function(){this.__data__=[],this.size=0},$e=function(e,t){return e===t||e!=e&&t!=t},kt=function(e,t){for(var n=e.length;n--;)if($e(e[n][0],t))return n;return-1},ut=Array.prototype.splice,lt=function(e){var t=this.__data__,n=kt(t,e);return!(n<0)&&(n==t.length-1?t.pop():ut.call(t,n,1),--this.size,!0)},yt=function(e){var t=this.__data__,n=kt(t,e);return n<0?void 0:t[n][1]},It=function(e){return kt(this.__data__,e)>-1},U=function(e,t){var n=this.__data__,r=kt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ne(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=Xe,ne.prototype.delete=lt,ne.prototype.get=yt,ne.prototype.has=It,ne.prototype.set=U;var be=ne,re=function(){this.__data__=new be,this.size=0},Se=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke=function(e){return this.__data__.get(e)},Ne=function(e){return this.__data__.has(e)},Ve=i(30),gt=Ve.a.Symbol,wt=Object.prototype,Wt=wt.hasOwnProperty,Jt=wt.toString,ct=gt?gt.toStringTag:void 0,Ie=function(e){var t=Wt.call(e,ct),n=e[ct];try{e[ct]=void 0;var r=!0}catch{}var a=Jt.call(e);return r&&(t?e[ct]=n:delete e[ct]),a},Ye=Object.prototype.toString,Ze=function(e){return Ye.call(e)},rt=gt?gt.toStringTag:void 0,xt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":rt&&rt in Object(e)?Ie(e):Ze(e)},Mt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Qt,Io=function(e){if(!Mt(e))return!1;var t=xt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},zn=Ve.a["__core-js_shared__"],or=(Qt=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||""))?"Symbol(src)_1."+Qt:"",ao=function(e){return!!or&&or in e},$a=Function.prototype.toString,jn=function(e){if(e!=null){try{return $a.call(e)}catch{}try{return e+""}catch{}}return""},uo=/^\[object .+?Constructor\]$/,Ti=Function.prototype,Be=Object.prototype,Ka=Ti.toString,Ai=Be.hasOwnProperty,Mi=RegExp("^"+Ka.call(Ai).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dn=function(e){return!(!Mt(e)||ao(e))&&(Io(e)?Mi:uo).test(jn(e))},hn=function(e,t){return e==null?void 0:e[t]},Bn=function(e,t){var n=hn(e,t);return dn(n)?n:void 0},_r=Bn(Ve.a,"Map"),Sn=Bn(Object,"create"),Lo=function(){this.__data__=Sn?Sn(null):{},this.size=0},Di=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qa=Object.prototype.hasOwnProperty,co=function(e){var t=this.__data__;if(Sn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return qa.call(t,e)?t[e]:void 0},Za=Object.prototype.hasOwnProperty,Ni=function(e){var t=this.__data__;return Sn?t[e]!==void 0:Za.call(t,e)},Ja=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sn&&t===void 0?"__lodash_hash_undefined__":t,this};function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ir.prototype.clear=Lo,ir.prototype.delete=Di,ir.prototype.get=co,ir.prototype.has=Ni,ir.prototype.set=Ja;var Ci=ir,Fn=function(){this.size=0,this.__data__={hash:new Ci,map:new(_r||be),string:new Ci}},Qa=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},so=function(e,t){var n=e.__data__;return Qa(t)?n[typeof t=="string"?"string":"hash"]:n.map},zo=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Bo=function(e){return so(this,e).get(e)},eu=function(e){return so(this,e).has(e)},Ri=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=Fn,Or.prototype.delete=zo,Or.prototype.get=Bo,Or.prototype.has=eu,Or.prototype.set=Ri;var wr=Or,Ii=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!_r||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wr(r)}return n.set(e,t),this.size=n.size,this};function xr(e){var t=this.__data__=new be(e);this.size=t.size}xr.prototype.clear=re,xr.prototype.delete=Se,xr.prototype.get=ke,xr.prototype.has=Ne,xr.prototype.set=Ii;var Hn=xr,Li=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zi=function(e){return this.__data__.has(e)};function Cr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wr;++t<n;)this.add(e[t])}Cr.prototype.add=Cr.prototype.push=Li,Cr.prototype.has=zi;var Bi=Cr,tu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Fi=function(e,t){return e.has(t)},Hi=function(e,t,n,r,a,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var m=o.get(e),x=o.get(t);if(m&&x)return m==t&&x==e;var P=-1,A=!0,B=2&n?new Bi:void 0;for(o.set(e,t),o.set(t,e);++P<l;){var q=e[P],te=t[P];if(r)var ce=u?r(te,q,P,t,e,o):r(q,te,P,e,t,o);if(ce!==void 0){if(ce)continue;A=!1;break}if(B){if(!tu(t,function(ue,he){if(!Fi(B,he)&&(q===ue||a(q,ue,n,r,o)))return B.push(he)})){A=!1;break}}else if(q!==te&&!a(q,te,n,r,o)){A=!1;break}}return o.delete(e),o.delete(t),A},Rr=Ve.a.Uint8Array,Xi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n},nu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Gi=gt?gt.prototype:void 0,Fo=Gi?Gi.valueOf:void 0,Ir=function(e,t,n,r,a,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Rr(e),new Rr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $e(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Xi;case"[object Set]":var d=1&r;if(l||(l=nu),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var x=Hi(l(e),l(t),r,a,o,u);return u.delete(e),x;case"[object Symbol]":if(Fo)return Fo.call(e)==Fo.call(t)}return!1},Xn=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},Gt=Array.isArray,Vi=function(e,t,n){var r=t(e);return Gt(e)?r:Xn(r,n(e))},ru=function(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[a++]=u)}return o},Ui=function(){return[]},Er=Object.prototype.propertyIsEnumerable,Yi=Object.getOwnPropertySymbols,Ho=Yi?function(e){return e==null?[]:(e=Object(e),ru(Yi(e),function(t){return Er.call(e,t)}))}:Ui,mn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},_n=function(e){return e!=null&&typeof e=="object"},Xo=function(e){return _n(e)&&xt(e)=="[object Arguments]"},Wi=Object.prototype,lo=Wi.hasOwnProperty,fo=Wi.propertyIsEnumerable,Lr=Xo(function(){return arguments}())?Xo:function(e){return _n(e)&&lo.call(e,"callee")&&!fo.call(e,"callee")},zr=i(48),On=/^(?:0|[1-9]\d*)$/,Gn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&On.test(e))&&e>-1&&e%1==0&&e<t},sn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;var Br=function(e){return _n(e)&&sn(e.length)&&!!ft[xt(e)]},en=function(e){return function(t){return e(t)}},jr=i(49),$i=jr.a&&jr.a.isTypedArray,po=$i?en($i):Br,Pn=Object.prototype.hasOwnProperty,Go=function(e,t){var n=Gt(e),r=!n&&Lr(e),a=!n&&!r&&Object(zr.a)(e),o=!n&&!r&&!a&&po(e),u=n||r||a||o,l=u?mn(e.length,String):[],d=l.length;for(var m in e)!t&&!Pn.call(e,m)||u&&(m=="length"||a&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Gn(m,d))||l.push(m);return l},ou=Object.prototype,ln=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||ou)},Vo=function(e,t){return function(n){return e(t(n))}},iu=Vo(Object.keys,Object),Uo=Object.prototype.hasOwnProperty,tn=function(e){if(!ln(e))return iu(e);var t=[];for(var n in Object(e))Uo.call(e,n)&&n!="constructor"&&t.push(n);return t},ar=function(e){return e!=null&&sn(e.length)&&!Io(e)},ur=function(e){return ar(e)?Go(e):tn(e)},$t=function(e){return Vi(e,ur,Ho)},Ki=Object.prototype.hasOwnProperty,Yo=function(e,t,n,r,a,o){var u=1&n,l=$t(e),d=l.length;if(d!=$t(t).length&&!u)return!1;for(var m=d;m--;){var x=l[m];if(!(u?x in t:Ki.call(t,x)))return!1}var P=o.get(e),A=o.get(t);if(P&&A)return P==t&&A==e;var B=!0;o.set(e,t),o.set(t,e);for(var q=u;++m<d;){var te=e[x=l[m]],ce=t[x];if(r)var ue=u?r(ce,te,x,t,e,o):r(te,ce,x,e,t,o);if(!(ue===void 0?te===ce||a(te,ce,n,r,o):ue)){B=!1;break}q||(q=x=="constructor")}if(B&&!q){var he=e.constructor,Oe=t.constructor;he==Oe||!("constructor"in e)||!("constructor"in t)||typeof he=="function"&&he instanceof he&&typeof Oe=="function"&&Oe instanceof Oe||(B=!1)}return o.delete(e),o.delete(t),B},ho=Bn(Ve.a,"DataView"),yo=Bn(Ve.a,"Promise"),vo=Bn(Ve.a,"Set"),Wo=Bn(Ve.a,"WeakMap"),yn=jn(ho),wn=jn(_r),Fr=jn(yo),qi=jn(vo),$o=jn(Wo),Vn=xt;(ho&&Vn(new ho(new ArrayBuffer(1)))!="[object DataView]"||_r&&Vn(new _r)!="[object Map]"||yo&&Vn(yo.resolve())!="[object Promise]"||vo&&Vn(new vo)!="[object Set]"||Wo&&Vn(new Wo)!="[object WeakMap]")&&(Vn=function(e){var t=xt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?jn(n):"";if(r)switch(r){case yn:return"[object DataView]";case wn:return"[object Map]";case Fr:return"[object Promise]";case qi:return"[object Set]";case $o:return"[object WeakMap]"}return t});var Hr=Vn,Xr=Object.prototype.hasOwnProperty,au=function(e,t,n,r,a,o){var u=Gt(e),l=Gt(t),d=u?"[object Array]":Hr(e),m=l?"[object Array]":Hr(t),x=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",P=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",A=d==m;if(A&&Object(zr.a)(e)){if(!Object(zr.a)(t))return!1;u=!0,x=!1}if(A&&!x)return o||(o=new Hn),u||po(e)?Hi(e,t,n,r,a,o):Ir(e,t,d,n,r,a,o);if(!(1&n)){var B=x&&Xr.call(e,"__wrapped__"),q=P&&Xr.call(t,"__wrapped__");if(B||q){var te=B?e.value():e,ce=q?t.value():t;return o||(o=new Hn),a(te,ce,n,r,o)}}return!!A&&(o||(o=new Hn),Yo(e,t,n,r,a,o))},y=function e(t,n,r,a,o){return t===n||(t==null||n==null||!_n(t)&&!_n(n)?t!=t&&n!=n:au(t,n,r,a,e,o))},g=function(e,t,n,r){var a=n.length,o=a,u=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var d=(l=n[a])[0],m=e[d],x=l[1];if(u&&l[2]){if(m===void 0&&!(d in e))return!1}else{var P=new Hn;if(r)var A=r(m,x,d,e,t,P);if(!(A===void 0?y(x,m,3,r,P):A))return!1}}return!0},E=function(e){return e==e&&!Mt(e)},M=function(e){for(var t=ur(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,E(a)]}return t},D=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},W=function(e){var t=M(e);return t.length==1&&t[0][2]?D(t[0][0],t[0][1]):function(n){return n===e||g(n,e,t)}},ae=function(e){return typeof e=="symbol"||_n(e)&&xt(e)=="[object Symbol]"},xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,at=function(e,t){if(Gt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!ae(e))||Le.test(e)||!xe.test(e)||t!=null&&e in Object(t)};function ot(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=e.apply(this,r);return n.cache=o.set(a,u)||o,u};return n.cache=new(ot.Cache||wr),n}ot.Cache=wr;var Et=ot,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,Pt=function(e){var t=Et(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(n,r,a,o){t.push(a?o.replace(vt,"$1"):r||n)}),t}),jt=gt?gt.prototype:void 0,mt=jt?jt.toString:void 0,kn=function e(t){if(typeof t=="string")return t;if(Gt(t))return Fe(t,e)+"";if(ae(t))return mt?mt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},uu=function(e){return e==null?"":kn(e)},Gr=function(e,t){return Gt(e)?e:at(e,t)?[e]:Pt(uu(e))},Sr=function(e){if(typeof e=="string"||ae(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vr=function(e,t){for(var n=0,r=(t=Gr(t,e)).length;e!=null&&n<r;)e=e[Sr(t[n++])];return n&&n==r?e:void 0},Ko=function(e,t,n){var r=e==null?void 0:Vr(e,t);return r===void 0?n:r},nn=function(e,t){return e!=null&&t in Object(e)},Zi=function(e,t,n){for(var r=-1,a=(t=Gr(t,e)).length,o=!1;++r<a;){var u=Sr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=a?o:!!(a=e==null?0:e.length)&&sn(a)&&Gn(u,a)&&(Gt(e)||Lr(e))},qo=function(e,t){return e!=null&&Zi(e,t,nn)},tg=function(e,t){return at(e)&&E(t)?D(Sr(e),t):function(n){var r=Ko(n,e);return r===void 0&&r===t?qo(n,e):y(t,r,3)}},cu=function(e){return e},ng=function(e){return function(t){return t==null?void 0:t[e]}},rg=function(e){return function(t){return Vr(t,e)}},og=function(e){return at(e)?ng(Sr(e)):rg(e)},ig=function(e){return typeof e=="function"?e:e==null?cu:typeof e=="object"?Gt(e)?tg(e[0],e[1]):W(e):og(e)},ss=function(e){return function(t,n,r){for(var a=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++a];if(n(o[d],d,o)===!1)break}return t}}(),ag=function(e,t){return function(n,r){if(n==null)return n;if(!ar(n))return e(n,r);for(var a=n.length,o=t?a:-1,u=Object(n);(t?o--:++o<a)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&ss(e,t,ur)}),ug=function(e,t){var n=-1,r=ar(e)?Array(e.length):[];return ag(e,function(a,o,u){r[++n]=t(a,o,u)}),r},Ji=function(e,t){return(Gt(e)?Fe:ug)(e,ig(t))},Qi=function(){try{var e=Bn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),su=function(e,t,n){t=="__proto__"&&Qi?Qi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},cg=Object.prototype.hasOwnProperty,ea=function(e,t,n){var r=e[t];cg.call(e,t)&&$e(r,n)&&(n!==void 0||t in e)||su(e,t,n)},go=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),a?su(n,l,d):ea(n,l,d)}return n},sg=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ls=Math.max,fs=function(e,t,n){return t=ls(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=ls(r.length-t,0),u=Array(o);++a<o;)u[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(u),sg(e,this,l)}},lg=function(e){return function(){return e}},fg=Qi?function(e,t){return Qi(e,"toString",{configurable:!0,enumerable:!1,value:lg(t),writable:!0})}:cu,pg=Date.now,ps=function(e){var t=0,n=0;return function(){var r=pg(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fg),dg=function(e,t){return ps(fs(e,t,cu),e+"")},hg=function(e,t,n){if(!Mt(n))return!1;var r=typeof t;return!!(r=="number"?ar(n)&&Gn(t,n.length):r=="string"&&t in n)&&$e(n[t],e)},ds=function(e){return dg(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,u&&hg(n[0],n[1],u)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})},yg=Object.prototype.hasOwnProperty,rn=ds(function(e,t){if(ln(t)||ar(t))go(t,ur(t),e);else for(var n in t)yg.call(t,n)&&ea(e,n,t[n])}),vg=function(e,t,n,r){if(!Mt(e))return e;for(var a=-1,o=(t=Gr(t,e)).length,u=o-1,l=e;l!=null&&++a<o;){var d=Sr(t[a]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=u){var x=l[d];(m=r?r(x,d,l):void 0)===void 0&&(m=Mt(x)?x:Gn(t[a+1])?[]:{})}ea(l,d,m),l=l[d]}return e},gg=function(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var u=t[r],l=Vr(e,u);n(l,u)&&vg(o,Gr(u,e),l)}return o},bg=function(e,t){return gg(e,t,function(n,r){return qo(e,r)})},hs=gt?gt.isConcatSpreadable:void 0,mg=function(e){return Gt(e)||Lr(e)||!!(hs&&e&&e[hs])},_g=function e(t,n,r,a,o){var u=-1,l=t.length;for(r||(r=mg),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,a,o):Xn(o,d):a||(o[o.length]=d)}return o},Og=function(e){return e!=null&&e.length?_g(e,1):[]},Lt,ys,vs,gs,bs,ms,_s,Os,ws,xs,Es,js,Ss,Ps,ks,Ts,As,Zo=function(e){return ps(fs(e,void 0,Og),e+"")}(function(e,t){return e==null?{}:bg(e,t)});function Kt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var St,Ds,pt,Ht,nt,At,xg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},lu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Ns=(ys=Vt((Lt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Kt(this,"isSilentMode",ys,this),Kt(this,"stopZoomGraph",vs,this),Kt(this,"stopScrollGraph",gs,this),Kt(this,"stopMoveGraph",bs,this),Kt(this,"adjustEdge",ms,this),Kt(this,"adjustEdgeMiddle",_s,this),Kt(this,"adjustEdgeStartAndEnd",Os,this),Kt(this,"adjustNodePosition",ws,this),Kt(this,"hideAnchors",xs,this),Kt(this,"hoverOutline",Es,this),Kt(this,"nodeSelectedOutline",js,this),Kt(this,"edgeSelectedOutline",Ss,this),Kt(this,"nodeTextEdit",Ps,this),Kt(this,"edgeTextEdit",ks,this),Kt(this,"nodeTextDraggable",Ts,this),Kt(this,"edgeTextDraggable",As,this),Ms(this,"multipleSelectKey",""),Ms(this,"defaultConfig",{}),rn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);rn(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,o=r.textEdit,u={};if(a===!1&&rn(u,this.defaultConfig),a===!0){var l=Zo(xg,lu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},rn(u,l)}o===!1&&rn(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Zo(r,lu);return rn(u,d)}},{key:"getConfig",value:function(){return Zo(this,lu)}}])&&wg(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=Vt(Lt.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Vt(Lt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Vt(Lt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Vt(Lt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Vt(Lt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Vt(Lt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=Vt(Lt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xs=Vt(Lt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Es=Vt(Lt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),js=Vt(Lt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Vt(Lt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Vt(Lt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ks=Vt(Lt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ts=Vt(Lt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),As=Vt(Lt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt(Lt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEditConfig"),Lt.prototype),Lt);i(103),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ds||(Ds={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(pt||(pt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Ht||(Ht={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(nt||(nt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(At||(At={}));var vn,zt,Cs,Rs,Is,Ls,zs,Bs,Fs;function ta(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hs(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hs(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(vn||(vn={}));var jg=(Cs=Tn((zt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),fu(this,"MINI_SCALE_SIZE",.2),fu(this,"MAX_SCALE_SIZE",16),Ur(this,"SCALE_X",Cs,this),Ur(this,"SKEW_Y",Rs,this),Ur(this,"SKEW_X",Is,this),Ur(this,"SCALE_Y",Ls,this),Ur(this,"TRANSLATE_X",zs,this),Ur(this,"TRANSLATE_Y",Bs,this),Ur(this,"ZOOM_SIZE",Fs,this),fu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=ta(r,2),o=a[0],u=a[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=ta(r,2),o=a[0],u=a[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,o){var u=ta(r,2),l=u[0],d=u[1];return[l+a/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(o-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*a[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(nt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=a,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,o,u){var l=ta(this.CanvasPointToHtmlPoint([r,a]),2),d=o/2-l[0],m=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&Eg(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rs=Tn(zt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Is=Tn(zt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=Tn(zt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zs=Tn(zt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bs=Tn(zt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=Tn(zt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Tn(zt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"zoom"),zt.prototype),Tn(zt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"resetZoom"),zt.prototype),Tn(zt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"translate"),zt.prototype),Tn(zt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"focusOn"),zt.prototype),zt),Sg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Pg=function(e,t){return e&&go(t,ur(t),e)},kg=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},Tg=Object.prototype.hasOwnProperty,Ag=function(e){if(!Mt(e))return kg(e);var t=ln(e),n=[];for(var r in e)(r!="constructor"||!t&&Tg.call(e,r))&&n.push(r);return n},Jo=function(e){return ar(e)?Go(e,!0):Ag(e)},Mg=function(e,t){return e&&go(t,Jo(t),e)},Xs=i(106),Gs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Dg=function(e,t){return go(e,Ho(e),t)},pu=Vo(Object.getPrototypeOf,Object),Vs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xn(t,Ho(e)),e=pu(e);return t}:Ui,Ng=function(e,t){return go(e,Vs(e),t)},Cg=function(e){return Vi(e,Jo,Vs)},Rg=Object.prototype.hasOwnProperty,Ig=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Rg.call(e,"index")&&(n.index=e.index,n.input=e.input),n},du=function(e){var t=new e.constructor(e.byteLength);return new Rr(t).set(new Rr(e)),t},Lg=function(e,t){var n=t?du(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},zg=/\w*$/,Bg=function(e){var t=new e.constructor(e.source,zg.exec(e));return t.lastIndex=e.lastIndex,t},Us=gt?gt.prototype:void 0,Ys=Us?Us.valueOf:void 0,Fg=function(e){return Ys?Object(Ys.call(e)):{}},Ws=function(e,t){var n=t?du(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Hg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return du(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Lg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ws(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Bg(e);case"[object Set]":return new r;case"[object Symbol]":return Fg(e)}},$s=Object.create,Xg=function(){function e(){}return function(t){if(!Mt(t))return{};if($s)return $s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ks=function(e){return typeof e.constructor!="function"||ln(e)?{}:Xg(pu(e))},Gg=function(e){return _n(e)&&Hr(e)=="[object Map]"},qs=jr.a&&jr.a.isMap,Vg=qs?en(qs):Gg,Ug=function(e){return _n(e)&&Hr(e)=="[object Set]"},Zs=jr.a&&jr.a.isSet,Yg=Zs?en(Zs):Ug,Tt={};Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object DataView]"]=Tt["[object Boolean]"]=Tt["[object Date]"]=Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object Symbol]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object WeakMap]"]=!1;var Wg=function e(t,n,r,a,o,u){var l,d=1&n,m=2&n,x=4&n;if(r&&(l=o?r(t,a,o,u):r(t)),l!==void 0)return l;if(!Mt(t))return t;var P=Gt(t);if(P){if(l=Ig(t),!d)return Gs(t,l)}else{var A=Hr(t),B=A=="[object Function]"||A=="[object GeneratorFunction]";if(Object(zr.a)(t))return Object(Xs.a)(t,d);if(A=="[object Object]"||A=="[object Arguments]"||B&&!o){if(l=m||B?{}:Ks(t),!d)return m?Ng(t,Mg(l,t)):Dg(t,Pg(l,t))}else{if(!Tt[A])return o?t:{};l=Hg(t,A,d)}}u||(u=new Hn);var q=u.get(t);if(q)return q;u.set(t,l),Yg(t)?t.forEach(function(ce){l.add(e(ce,n,r,ce,t,u))}):Vg(t)&&t.forEach(function(ce,ue){l.set(ue,e(ce,n,r,ue,t,u))});var te=P?void 0:(x?m?Cg:$t:m?Jo:ur)(t);return Sg(te||t,function(ce,ue){te&&(ce=t[ue=ce]),ea(l,ue,e(ce,n,r,ue,t,u))}),l},Dt=function(e){return Wg(e,5)},hu=function(e,t,n){(n!==void 0&&!$e(e[t],n)||n===void 0&&!(t in e))&&su(e,t,n)},$g=function(e){return _n(e)&&ar(e)},Kg=Function.prototype,qg=Object.prototype,Js=Kg.toString,Zg=qg.hasOwnProperty,Jg=Js.call(Object),Qg=function(e){if(!_n(e)||xt(e)!="[object Object]")return!1;var t=pu(e);if(t===null)return!0;var n=Zg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Js.call(n)==Jg},yu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},eb=function(e){return go(e,Jo(e))},tb=function(e,t,n,r,a,o,u){var l=yu(e,n),d=yu(t,n),m=u.get(d);if(m)hu(e,n,m);else{var x=o?o(l,d,n+"",e,t,u):void 0,P=x===void 0;if(P){var A=Gt(d),B=!A&&Object(zr.a)(d),q=!A&&!B&&po(d);x=d,A||B||q?Gt(l)?x=l:$g(l)?x=Gs(l):B?(P=!1,x=Object(Xs.a)(d,!0)):q?(P=!1,x=Ws(d,!0)):x=[]:Qg(d)||Lr(d)?(x=l,Lr(l)?x=eb(l):Mt(l)&&!Io(l)||(x=Ks(d))):P=!1}P&&(u.set(d,x),a(x,d,r,o,u),u.delete(d)),hu(e,n,x)}},nb=function e(t,n,r,a,o){t!==n&&ss(n,function(u,l){if(o||(o=new Hn),Mt(u))tb(t,n,l,r,e,a,o);else{var d=a?a(yu(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),hu(t,l,d)}},Jo)},Qs=ds(function(e,t,n){nb(e,t,n)}),rb={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},el=function(e){var t=Dt(rb);return e&&(t=Qs(t,e)),t};i(77),i(194);function ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ib=function(){function e(){var r,a,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,a,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:a,once:!!o})}),this}},{key:"once",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,a,!0)})}},{key:"emit",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],m=function(x){for(var P=x.length,A=0;A<P;A++)if(x[A]){var B=x[A],q=B.callback;B.once&&(x.splice(A,1),x.length===0&&delete o._events[u],P--,A--),q.apply(o,[a])}};m(l),m(d)})}},{key:"off",value:function(r,a){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(a){for(var l=o._events[u]||[],d=l.length,m=0;m<d;m++)l[m].callback===a&&(l.splice(m,1),d--,m--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&ob(t.prototype,n),e}();function bo(e,t){return t*Math.round(e/t)||e}function tl(e,t){return e%t}function vu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gu,bu=function(e,t,n){var r=vu(e,2),a=r[0],o=r[1],u=vu(t,2),l=u[0],d=u[1],m=vu(n,2),x=m[0],P=m[1];return a>l&&a<x&&o>d&&o<P},rl=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},ab=(i(78),i(160),i(125),i(79),i(12),i(13),i(14),i(47),i(31),new Uint8Array(16));function ub(){if(!gu&&!(gu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gu(ab)}for(var cb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sb=function(e){return typeof e=="string"&&cb.test(e)},Ut=[],mu=0;mu<256;++mu)Ut.push((mu+256).toString(16).substr(1));var lb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ut[e[t+0]]+Ut[e[t+1]]+Ut[e[t+2]]+Ut[e[t+3]]+"-"+Ut[e[t+4]]+Ut[e[t+5]]+"-"+Ut[e[t+6]]+Ut[e[t+7]]+"-"+Ut[e[t+8]]+Ut[e[t+9]]+"-"+Ut[e[t+10]]+Ut[e[t+11]]+Ut[e[t+12]]+Ut[e[t+13]]+Ut[e[t+14]]+Ut[e[t+15]]).toLowerCase();if(!sb(n))throw TypeError("Stringified UUID is invalid");return n},_u=function(e,t,n){var r=(e=e||{}).random||(e.rng||ub)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return lb(r)},Yr=function(){return _u()},fb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,a){return r[a.id]=t+_u(),a.id=r[a.id],r},{});return e.edges.forEach(function(r){r.id=t+_u(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Qo=(i(104),i(203),function(e,t,n){var r=e.x,a=e.y;return(r-t.x)*(r-n.x)<=0&&(a-t.y)*(a-n.y)<=0});function ol(e){return(ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?il(Object(n),!0).forEach(function(r){pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te,ul,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,_l,Ol,wl,Ou=function(e){return e.anchors},na=function(e,t){for(var n,r=t.nodes,a=r.length-1;a>=0;a--){var o=r[a];if(yb(e,o)){var u=hb(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!db(o,n.node,t)||(n=l)}}}return n},db=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},hb=function(e,t){for(var n,r=Ou(t),a=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Un(e.x,e.y,r[o].x,r[o].y);u<a&&(a=u,n={index:o,anchor:al(al({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Un=function(e,t,n,r){return Math.hypot(e-n,t-r)},Pr=function(e,t){var n=!1,r=gn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},yb=function(e,t){var n=!1,r=gn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},gn=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return{minX:t-r/2,minY:n-a/2,maxX:t+r/2,maxY:n+a/2,x:t,y:n,width:r,height:a,centerX:t,centerY:n}},xl=function(e,t,n){var r,a=function(u){var l=u,d=l.x,m=l.y,x=l.width,P=l.height,A=l.radius;return[{x:d-x/2+A,y:m-P/2+A,r:A},{x:d+x/2-A,y:m-P/2+A,r:A},{x:d-x/2+A,y:m+P/2-A,r:A},{x:d+x/2-A,y:m+P/2-A,r:A}]}(n),o=Number.MAX_SAFE_INTEGER;return a.forEach(function(u){var l=Un(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),wu(e,t,r)},wu=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.r;if(t===At.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),m=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===At.VERTICAL){var x=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),P=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),A=Math.abs(x-e.y)<Math.abs(P-e.y)?x:P;r={x:e.x,y:A}}return r},El=function(e,t){var n=t,r=!1,a=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,m=n.y,x=n.width,P=n.height;return e.y===m+P/2||e.y===m-P/2?r=e.x>a&&e.x<o:e.x!==d+x/2&&e.x!==d-x/2||(r=e.y>u&&e.y<l),r},jl=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.rx,d=a.ry;if(t===At.HORIZONTAL){var m=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),x=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(m-e.x)<Math.abs(x-e.x)?m:x,y:e.y}}else if(t===At.VERTICAL){var P=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),A=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),B=Math.abs(P-e.y)<Math.abs(A-e.y)?P:A;r={x:e.x,y:B}}return r},Sl=function(e,t,n){for(var r,a=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach(function(d){var m=d.start,x=d.end,P=m,A=x;m.x>x.x&&(P=x,A=m);var B={x:e.x,y:e.y};if(P.x===A.x&&t===At.HORIZONTAL&&(B={x:P.x,y:e.y}),P.y===A.y&&t===At.VERTICAL&&(B={x:e.x,y:P.y}),P.x!==A.x&&P.y!==A.y){var q=(A.y-P.y)/(A.x-P.x),te=(P.x*A.y-A.x*P.y)/(P.x-A.x);t===At.HORIZONTAL?B={x:(e.y-te)/q,y:e.y}:t===At.VERTICAL&&(B={x:e.x,y:q*e.x+te})}if(Qo(B,m,x)){var ce=Un(B.x,B.y,e.x,e.y);ce<o&&(o=ce,r=B)}}),r},Pl=function(e,t,n,r){var a=e.x,o=e.y;return t.x>e.x?a=e.x+n/2:t.x<e.x&&(a=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:a,y:o}},kl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,a=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=a,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},xu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,a=0;return t&&t.forEach(function(o){var u=nf(o);a=u>a?u:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},ra=function(e){return ol(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Tl={node:!1,edge:!1},vb={node:!0,edge:!0},gb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Yn=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},bb=1e3,mb=999,Eu=function(){return++bb};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Al(Object(n),!0).forEach(function(r){An(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ju=(ul=st((Te=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),An(this,"id",Yr()),qt(this,"type",ul,this),qt(this,"sourceNodeId",cl,this),qt(this,"targetNodeId",sl,this),qt(this,"startPoint",ll,this),qt(this,"endPoint",fl,this),qt(this,"text",pl,this),qt(this,"properties",dl,this),qt(this,"points",hl,this),qt(this,"pointsList",yl,this),qt(this,"isSelected",vl,this),qt(this,"isHovered",gl,this),qt(this,"isHitable",bl,this),qt(this,"draggable",ml,this),qt(this,"visible",_l,this),An(this,"graphModel",void 0),qt(this,"zIndex",Ol,this),An(this,"BaseType",Ht.EDGE),An(this,"modelType",pt.EDGE),qt(this,"state",wl,this),An(this,"additionStateData",void 0),An(this,"sourceAnchorId",""),An(this,"targetAnchorId",""),An(this,"menu",void 0),An(this,"customTextPosition",!1),An(this,"animationData",gb),this.graphModel=a,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}rn(this,zb(r)),this.graphModel.overlapMode===vn.INCREASE&&(this.zIndex=r.zIndex||Eu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Dt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Dt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var o,u;return Ou(r).forEach(function(l){var d=af(l,a);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var a,o,u=this;return Ou(r).forEach(function(l){var d=af(l,u.startPoint);o?d<o&&(o=d,a=l):(o=d,a=l)}),a}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:a,y:o,value:u}),this.graphModel.overlapMode===vn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=Yn(a),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=oa(oa({},this.properties),Yn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var a=this.textPosition,o=a.x,u=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,o=r.y;this.text.x=a,this.text.y=o}},{key:"moveText",value:function(r,a){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,x=o.editable;this.text={value:d,draggable:m,x:u+r,y:l+a,editable:x}}}},{key:"setText",value:function(r){r&&rn(this.text,r)}},{key:"updateText",value:function(r){this.text=oa(oa({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){rn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,o=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&_b(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cl=st(Te.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=st(Te.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=st(Te.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fl=st(Te.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=st(Te.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),dl=st(Te.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hl=st(Te.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yl=st(Te.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vl=st(Te.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=st(Te.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=st(Te.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ml=st(Te.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=st(Te.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=st(Te.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wl=st(Te.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),st(Te.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Te.prototype,"sourceNode"),Te.prototype),st(Te.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Te.prototype,"targetNode"),Te.prototype),st(Te.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Te.prototype,"textPosition"),Te.prototype),st(Te.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperty"),Te.prototype),st(Te.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperties"),Te.prototype),st(Te.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"formatText"),Te.prototype),st(Te.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"resetTextPosition"),Te.prototype),st(Te.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveText"),Te.prototype),st(Te.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setText"),Te.prototype),st(Te.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateText"),Te.prototype),st(Te.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setAnchors"),Te.prototype),st(Te.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setSelected"),Te.prototype),st(Te.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHovered"),Te.prototype),st(Te.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHitable"),Te.prototype),st(Te.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setElementState"),Te.prototype),st(Te.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStartPoint"),Te.prototype),st(Te.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveStartPoint"),Te.prototype),st(Te.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateEndPoint"),Te.prototype),st(Te.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveEndPoint"),Te.prototype),st(Te.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"setZIndex"),Te.prototype),st(Te.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"initPoints"),Te.prototype),st(Te.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAttributes"),Te.prototype),st(Te.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustStart"),Te.prototype),st(Te.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustEnd"),Te.prototype),st(Te.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAfterAdjustStartAndEnd"),Te.prototype),Te),Su=ju;function Ml(e){return(Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dl(Object(n),!0).forEach(function(r){Ll(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cl(){return(Cl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ei(e))!==null;);return e}function Rl(e,t){return(Rl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Eb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ei(e);if(t){var a=ei(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Il(e)}function Il(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it,zl,Pu=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rl(o,u)})(a,e);var t,n,r=Eb(a);function a(){var o;Ob(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ll(Il(o=r.call.apply(r,[this].concat(l))),"modelType",pt.LINE_EDGE),o}return t=a,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Nl(Nl({},Cl(ei(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&wb(t.prototype,n),a}(Su);function Bl(e){return(Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Fl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hl(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(){return(ia=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Ab(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Ab(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Wr(e))!==null;);return e}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Mb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wr(e);if(t){var a=Wr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}function ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Tu=(zl=on((it=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gl(o,u)})(a,e);var t,n,r=Mb(a);function a(){var o;kb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ku(ti(o=r.call.apply(r,[this].concat(l))),"modelType",pt.POLYLINE_EDGE),ku(ti(o),"draginngPointList",void 0),Pb(ti(o),"dbClickPosition",zl,ti(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=30,ia(Wr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Xl(Xl({},ia(Wr(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=mo(this.points),m=Sb(Ib(d),2),x=m[0],P=m[1];return{x:(x.x+P.x)/2,y:(x.y+P.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,m;return l.forEach(function(x){var P;o===At.HORIZONTAL?P=Math.abs(u.y-x.y):o===At.VERTICAL&&(P=Math.abs(u.x-x.x)),(!m||m>P)&&(m=P,d=x)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===At.HORIZONTAL?d={x:l.x,y:u.y}:o===At.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(ue){return ue});if(o===1){var m=d[o],x=d[u],P=d[o-1];if(Jl(P,m,this.sourceNode)){if(Ql(m,x,this.sourceNode)){var A=ef(m,x,this.sourceNode);A&&(d[o]=A,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(ue){(ue.x===P.x&&ue.x===m.x||ue.y===P.y&&ue.y===m.y)&&Un(ue.x,ue.y,m.x,m.y)<Un(P.x,P.y,m.x,m.y)&&(d[o-1]=ue)})}if(u===l.length-2){var B=d[o],q=d[u],te=d[u+1];if(Jl(q,te,this.targetNode)){if(Ql(B,q,this.targetNode)){var ce=ef(B,q,this.targetNode);ce&&(d[u]=ce,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(ue){(ue.x===te.x&&ue.x===q.x||ue.y===te.y&&ue.y===q.y)&&Un(ue.x,ue.y,q.x,q.y)<Un(te.x,te.y,q.x,q.y)&&(d[u+1]=ue)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,m){var x=m.map(function(B){return B}),P=this.getAfterAnchor(o,l,d),A=this.getCorssPoint(o,l,P);return u==="start"?(x.unshift(A),x.unshift(P)):(x.push(A),x.push(P)),x}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(Oe){return Oe}),l=o[0],d=o[1],m=o[u.length-2],x=o[u.length-1],P=this.sourceNode,A=this.targetNode,B=P.modelType,q=A.modelType,te=fa(l,d),ce=u[0];switch(B){case pt.RECT_NODE:P.radius!==0&&(El(l,P)||(ce=xl(l,te,P)));break;case pt.CIRCLE_NODE:ce=wu(l,te,P);break;case pt.ELLIPSE_NODE:ce=jl(l,te,P);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:ce=Sl(l,te,P)}u[0]=ce;var ue=fa(m,x),he=u[u.length-1];switch(q){case pt.RECT_NODE:A.radius!==0&&(El(x,A)||(he=xl(x,ue,A)));break;case pt.CIRCLE_NODE:he=wu(x,ue,A);break;case pt.ELLIPSE_NODE:he=jl(x,ue,A);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:he=Sl(x,ue,A)}return u[u.length-1]=he,u}},{key:"getData",value:function(){var o=ia(Wr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Zl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,x=o.endIndex,P=o.direction,A=this.pointsList,B=A;return P===At.HORIZONTAL?(A[m]={x:l.x,y:l.y+u.y},A[x]={x:d.x,y:d.y+u.y},B=this.pointsList.map(function(q){return q})):P===At.VERTICAL&&(A[m]={x:l.x+u.x,y:l.y},A[x]={x:d.x+u.x,y:d.y},B=this.pointsList.map(function(q){return q})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},A[m]),end:Object.assign({},A[x]),startIndex:m,endIndex:x,direction:P}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,x=o.endIndex,P=o.direction,A=this.pointsList;if(P===At.HORIZONTAL){A[m]={x:l.x,y:l.y+u.y},A[x]={x:d.x,y:d.y+u.y};var B=this.pointsList.map(function(He){return He});if(m!==0&&x!==this.pointsList.length-1&&(B=this.removeCrossPoints(m,x,B)),m===0){var q={x:l.x,y:l.y+u.y};if(!Pr(q,this.sourceNode)){var te=this.sourceNode.anchors;B=this.getDragingPoints(P,"start",q,te,B)}}if(x===this.pointsList.length-1){var ce={x:d.x,y:d.y+u.y};if(!Pr(ce,this.targetNode)){var ue=this.targetNode.anchors;B=this.getDragingPoints(P,"end",ce,ue,B)}}B=Cu(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(P===At.VERTICAL){A[m]={x:l.x+u.x,y:l.y},A[x]={x:d.x+u.x,y:d.y};var he=this.pointsList.map(function(He){return He});if(m!==0&&x!==this.pointsList.length-1&&(he=this.removeCrossPoints(m,x,he)),m===0){var Oe={x:l.x+u.x,y:l.y};if(!Pr(Oe,this.sourceNode)){var Re=this.sourceNode.anchors;he=this.getDragingPoints(P,"start",Oe,Re,he)}}if(x===this.pointsList.length-1){var je={x:d.x+u.x,y:d.y};if(!Pr(je,this.targetNode)){var ze=this.targetNode.anchors;he=this.getDragingPoints(P,"end",je,ze,he)}}he=Cu(he),this.updatePointsAfterDrage(he),this.draginngPointList=he}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},A[m]),end:Object.assign({},A[x]),startIndex:m,endIndex:x,direction:P}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=mo(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,x=Zl({x:u.x,y:u.y},{x:l.x,y:l.y},d,m,this.offset||0);this.pointsList=x,this.initPoints()}}])&&Tb(t.prototype,n),a}(Su)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on(it.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"initPoints"),it.prototype),on(it.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePoints"),it.prototype),on(it.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateStartPoint"),it.prototype),on(it.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"moveStartPoint"),it.prototype),on(it.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateEndPoint"),it.prototype),on(it.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"moveEndPoint"),it.prototype),on(it.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendStart"),it.prototype),on(it.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendSimple"),it.prototype),on(it.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppend"),it.prototype),on(it.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendEnd"),it.prototype),on(it.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePointsAfterDrage"),it.prototype),on(it.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustStart"),it.prototype),on(it.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustEnd"),it.prototype),on(it.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateAfterAdjustStartAndEnd"),it.prototype),it),ni=function(e){var t=e.start,n=e.end,r=e.offset,a=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/a),m=Math.sqrt(a*a+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(l+d),u.leftY=t.y-m*Math.cos(l+d),u.rightX=t.x-m*Math.sin(l-d),u.rightY=t.y+m*Math.cos(l-d)):(u.leftX=t.x-m*Math.sin(l+d),u.leftY=t.y+m*Math.cos(l+d),u.rightX=t.x+m*Math.sin(l-d),u.rightY=t.y-m*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(l-d),u.leftY=n.y-m*Math.cos(l-d),u.rightX=n.x-m*Math.sin(l+d),u.rightY=n.y+m*Math.cos(l+d)):(u.leftX=n.x-m*Math.sin(l-d),u.leftY=n.y+m*Math.cos(l-d),u.rightX=n.x+m*Math.sin(l+d),u.rightY=n.y-m*Math.cos(l+d))),u};function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(r){Nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cb(e){return function(t){if(Array.isArray(t))return Mu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Yl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ul(e){return(Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Au(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Yl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yl(e,t){if(e){if(typeof e=="string")return Mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mu(e,t):void 0}}function Mu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Du=function(e){var t=[],n={};return e.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},ua=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ca=function(e,t){return function(n,r){var a=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return a/r.width>o/r.height?At.HORIZONTAL:At.VERTICAL}(t,e)===At.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Wl=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:a,maxY:o,height:o-r,width:a-n}},ri=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(x){n.push(x.x),r.push(x.y)});var a=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-a,m=l-u;return t&&(d+=t,m+=t),{centerX:(a+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:a,minY:u,x:(a+o)/2,y:(u+l)/2,height:m,width:d}},sa=function(e){var t=e.minX,n=e.minY,r=e.maxX,a=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:a},{x:t,y:a}]},la=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Nu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},$l=function(e,t,n,r,a){return Nu(e,t)+Nu(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,a])},oi=function(e,t,n,r){var a=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+a*(e.y-n.y))/(-u*o+a*l),m=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+a*l);return d>=0&&d<=1&&m>=0&&m<=1},Kl=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Au(sa(n),4),a=r[0],o=r[1],u=r[2],l=r[3];return oi(e,t,a,o)||oi(e,t,a,l)||oi(e,t,o,u)||oi(e,t,u,l)},Rb=function(e,t,n,r,a,o,u){var l=[],d=[t],m={},x={},P={};x[t.id]=0,P[t.id]=$l(t,n,t);var A={};e.forEach(function(te){A[te.id]=te});for(var B=function(){var te,ce,ue,he=void 0,Oe=1/0;if(d.forEach(function(je){P[je.id]<Oe&&(Oe=P[je.id],he=je)}),he===n){var Re=[];return function je(ze,He,Qe,dt,ht){ht||(ht=0),ze.unshift(He[dt]),Qe[dt]&&Qe[dt]!==dt&&ht<=100&&je(ze,He,Qe,Qe[dt],ht+1)}(Re,A,m,n.id),{v:Re}}ce=he,(ue=(te=d).indexOf(ce))>-1&&te.splice(ue,1),l.push(he),function(je,ze,He,Qe){var dt=[];return je.forEach(function(ht){ht!==ze&&(ht.x!==ze.x&&ht.y!==ze.y||Kl(ht,ze,He)||Kl(ht,ze,Qe)||dt.push(ht))}),Du(dt)}(e,he,r,a).forEach(function(je){if(l.indexOf(je)===-1){d.indexOf(je)===-1&&d.push(je);var ze=P[he.id]+Nu(he,je);x[je.id]&&ze>=x[je.id]||(m[je.id]=he.id,x[je.id]=ze,P[je.id]=x[je.id]+$l(je,n,t,o,u))}})};d.length;){var q=B();if(Ul(q)==="object")return q.v}return[t,n]},ql=function(e){return gn(e)},Cu=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],a=t[n],o=t[n+1];r.x===a.x&&a.x===o.x||r.y===a.y&&a.y===o.y?t.splice(n,1):n++}return t},Zl=function(e,t,n,r,a){var o,u,l=ql(n),d=ql(r),m=ua(l,a),x=ua(d,a),P=ca(m,e),A=ca(x,t);if(o=m,u=x,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var B=Lb(e,t,P,A);return[e,P].concat(Cb(B),[A,t])}var q=ri([P,A]),te=Wl(m,q),ce=Wl(x,q),ue=[];ue=(ue=ue.concat(sa(te))).concat(sa(ce));var he={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[q,te,ce].forEach(function(Re){ue=ue.concat(function(je,ze){return function(He,Qe){return Qe<He.minX||Qe>He.maxX?[]:[{x:Qe,y:He.minY},{x:Qe,y:He.maxY}]}(je,ze.x).concat(function(He,Qe){return Qe<He.minY||Qe>He.maxY?[]:[{x:He.minX,y:Qe},{x:He.maxX,y:Qe}]}(je,ze.y))}(Re,he).filter(function(je){return la(je,m)&&la(je,x)}))}),[{x:P.x,y:A.y},{x:A.x,y:P.y}].forEach(function(Re){la(Re,m)&&la(Re,x)&&ue.push(Re)}),ue.unshift(P),ue.push(A),ue=Du(ue);var Oe=Rb(ue,P,A,l,d,e,t);return Oe.unshift(e),Oe.push(t),Oe.length>2&&(Oe=Cu(Oe)),Du(Oe)},Ib=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],a=Un(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Un(u.x,u.y,l.x,l.y);d>a&&(a=d,n=u,r=l)}t=[n,r]}return t},Jl=function(e,t,n){var r=Pr(e,n),a=Pr(t,n);return r&&a},Ql=function(e,t,n){var r=Pr(e,n),a=Pr(t,n);return!(r&&a)&&(r||a)},ef=function(e,t,n){for(var r,a,o=gn(n),u=sa(o),l=0;l<u.length;l++)oi(e,t,u[l],u[(l+1)%u.length])&&(a=[u[l],u[(l+1)%u.length]]);return a&&(r=function(d,m,x,P){var A=(m.y-d.y)*(P.x-x.x)-(d.x-m.x)*(x.y-P.y);if(A===0)return!1;var B=((m.x-d.x)*(P.x-x.x)*(x.y-d.y)+(m.y-d.y)*(P.x-x.x)*d.x-(P.y-x.y)*(m.x-d.x)*x.x)/A,q=-((m.y-d.y)*(P.y-x.y)*(x.x-d.x)+(m.x-d.x)*(P.y-x.y)*d.y-(P.x-x.x)*(m.y-d.y)*x.y)/A;return(B-d.x)*(B-m.x)<=0&&(q-d.y)*(q-m.y)<=0&&(B-x.x)*(B-P.x)<=0&&(q-x.y)*(q-P.y)<=0&&{x:B,y:q}}(e,t,a[0],a[1])),r},fa=function(e,t){var n;return e.x===t.x?n=At.VERTICAL:e.y===t.y&&(n=At.HORIZONTAL),n},mo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var a=Au(r.split(","),2),o=a[0],u=a[1];n.push({x:Number(o),y:Number(u)})}),n},Lb=function(e,t,n,r){var a=[];if(fa(e,n)===fa(t,r))e.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=Qo(o,e,n),l=Qo(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=tf(o,e,n),m=tf(o,t,r);d&&m&&(o={x:r.x,y:n.y})}a.push(o)}return a},tf=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},nf=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},rf=function(e){var t=e.start,n=e.end,r=e.sourceNode,a=e.targetNode,o=e.offset,u=gn(r),l=gn(a),d=ua(u,o),m=ua(l,o);return{sNext:ca(d,t),ePre:ca(m,n)}},pa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[da(t[0]),da(t[1]),da(t[2]),da(t[3])]},da=function(e){var t=Au(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},of=function(e,t){for(var n,r=e.x,a=e.y,o=mo(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(A){var B=A.start,q=A.end;if(B.x===q.x){var te={x:B.x,y:a};if(Qo(te,B,q)){var ce=Math.abs(B.x-r);ce<u&&(u=ce,n=te)}}else if(B.y===q.y){var ue={x:r,y:B.y};if(Qo(ue,B,q)){var he=Math.abs(B.y-a);he<u&&(u=he,n=ue)}}}),!n){var m=l[0],x=m.start,P=m.end;n={x:x.x+(P.x-x.x)/2,y:x.y+(P.y-x.y)/2}}return n},zb=function(e){return Zo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},af=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};i(204);var _o=function(){};function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=window.document;function Ru(e){var t=e.onDragStart,n=t===void 0?_o:t,r=e.onDraging,a=r===void 0?_o:r,o=e.onDragEnd,u=o===void 0?_o:o,l=e.step,d=l===void 0?1:l,m=e.isStopPropagation,x=m===void 0||m,P=!1,A=!1,B=0,q=0,te=0,ce=0;function ue(Oe){if(x&&Oe.stopPropagation(),A&&(P=!0,te+=Oe.clientX-B,ce+=Oe.clientY-q,B=Oe.clientX,q=Oe.clientY,Math.abs(te)>d||Math.abs(ce)>d)){var Re=te%d,je=ce%d,ze=te-Re,He=ce-je;te=Re,ce=je,a({deltaX:ze,deltaY:He,event:Oe})}}function he(Oe){if(x&&Oe.stopPropagation(),A=!1,Wn.removeEventListener("mousemove",ue,!1),Wn.removeEventListener("mouseup",he,!1),P)return P=!1,u({event:Oe})}return function(Oe){if(Oe.button===0)return x&&Oe.stopPropagation(),A=!0,B=Oe.clientX,q=Oe.clientY,Wn.addEventListener("mousemove",ue,!1),Wn.addEventListener("mouseup",he,!1),n({event:Oe})}}var ge,uf,cf,sf,lf,ff,pf,df,hf,yf,vf,gf,bf,$r=function(){function e(r){var a=this,o=r.onDragStart,u=o===void 0?_o:o,l=r.onDraging,d=l===void 0?_o:l,m=r.onDragEnd,x=m===void 0?_o:m,P=r.eventType,A=P===void 0?"":P,B=r.eventCenter,q=B===void 0?null:B,te=r.step,ce=te===void 0?1:te,ue=r.isStopPropagation,he=ue===void 0||ue,Oe=r.model,Re=Oe===void 0?null:Oe;(function(je,ze){if(!(je instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,e),Bt(this,"onDragStart",void 0),Bt(this,"onDraging",void 0),Bt(this,"onDragEnd",void 0),Bt(this,"step",void 0),Bt(this,"isStopPropagation",void 0),Bt(this,"isDraging",!1),Bt(this,"isStartDraging",!1),Bt(this,"startX",0),Bt(this,"startY",0),Bt(this,"sumDeltaX",0),Bt(this,"sumDeltaY",0),Bt(this,"eventType",void 0),Bt(this,"eventCenter",void 0),Bt(this,"model",void 0),Bt(this,"startTime",void 0),Bt(this,"isGrag",void 0),Bt(this,"handleMouseDown",function(je){var ze,He;if(je.button===0){a.isStopPropagation&&je.stopPropagation(),a.isStartDraging=!0,a.startX=je.clientX,a.startY=je.clientY,Wn.addEventListener("mousemove",a.handleMouseMove,!1),Wn.addEventListener("mouseup",a.handleMouseUp,!1);var Qe=(ze=a.model)===null||ze===void 0?void 0:ze.getData();(He=a.eventCenter)===null||He===void 0||He.emit(nt["".concat(a.eventType,"_MOUSEDOWN")],{e:je,data:Qe}),a.startTime=new Date().getTime()}}),Bt(this,"handleMouseMove",function(je){if(a.isStopPropagation&&je.stopPropagation(),a.isStartDraging&&(a.sumDeltaX+=je.clientX-a.startX,a.sumDeltaY+=je.clientY-a.startY,a.startX=je.clientX,a.startY=je.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var ze,He=a.sumDeltaX%a.step,Qe=a.sumDeltaY%a.step,dt=a.sumDeltaX-He,ht=a.sumDeltaY-Qe;a.sumDeltaX=He,a.sumDeltaY=Qe;var Ct,Xt=(ze=a.model)===null||ze===void 0?void 0:ze.getData();a.isDraging||((Ct=a.eventCenter)===null||Ct===void 0||Ct.emit(nt["".concat(a.eventType,"_DRAGSTART")],{e:je,data:Xt}),a.onDragStart({event:je})),a.isDraging=!0,Promise.resolve().then(function(){var cn,fn;a.onDraging({deltaX:dt,deltaY:ht,event:je}),(cn=a.eventCenter)===null||cn===void 0||cn.emit(nt["".concat(a.eventType,"_MOUSEMOVE")],{e:je,data:Xt}),(fn=a.eventCenter)===null||fn===void 0||fn.emit(nt["".concat(a.eventType,"_DRAG")],{e:je,data:Xt})})}}),Bt(this,"handleMouseUp",function(je){a.isStartDraging=!1,a.isStopPropagation&&je.stopPropagation(),Promise.resolve().then(function(){var ze,He,Qe;Wn.removeEventListener("mousemove",a.handleMouseMove,!1),Wn.removeEventListener("mouseup",a.handleMouseUp,!1);var dt=(ze=a.model)===null||ze===void 0?void 0:ze.getData();(He=a.eventCenter)===null||He===void 0||He.emit(nt["".concat(a.eventType,"_MOUSEUP")],{e:je,data:dt}),a.isDraging&&(a.isDraging=!1,a.onDragEnd({event:je}),(Qe=a.eventCenter)===null||Qe===void 0||Qe.emit(nt["".concat(a.eventType,"_DROP")],{e:je,data:dt}))})}),Bt(this,"cancelDrag",function(){Wn.removeEventListener("mousemove",a.handleMouseMove,!1),Wn.removeEventListener("mouseup",a.handleMouseUp,!1),a.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=x,this.step=ce,this.isStopPropagation=he,this.eventType=A,this.eventCenter=q,this.model=Re}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Bb(t.prototype,n),e}();function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mf(Object(n),!0).forEach(function(r){cr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _f(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Of(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oo(e){return function(t){if(Array.isArray(t))return Iu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Of(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Of(e,t){if(e){if(typeof e=="string")return Iu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(e,t):void 0}}function Iu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lu(e){return(Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var wf,xf=(uf=Je((ge=function(){function e(r){(function(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")})(this,e),cr(this,"rootEl",void 0),xn(this,"width",uf,this),xn(this,"height",cf,this),cr(this,"theme",void 0),cr(this,"eventCenter",void 0),cr(this,"modelMap",new Map),cr(this,"topElement",void 0),cr(this,"animation",void 0),cr(this,"idGenerator",void 0),cr(this,"nodeMoveRules",[]),xn(this,"edgeType",sf,this),xn(this,"nodes",lf,this),xn(this,"edges",ff,this),xn(this,"overlapMode",pf,this),xn(this,"background",df,this),xn(this,"transformModel",hf,this),xn(this,"editConfigModel",yf,this),xn(this,"gridSize",vf,this),xn(this,"partial",gf,this),xn(this,"fakerNode",bf,this);var a,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,m=r.idGenerator,x=r.animation;this.background=l,Lu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Ns(r),this.eventCenter=new ib,this.transformModel=new jg(this.eventCenter),this.theme=el(r.style),this.edgeType=r.edgeType||"polyline",r.width||(r.width=o.getBoundingClientRect().width),r.height||(r.height=o.getBoundingClientRect().height),this.width=r.width,this.height=r.height,this.animation=(a=x)&&typeof a!="boolean"?Qs(Dt(Tl),a):Dt(a===!0?vb:Tl),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=m}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(Oo(this.nodes),Oo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(P){return r.push(P)}),this.edges.forEach(function(P){return r.push(P)}),r=r.sort(function(P,A){return P.zIndex-A.zIndex});for(var a=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,u,l,!1,!1))&&(m.zIndex===9999&&(o=a.length),a.push(m))}if(o!==-1){var x=a[a.length-1];a[a.length-1]=a[o],a[o]=x}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===St.TEXT_EDIT}),a=this.edges.find(function(o){return o.state===St.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"getAreaElement",value:function(r,a){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=[],d=[];this.nodes.forEach(function(P){return d.push(P)}),this.edges.forEach(function(P){return d.push(P)});for(var m=0;m<d.length;m++){var x=d[m];this.isElementInArea(x,r,a,o,u)&&l.push(x)}return l}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:a-u.left,y:o-u.top},d=_f(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,a,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Ht.NODE){for(var d=gn(r=r),m=d.minX,x=d.minY,P=d.maxX,A=d.maxY,B=[{x:m,y:x},{x:P,y:x},{x:P,y:A},{x:m,y:A}],q=l,te=0;te<B.length;te++){var ce=B[te],ue=ce.x,he=ce.y,Oe=this.transformModel.CanvasPointToHtmlPoint([ue,he]),Re=_f(Oe,2);if(ue=Re[0],he=Re[1],bu([ue,he],a,o)!==l){q=!l;break}}return q}if(r.BaseType===Ht.EDGE){var je=r=r,ze=je.startPoint,He=je.endPoint,Qe=this.transformModel.CanvasPointToHtmlPoint([ze.x,ze.y]),dt=this.transformModel.CanvasPointToHtmlPoint([He.x,He.y]),ht=bu(Qe,a,o),Ct=bu(dt,a,o);return u?ht&&Ct:ht||Ct}return!1}},{key:"graphDataToModel",value:function(r){var a=this;this.nodes=Ji(r.nodes,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=bo(l,a.gridSize),o.y=bo(d,a.gridSize),Lu(o.text)==="object"&&(o.text.x-=tl(l,a.gridSize),o.text.y-=tl(d,a.gridSize))),new u(o,a)}),this.edges=Ji(r.edges,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,a)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var a=[];return this.nodes.forEach(function(o){var u=o.getData();u&&a.push(u)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}a.push(u.getHistoryData())}if(r)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var x=this.edges[m];if(x.isDragging){l=!0;break}d.push(x.getHistoryData())}return!l&&{nodes:a,edges:d}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&a.push(u)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,o={nodes:[],edges:[]};return a.forEach(function(u){if(u.BaseType===Ht.NODE&&o.nodes.push(u.getData()),u.BaseType===Ht.EDGE){var l=u.getData(),d=a.get(l.sourceNodeId)&&a.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=Yr()),this.nodesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=a),o.targetNodeId===r&&(o.targetNodeId=a)}),this.nodesMap[r].model.id=a,a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,a){return a||(a=Yr()),this.edgesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=a)}),a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,o,u,l=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===vn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===vn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof a=="number"&&(l=a),a==="top"&&(l=Eu()),a==="bottom"&&(l=--mb),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(nt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=Yn(r);a.id&&this.nodesMap[r.id]&&delete a.id;var o=this.getModel(a.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(a.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(a,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(nt.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),o=a.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),a.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.move(a,o,u);m&&this.moveEdge(r,a,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.x,x=d.y,P=a-m,A=o-x;this.moveNode(r,P,A,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=Yn(r),o=a.type;o||(o=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(ha(ha({},a),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(nt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,a,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],m=d.textPosition,x=m.x,P=m.y,A=this.edges[u].sourceNodeId===r,B=this.edges[u].targetNodeId===r;if(A&&d.moveStartPoint(a,o),B&&d.moveEndPoint(a,o),A||B)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===pt.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var q=d.text,te=of(q,d.points);d.moveText(te.x-q.x,te.y-q.y)}else{var ce=d.textPosition,ue=ce.x,he=ce.y;d.moveText(ue-x,he-P)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===a){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(nt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,a,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(o){o.id===r&&o.updateText(a)}),this.edges.forEach(function(o){o.id===r&&o.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===vn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,a,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var x=Pl(d,m.startPoint,d.width,d.height);m.updateStartPoint(x)}if(m.targetNodeId===r){var P=Pl(d,m.endPoint,d.width,d.height);m.updateEndPoint(P)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,a){var o=this.getEdgeModelById(r);if(o){if(o.type!==a){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.targetNodeId===r&&a.push(o)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&a.push(o)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(a.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(a.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=el(ha(ha({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r!=null?r:this.width,this.height=a!=null?a:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],o=[];r.forEach(function(P){var A=P.x,B=P.y,q=P.width,te=P.height,ce=P.getNodeStyle().strokeWidth,ue=ce===void 0?0:ce;a=a.concat([A+q/2+ue,A-q/2-ue]),o=o.concat([B+te/2+ue,B-te/2-ue])});var u=Math.min.apply(Math,Oo(a)),l=Math.max.apply(Math,Oo(a)),d=Math.min.apply(Math,Oo(o)),m=l-u||0,x=Math.max.apply(Math,Oo(o))-d||0;return{virtualRectWidth:m,virtualRectHeight:x,virtualRectCenterPositionX:u+m/2,virtualRectCenterPositionY:d+x/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,o=this.height,u=this.rootEl,l=this.transformModel;if(r.length){var d=a||u.clientWidth,m=o||u.clientHeight,x=this.getVirtualRectSize(),P=x.virtualRectCenterPositionX,A=x.virtualRectCenterPositionY;l.focusOn(P,A,d,m)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=this.nodes,o=this.width,u=this.height,l=this.rootEl,d=this.transformModel;if(a.length){var m=o||l.clientWidth,x=u||l.clientHeight,P=this.getVirtualRectSize(),A=P.virtualRectWidth,B=P.virtualRectHeight,q=P.virtualRectCenterPositionX,te=P.virtualRectCenterPositionY,ce=(A+r)/m,ue=(B+r)/x,he=0;he=1/Math.max(ce,ue);var Oe=[m/2,x/2];d.zoom(he,Oe),d.focusOn(q,te,m,x)}}}])&&Fb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cf=Je(ge.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=Je(ge.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=Je(ge.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ff=Je(ge.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pf=Je(ge.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vn.DEFAULT}}),df=Je(ge.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hf=Je(ge.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=Je(ge.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=Je(ge.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gf=Je(ge.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bf=Je(ge.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je(ge.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(ge.prototype,"nodesMap"),ge.prototype),Je(ge.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(ge.prototype,"edgesMap"),ge.prototype),Je(ge.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(ge.prototype,"modelsMap"),ge.prototype),Je(ge.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(ge.prototype,"sortElements"),ge.prototype),Je(ge.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(ge.prototype,"textEditElement"),ge.prototype),Je(ge.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(ge.prototype,"selectElements"),ge.prototype),Je(ge.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"setFakerNode"),ge.prototype),Je(ge.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"removeFakerNode"),ge.prototype),Je(ge.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"setModel"),ge.prototype),Je(ge.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"toFront"),ge.prototype),Je(ge.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"setElementZIndex"),ge.prototype),Je(ge.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteNode"),ge.prototype),Je(ge.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"addNode"),ge.prototype),Je(ge.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"cloneNode"),ge.prototype),Je(ge.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveNode"),ge.prototype),Je(ge.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveNode2Coordinate"),ge.prototype),Je(ge.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"editText"),ge.prototype),Je(ge.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"addEdge"),ge.prototype),Je(ge.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveEdge"),ge.prototype),Je(ge.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteEdgeBySourceAndTarget"),ge.prototype),Je(ge.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteEdgeById"),ge.prototype),Je(ge.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteEdgeBySource"),ge.prototype),Je(ge.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteEdgeByTarget"),ge.prototype),Je(ge.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"setElementStateById"),ge.prototype),Je(ge.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateText"),ge.prototype),Je(ge.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"selectNodeById"),ge.prototype),Je(ge.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"selectEdgeById"),ge.prototype),Je(ge.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"selectElementById"),ge.prototype),Je(ge.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"clearSelectElements"),ge.prototype),Je(ge.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveNodes"),ge.prototype),Je(ge.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"setDefaultEdgeType"),ge.prototype),Je(ge.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"changeNodeType"),ge.prototype),Je(ge.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"changeEdgeType"),ge.prototype),Je(ge.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"getNodeIncomingEdge"),ge.prototype),Je(ge.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"getNodeOutgoingEdge"),ge.prototype),Je(ge.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"getNodeIncomingNode"),ge.prototype),Je(ge.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"getNodeOutgoingNode"),ge.prototype),Je(ge.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"setTheme"),ge.prototype),Je(ge.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"resize"),ge.prototype),Je(ge.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"clearData"),ge.prototype),Je(ge.prototype,"translateCenter",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"translateCenter"),ge.prototype),Je(ge.prototype,"fitView",[s.k],Object.getOwnPropertyDescriptor(ge.prototype,"fitView"),ge.prototype),ge),Hb=xf;function Ef(e){return(Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jf(){return(jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sf(e,t){return(Sf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zu(e);if(t){var a=zu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vb(this,n)}}function Vb(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function $n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pf,Ub=Ln(wf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sf(o,u)})(a,e);var t,n,r=Gb(a);function a(o){var u;(function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")})(this,a),sr($n(u=r.call(this)),"stepDrag",void 0),sr($n(u),"stepScrollX",0),sr($n(u),"stepScrollY",0),sr($n(u),"onDraging",function(x){var P=x.deltaX,A=x.deltaY;u.setState({isDraging:!0});var B=u.props.graphModel,q=B.transformModel;B.editConfigModel.stopMoveGraph||q.translate(P,A)}),sr($n(u),"onDragEnd",function(){u.setState({isDraging:!1})}),sr($n(u),"zoomHandler",function(x){var P=u.props,A=P.graphModel,B=A.editConfigModel,q=A.transformModel,te=A.gridSize,ce=P.graphModel,ue=x.deltaX,he=x.deltaY;if(B.stopScrollGraph||x.ctrlKey===!0){if(!B.stopZoomGraph){x.preventDefault();var Oe=ce.getPointByClient({x:x.clientX,y:x.clientY}).canvasOverlayPosition,Re=Oe.x,je=Oe.y;q.zoom(x.deltaY<0,[Re,je])}}else{if(x.preventDefault(),u.stepScrollX+=ue,u.stepScrollY+=he,Math.abs(u.stepScrollX)>=te){var ze=u.stepScrollX%te,He=u.stepScrollX-ze;q.translate(-He*q.SCALE_X,0),u.stepScrollX=ze}if(Math.abs(u.stepScrollY)>=te){var Qe=u.stepScrollY%te,dt=u.stepScrollY-Qe;q.translate(0,-dt*q.SCALE_Y),u.stepScrollY=Qe}}}),sr($n(u),"clickHandler",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){var P=u.props.graphModel;P.selectElements.size>0&&P.clearSelectElements(),P.eventCenter.emit(nt.BLANK_CLICK,{e:x})}}),sr($n(u),"handleContextMenu",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){x.preventDefault();var P=u.props.graphModel,A=P.getPointByClient({x:x.clientX,y:x.clientY});P.eventCenter.emit(nt.BLANK_CONTEXTMENU,{e:x,position:A})}}),sr($n(u),"mouseDownHandler",function(x){var P=u.props.graphModel,A=P.eventCenter,B=P.editConfigModel,q=P.transformModel.SCALE_X,te=P.gridSize,ce=x.target,ue=!B.adjustEdge&&!B.adjustNodePosition;(ce.getAttribute("name")==="canvas-overlay"||ue)&&(B.stopMoveGraph?A.emit(nt.BLANK_MOUSEDOWN,{e:x}):(u.stepDrag.setStep(te*q),u.stepDrag.handleMouseDown(x)),u.clickHandler(x))});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new $r({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,m=this.state.isDraging;return Object(ee.g)("svg",jf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(ee.g)("g",{transform:o},l))}}])&&Xb(t.prototype,n),a}(ee.a))||wf;function kf(e){return(kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $b(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bu(e);if(t){var a=Bu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Af(e)}function Af(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zb=Ln(Pf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Tf(o,u)})(a,e);var t,n,r=$b(a);function a(){var o;Yb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return qb(Af(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(m){var x=o.props.tool.getInstance();x.components.forEach(function(P){return P(x,m)}),x.components=[]}),o}return t=a,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(m){return Object(ee.g)(m,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(ee.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Wb(t.prototype,n),a}(ee.a))||Pf;function Mf(e){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Df(e,t){return(Df=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function em(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fu(e);if(t){var a=Fu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tm(this,n)}}function tm(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Nf,nm=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Df(o,u)})(a,e);var t,n,r=em(a);function a(){return Jb(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:o,className:"lf-background-area"}))}}])&&Qb(t.prototype,n),a}(ee.a);function Cf(e){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hu(e);if(t){var a=Hu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return If(e)}function If(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lf=Ln(Nf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rf(o,u)})(a,e);var t,n,r=im(a);function a(){var o;rm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return um(If(o=r.call.apply(r,[this].concat(l))),"id",Yr()),o}return t=a,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?2:d,x=o.size,P=o.visible,A=Math.min(Math.max(2,m),x/2),B=1;return P||(B=0),Object(ee.g)("rect",{width:A,height:A,rx:A/2,ry:A/2,fill:l,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?1:d,x=o.size,P=o.visible,A=Math.min(Math.max(1,m),x/2),B="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),q=1;return P||(q=0),Object(ee.g)("path",{d:B,stroke:l,strokeWidth:A,opacity:q})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),x="matrix(".concat(m,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:x,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&om(t.prototype,n),a}(ee.a))||Nf;Lf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function zf(e){return(zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Bf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ff,Kr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=cm(n,2),a=r[0],o=r[1];zf(o)!=="object"&&(t[a]=o)}),Object(ee.g)("line",t)};function Hf(e){return(Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xf(Object(n),!0).forEach(function(r){sm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t){return(Gf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xu(e);if(t){var a=Xu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Vf,hm=Ln(Ff=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gf(o,u)})(a,e);var t,n,r=pm(a);function a(){return lm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),x=u.x,P=x===void 0?0:x,A=u.y,B=A===void 0?0:A,q=ya(ya({x1:-1e5,y1:B,x2:1e5,y2:B},m),{},{stroke:l?m.stroke:"none"}),te=ya(ya({x1:P,y1:-1e5,x2:P,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(Kr,q),Object(ee.g)(Kr,te))}}])&&fm(t.prototype,n),a}(ee.a))||Ff;function Uf(e){return(Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ym(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Yf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Yf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-a/2,m={};return Object.entries(e).forEach(function(x){var P=ym(x,2),A=P[0],B=P[1];Uf(B)!=="object"&&(m[A]=B)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=l,m.y=d,Object(ee.g)("rect",m)}function Wf(e){return(Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ii(){return(ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$f(Object(n),!0).forEach(function(r){vm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qf(e,t){return(qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function mm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gu(e);if(t){var a=Gu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}kr.defaultProps={className:"",radius:""};var Zf,Om=Ln(Vf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&qf(o,u)})(a,e);var t,n,r=mm(a);function a(){return gm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,x=[];return u.forEach(function(P){if(P.isHovered||P.isSelected){var A=P.isHovered,B=P.isSelected,q=P.x,te=P.y,ce=P.width,ue=P.height;if(m&&B||d&&A){var he=P.getOutlineStyle(),Oe={};if(Object.keys(he).forEach(function(je){je!=="hover"&&(Oe[je]=he[je])}),A){var Re=he.hover;Oe=Kf(Kf({},Oe),Re)}x.push(Object(ee.g)(kr,ii({className:"lf-outline-node",x:q,y:te,width:ce+10,height:ue+10},Oe)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,x=[],P=0;P<u.length;P++){var A=u[P];(d&&A.isSelected||m&&A.isHovered)&&(A.modelType===pt.LINE_EDGE?x.push(this.getLineOutline(A)):A.modelType===pt.POLYLINE_EDGE?x.push(this.getPolylineOutline(A)):A.modelType===pt.BEZIER_EDGE&&x.push(this.getBezierOutline(A)))}return x}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,m=(u.y+l.y)/2,x=Math.abs(u.x-l.x)+10,P=Math.abs(u.y-l.y)+10,A=o.getOutlineStyle();return Object(ee.g)(kr,ii({className:"lf-outline-edge",x:d,y:m,width:x,height:P},A))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=mo(u),d=ri(l,8),m=d.x,x=d.y,P=d.width,A=d.height,B=o.getOutlineStyle();return Object(ee.g)(kr,ii({className:"lf-outline",x:m,y:x,width:P,height:A},B))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=pa(u),d=ri(l,8),m=d.x,x=d.y,P=d.width,A=d.height,B=o.getOutlineStyle();return Object(ee.g)(kr,ii({className:"lf-outline",x:m,y:x,width:P,height:A},B))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&bm(t.prototype,n),a}(ee.a))||Vf;function Jf(e){return(Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ai(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:a,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var x=wm(m,2),P=x[0],A=x[1];Jf(A)!=="object"&&(d[P]=A)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(ee.g)("circle",d)}function ep(e){return(ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return tp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return tp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function op(e,t,n){return t&&rp(e.prototype,t),n&&rp(e,n),e}function ip(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ap(e,t)}function ap(e,t){return(ap=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function up(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vu(e);if(t){var a=Vu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Em(this,n)}}function Em(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ga(e)}function ga(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cp,sp=function(e){ip(n,e);var t=up(n);function n(){var r;return np(this,n),Uu(ga(r=t.call(this)),"dragHandler",void 0),Uu(ga(r),"onDraging",function(a){var o=a.event,u=r.props,l=u.graphModel,d=u.bezierModel,m=u.type,x=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,P=x.x,A=x.y;d.updateAdjustAnchor({x:P,y:A},m)}),Uu(ga(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new $r({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return op(n,[{key:"render",value:function(){var r=this,a=this.props.position,o=a.x,u=a.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(ai,va({className:"lf-bezier-adjust-anchor",x:o,y:u},l,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}(ee.a),jm=Ln(Zf=function(e){ip(n,e);var t=up(n);function n(){return np(this,n),t.apply(this,arguments)}return op(n,[{key:"getBezierAdjust",value:function(r,a){var o=r.path,u=r.id,l=xm(pa(o),4),d=l[0],m=l[1],x=l[2],P=l[3],A=r.getEdgeStyle().adjustLine,B=[];return B.push(Object(ee.g)(Kr,va({x1:d.x,y1:d.y,x2:m.x,y2:m.y},A))),B.push(Object(ee.g)(sp,{position:m,bezierModel:r,graphModel:a,key:"".concat(u,"_ePre"),type:"sNext"})),B.push(Object(ee.g)(Kr,va({x1:P.x,y1:P.y,x2:x.x,y2:x.y},A))),B.push(Object(ee.g)(sp,{position:x,bezierModel:r,graphModel:a,key:"".concat(u,"_sNext"),type:"ePre"})),B}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,o=[],u=0;u<a.length;u++){var l=a[u];l.isSelected&&l.modelType===pt.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||Zf;function lp(e){return(lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fp(e,t){return(fp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function km(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yu(e);if(t){var a=Yu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tm(this,n)}}function Tm(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pp,Am=Ln(cp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&fp(o,u)})(a,e);var t,n,r=km(a);function a(){return Sm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:o},u))}}])&&Pm(t.prototype,n),a}(ee.a))||cp;function dp(e){return(dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hp(){return(hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yp(e,t){return(yp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Nm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wu(e);if(t){var a=Wu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Rm=Ln(pp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yp(o,u)})(a,e);var t,n,r=Nm(a);function a(){return Mm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(ee.g)(m,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,m=u.options,x=u.dnd,P=u.snaplineModel,A={};m.width&&(A.width="".concat(l.width,"px")),m.height&&(A.height="".concat(l.height,"px"));var B=l.fakerNode,q=l.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph",style:A},Object(ee.g)(Ub,{graphModel:l,dnd:x},Object(ee.g)("g",{className:"lf-base"},Ji(l.sortElements,function(te){return o.getComponent(te,l)})),B?this.getComponent(B,l):""),Object(ee.g)(Am,{graphModel:l},Object(ee.g)(Om,{graphModel:l}),q?Object(ee.g)(jm,{graphModel:l}):"",m.isSilentMode||m.snapline===!1?"":Object(ee.g)(hm,{snaplineModel:P})),Object(ee.g)(Zb,{graphModel:l,tool:d}),m.background&&Object(ee.g)(nm,{background:m.background}),m.grid&&Object(ee.g)(Lf,hp({},m.grid,{graphModel:l})))}}])&&Dm(t.prototype,n),a}(ee.a))||pp;function vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vp(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lm=function(){function e(r){var a=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),lr(this,"nodeConfig",void 0),lr(this,"lf",void 0),lr(this,"fakerNode",void 0),lr(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),lr(this,"dragEnter",function(u){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(ba(ba({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),lr(this,"onDragOver",function(u){if(u.preventDefault(),a.fakerNode){var l=a.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,m=l.y;a.fakerNode.moveTo(d,m);var x=a.fakerNode.getData();a.lf.setNodeSnapLine(x),a.lf.graphModel.eventCenter.emit(nt.NODE_DND_DRAG,{data:x})}return!1}),lr(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),lr(this,"onDrop",function(u){if(a.lf.graphModel&&u&&a.nodeConfig){var l=a.lf.addNode(ba(ba({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null;var d=l.getData();a.lf.graphModel.eventCenter.emit(nt.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,o=r.y,u=Ko(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:a,y:o}).canvasOverlayPosition,d=l.x,m=l.y;return{x:bo(d,u),y:bo(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Im(t.prototype,n),e}();function gp(e){var t=e.container,n=e.grid,r=e.width,a=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof a=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=rn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),rn({},mp,e)}var _t,bp,mp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function _p(e){return(_p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $u(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Op(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Op(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Op(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wp(Object(n),!0).forEach(function(r){Ep(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(){return(_a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Hm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Hm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qr(e))!==null;);return e}function xp(e,t){return(xp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Xm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qr(e);if(t){var a=qr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Gm(this,n)}}function Gm(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ku=(bp=Mn((_t=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xp(o,u)})(a,e);var t,n,r=Xm(a);function a(){var o;Bm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ep(Oa(o=r.call.apply(r,[this].concat(l))),"modelType",pt.BEZIER_EDGE),zm(Oa(o),"path",bp,Oa(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=100,_a(qr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ma(ma({},_a(qr(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,m=l.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=_a(qr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ma(ma({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return rf({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=$u(o,4),l=u[0],d=u[1],m=u[2],x=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,l=o.ePre;this.updatePath(u,l)}},{key:"updatePath",value:function(o,u){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var m=this.getControls();o=m.sNext,u=m.ePre}this.pointsList=[l,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var l=$u(this.pointsList,3),d=l[1],m=l[2];d.x+=o,d.y+=u,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var l=$u(this.pointsList,3),d=l[1],m=l[2];m.x+=o,m.y+=u,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,x=rf({start:u,end:l,sourceNode:d,targetNode:m,offset:this.offset}),P=x.sNext,A=x.ePre;this.pointsList=[u,P,A,l],this.initPoints()}}])&&Fm(t.prototype,n),a}(Su)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mn(_t.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"initPoints"),_t.prototype),Mn(_t.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updatePoints"),_t.prototype),Mn(_t.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateStartPoint"),_t.prototype),Mn(_t.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateEndPoint"),_t.prototype),Mn(_t.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveStartPoint"),_t.prototype),Mn(_t.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveEndPoint"),_t.prototype),Mn(_t.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateAdjustAnchor"),_t.prototype),Mn(_t.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"getAdjustStart"),_t.prototype),Mn(_t.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"getAdjustEnd"),_t.prototype),Mn(_t.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateAfterAdjustStartAndEnd"),_t.prototype),_t),Ge,jp,Sp,Pp,kp,Tp,Ap,Mp,Dp,Np,Cp,Rp,Ip,Lp,zp,Bp,Fp,Hp,Vm=function(e){return e==null};function Xp(e){return(Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Um(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Gp(d,m);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Gp(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Gp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vp(Object(n),!0).forEach(function(r){En(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Tr,Up,pr=(jp=Ot((Ge=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),En(this,"id",Yr()),Yt(this,"type",jp,this),Yt(this,"x",Sp,this),Yt(this,"y",Pp,this),Yt(this,"text",kp,this),Yt(this,"properties",Tp,this),Yt(this,"_width",Ap,this),Yt(this,"_height",Mp,this),Yt(this,"anchorsOffset",Dp,this),Yt(this,"isSelected",Np,this),Yt(this,"isHovered",Cp,this),Yt(this,"isDragging",Rp,this),Yt(this,"isHitable",Ip,this),Yt(this,"draggable",Lp,this),Yt(this,"visible",zp,this),En(this,"graphModel",void 0),Yt(this,"zIndex",Bp,this),Yt(this,"state",Fp,this),Yt(this,"autoToFront",Hp,this),En(this,"BaseType",Ht.NODE),En(this,"modelType",pt.NODE),En(this,"additionStateData",void 0),En(this,"targetRules",[]),En(this,"sourceRules",[]),En(this,"moveRules",[]),En(this,"hasSetTargetRules",!1),En(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),rn(this,function(l){return Zo(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===vn.INCREASE&&(this.zIndex=r.zIndex||Eu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===vn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:a,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return fr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Dt(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Dt(a)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var x=u[m];if(!x.validate.call(this,this,r,a,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var x=u[m];if(!x.validate.call(this,r,this,a,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,a){var o,u=!0,l=!0,d=Um(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var m=(0,o.value)(this,r,a);if(!m)return!1;if(Xp(m)==="object"){var x=m;if(x.x===!1&&x.y===!1)return!1;u=u&&x.x,l=l&&x.y}}}catch(P){d.e(P)}finally{d.f()}return{x:u,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(a,"_").concat(d),x:o+l[0],y:u+l[1]}):fr(fr({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(a,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Vm(r))for(var a=0;a<this.anchors.length;a++){var o=this.anchors[a];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1;if(o)u=!0,l=!0;else{var d=this.isAllowMoveNode(r,a);typeof d=="boolean"?(u=d,l=d):(u=d.x,l=d.y)}if(u){var m=this.x+r;this.x=m,this.text&&this.moveText(r,0)}if(l){var x=this.y+a;this.y=x,this.text&&this.moveText(0,a)}return u||l}},{key:"moveTo",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=a-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,x=o.editable;this.text={value:d,editable:x,draggable:m,x:u+r,y:l+a}}},{key:"updateText",value:function(r){this.text=fr(fr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=fr(fr({},this.properties),{},En({},r,Yn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=fr(fr({},this.properties),Yn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){rn(this,r)}}])&&Ym(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sp=Ot(Ge.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pp=Ot(Ge.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kp=Ot(Ge.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Tp=Ot(Ge.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ap=Ot(Ge.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Mp=Ot(Ge.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Dp=Ot(Ge.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Np=Ot(Ge.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=Ot(Ge.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rp=Ot(Ge.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=Ot(Ge.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lp=Ot(Ge.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=Ot(Ge.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bp=Ot(Ge.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fp=Ot(Ge.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=Ot(Ge.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ot(Ge.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(Ge.prototype,"incoming"),Ge.prototype),Ot(Ge.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(Ge.prototype,"outgoing"),Ge.prototype),Ot(Ge.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"addNodeMoveRules"),Ge.prototype),Ot(Ge.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"move"),Ge.prototype),Ot(Ge.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"moveTo"),Ge.prototype),Ot(Ge.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"moveText"),Ge.prototype),Ot(Ge.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateText"),Ge.prototype),Ot(Ge.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setSelected"),Ge.prototype),Ot(Ge.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setHovered"),Ge.prototype),Ot(Ge.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setHitable"),Ge.prototype),Ot(Ge.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setElementState"),Ge.prototype),Ot(Ge.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setProperty"),Ge.prototype),Ot(Ge.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setProperties"),Ge.prototype),Ot(Ge.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setZIndex"),Ge.prototype),Ot(Ge.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateAttributes"),Ge.prototype),Ge);function Yp(e){return(Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wp(Object(n),!0).forEach(function(r){Zp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kp(){return(Kp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=qm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e))!==null;);return e}function qp(e,t){return(qp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ui(e);if(t){var a=ui(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Jm(this,n)}}function Jm(e,t){if(t&&(Yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qu(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var an,Jp,Qp,Zu=(Up=qu((Tr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&qp(o,u)})(a,e);var t,n,r=Zm(a);function a(){var o;$m(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Zp(wa(o=r.call.apply(r,[this].concat(l))),"modelType",pt.CIRCLE_NODE),Wm(wa(o),"r",Up,wa(o)),o}return t=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Kp(ui(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return $p($p({},o),Dt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Km(t.prototype,n),a}(pr)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),qu(Tr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Tr.prototype,"width"),Tr.prototype),qu(Tr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Tr.prototype,"height"),Tr.prototype),Tr);i(127);function ed(e){return(ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ju(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return td(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return td(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function td(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nd(Object(n),!0).forEach(function(r){ud(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function od(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function id(){return(id=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=t0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function t0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ci(e))!==null;);return e}function ad(e,t){return(ad=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function n0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ci(e);if(t){var a=ci(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return r0(this,n)}}function r0(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wo(e)}function wo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var dr,cd,sd,Qu=(Jp=xo((an=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ad(o,u)})(a,e);var t,n,r=n0(a);function a(){var o;Qm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ud(wo(o=r.call.apply(r,[this].concat(l))),"modelType",pt.DIAMOND_NODE),od(wo(o),"rx",Jp,wo(o)),od(wo(o),"ry",Qp,wo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=id(ci(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return rd(rd({},o),Dt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Ju(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Ju(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Ju(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&e0(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Qp=xo(an.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),xo(an.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"points"),an.prototype),xo(an.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"pointsPosition"),an.prototype),xo(an.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"width"),an.prototype),xo(an.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"height"),an.prototype),an);function ld(e){return(ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fd(Object(n),!0).forEach(function(r){vd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hd(){return(hd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=a0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function a0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=si(e))!==null;);return e}function yd(e,t){return(yd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function u0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=si(e);if(t){var a=si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c0(this,n)}}function c0(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}function Eo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Dn,gd,ec=(cd=xa((dr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yd(o,u)})(a,e);var t,n,r=u0(a);function a(){var o;o0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return vd(Eo(o=r.call.apply(r,[this].concat(l))),"modelType",pt.ELLIPSE_NODE),dd(Eo(o),"rx",cd,Eo(o)),dd(Eo(o),"ry",sd,Eo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=hd(si(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return pd(pd({},o),Dt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&i0(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),sd=xa(dr.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),xa(dr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"width"),dr.prototype),xa(dr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"height"),dr.prototype),dr);function bd(e){return(bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return md(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return md(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function md(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){Ed(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(){return(wd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=p0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function p0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=li(e))!==null;);return e}function xd(e,t){return(xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function d0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=li(e);if(t){var a=li(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h0(this,n)}}function h0(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var jd,Sd,nc=(gd=ja((Dn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xd(o,u)})(a,e);var t,n,r=d0(a);function a(){var o;l0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ed(Ea(o=r.call.apply(r,[this].concat(l))),"modelType",pt.POLYGON_NODE),s0(Ea(o),"points",gd,Ea(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=wd(li(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return Od(Od({},o),Dt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-l/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=tc(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=tc(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(x,P){var A=tc(x,2),B=A[0],q=A[1];return{x:u+B-d/2,y:l+q-m/2,id:"".concat(o.id,"_").concat(P)}})}}])&&f0(t.prototype,n),a}(pr)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ja(Dn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Dn.prototype,"pointsPosition"),Dn.prototype),ja(Dn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Dn.prototype,"width"),Dn.prototype),ja(Dn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Dn.prototype,"height"),Dn.prototype),Dn);function Pd(e){return(Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(n),!0).forEach(function(r){Dd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ad(){return(Ad=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=b0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function b0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=fi(e))!==null;);return e}function Md(e,t){return(Md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fi(e);if(t){var a=fi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _0(this,n)}}function _0(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sa(e)}function Sa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr,rc=(Sd=function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((jd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Md(o,u)})(a,e);var t,n,r=m0(a);function a(){var o;v0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Dd(Sa(o=r.call.apply(r,[this].concat(l))),"modelType",pt.RECT_NODE),y0(Sa(o),"radius",Sd,Sa(o)),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Ad(fi(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Td(Td({},o),Dt(u))}}])&&g0(t.prototype,n),a}(pr)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jd);function Nd(e){return(Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cd(Object(n),!0).forEach(function(r){Bd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Id(){return(Id=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=x0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function x0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=pi(e))!==null;);return e}function Ld(e,t){return(Ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function E0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pi(e);if(t){var a=pi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j0(this,n)}}function j0(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zd(e)}function zd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fd(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var oc=(Fd((Zr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ld(o,u)})(a,e);var t,n,r=E0(a);function a(){var o;O0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Bd(zd(o=r.call.apply(r,[this].concat(l))),"modelType",pt.TEXT_NODE),o}return t=a,(n=[{key:"getTextStyle",value:function(){var o=Id(pi(a.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Rd(Rd({},o),Dt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return xu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return xu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&w0(t.prototype,n),a}(pr)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Fd(Zr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function Hd(e){return(Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function S0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xd(e,t){return(Xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function k0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ic(e);if(t){var a=ic(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T0(this,n)}}function T0(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gd(e)}function Gd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function A0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn,Vd,Ud,Yd,ac=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xd(o,u)})(a,e);var t,n,r=k0(a);function a(){var o;S0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return A0(Gd(o=r.call.apply(r,[this].concat(l))),"modelType",pt.HTML_NODE),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&P0(t.prototype,n),a}(pr);function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function M0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Kd=(Vd=di((Kn=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),$d(this,"graphModel",void 0),uc(this,"isShowHorizontal",Vd,this),uc(this,"isShowVertical",Ud,this),uc(this,"position",Yd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Wd(Object(o),!0).forEach(function(u){$d(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Wd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var o=r.x,u=r.y,l=!1,d=!1,m=0;m<a.length;m++){var x=a[m];if(x.id!==r.id&&(o===x.x&&(l=!0),u===x.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=gn(m);else{var x=this.graphModel.getNodeModelById(d);u=gn(x)}}for(var P=0;P<a.length;P++){var A=a[P];if(A.id!==r.id){var B=gn(A);if(B.minY===u.minY||B.maxY===u.minY){l=!0,o=u.minY;break}if(B.minY===u.maxY||B.maxY===u.maxY){l=!0,o=u.maxY;break}}}return rn({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=gn(m);else{var x=this.graphModel.getNodeModelById(d);u=gn(x)}}for(var P=0;P<a.length;P++){var A=a[P];if(A.id!==r.id){var B=gn(A);if(B.minX===u.minX||B.maxX===u.minX){l=!0,o=u.minX;break}if(B.minX===u.maxX||B.maxX===u.maxX){l=!0,o=u.maxX;break}}}return rn({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,a){var o=this.getCenterSnapLine(r,a),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,a);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(r,a);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=a,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,o=this.getSnapLinePosition(r,a);this.setSnaplineInfo(o)}}])&&M0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=di(Kn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=di(Kn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di(Kn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(Kn.prototype,"clearSnapline"),Kn.prototype),di(Kn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(Kn.prototype,"setNodeSnapLine"),Kn.prototype),Kn);function qd(e){return(qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zd(Object(n),!0).forEach(function(r){Zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(e,t){return(eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function C0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cc(e);if(t){var a=cc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R0(this,n)}}function R0(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&eh(o,u)})(a,e);var t,n,r=C0(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Zn(qn(o=r.call(this)),"preTargetNode",void 0),Zn(qn(o),"sourceRuleResults",void 0),Zn(qn(o),"targetRuleResults",void 0),Zn(qn(o),"dragHandler",void 0),Zn(qn(o),"t",void 0),Zn(qn(o),"onDragStart",function(u){var l=u.event,d=o.props,m=d.anchorData,x=d.nodeModel,P=d.graphModel,A=P.overlapMode;P.selectNodeById(x.id),A!==vn.INCREASE&&x.autoToFront&&P.toFront(x.id),P.eventCenter.emit(nt.ANCHOR_DRAGSTART,{data:m,e:l,nodeModel:x}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),Zn(qn(o),"onDraging",function(u){var l=u.event,d=o.props,m=d.graphModel,x=d.nodeModel,P=d.anchorData,A=m.transformModel,B=m.eventCenter,q=m.width,te=m.height,ce=m.editConfigModel,ue=l.clientX,he=l.clientY,Oe=m.getPointByClient({x:ue,y:he}),Re=Oe.domOverlayPosition,je=Re.x,ze=Re.y,He=Oe.canvasOverlayPosition,Qe=He.x,dt=He.y;o.t&&clearInterval(o.t);var ht=[];je<10?ht=[10,0]:je+10>q?ht=[-10,0]:ze<10?ht=[0,10]:ze+10>te&&(ht=[0,-10]),o.setState({endX:Qe,endY:dt,draging:!0}),o.moveAnchorEnd(Qe,dt),ht.length>0&&!ce.stopMoveGraph&&(o.t=setInterval(function(){var Ct=D0(ht,2),Xt=Ct[0],cn=Ct[1];A.translate(Xt,cn);var fn=o.state,bn=fn.endX,gr=fn.endY;o.setState({endX:bn-Xt,endY:gr-cn}),o.moveAnchorEnd(bn-Xt,gr-cn)},50)),B.emit(nt.ANCHOR_DRAG,{data:P,e:l,nodeModel:x})}),Zn(qn(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var l=o.props,d=l.graphModel,m=l.nodeModel,x=l.anchorData;d.eventCenter.emit(nt.ANCHOR_DROP,{data:x,e:u,nodeModel:m})}),Zn(qn(o),"checkEnd",function(){var u=o.props,l=u.graphModel,d=u.nodeModel,m=u.anchorData,x=m.x,P=m.y,A=m.id,B=l.edgeType,q=o.state,te=q.endX,ce=q.endY,ue=q.draging,he=na({x:te,y:ce},l);if(o.preTargetNode&&o.preTargetNode.state!==St.DEFAULT&&o.preTargetNode.setElementState(St.DEFAULT),ue&&he&&he.node){var Oe=he.node,Re=he.anchor.id,je="".concat(d.id,"_").concat(Oe.id,"_").concat(Re,"_").concat(A),ze=o.sourceRuleResults.get(je)||{},He=ze.isAllPass,Qe=ze.msg,dt=o.targetRuleResults.get(je)||{},ht=dt.isAllPass,Ct=dt.msg;if(He&&ht)Oe.setElementState(St.DEFAULT),l.addEdge({type:B,sourceNodeId:d.id,sourceAnchorId:A,startPoint:{x,y:P},targetNodeId:he.node.id,targetAnchorId:he.anchor.id,endPoint:{x:he.anchor.x,y:he.anchor.y}});else{var Xt=Oe.getData();l.eventCenter.emit(nt.CONNECTION_NOT_ALLOWED,{data:Xt,msg:Ct||Qe})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new $r({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,x=u.y,P=Jd(Jd({},l),l.hover);return Object(ee.g)("g",null,Object(ee.g)(ai,Pa({className:"lf-node-anchor-hover"},P,{x:m,y:x})),Object(ee.g)(ai,Pa({className:"lf-node-anchor"},l,{x:m,y:x})))}},{key:"moveAnchorEnd",value:function(o,u){var l=this.props,d=l.graphModel,m=l.nodeModel,x=l.anchorData,P=na({x:o,y:u},d);if(P){var A=P.node,B=P.anchor.id;if(this.preTargetNode&&this.preTargetNode!==P.node&&this.preTargetNode.setElementState(St.DEFAULT),x.id===B)return;this.preTargetNode=A;var q="".concat(m.id,"_").concat(A.id,"_").concat(B,"_").concat(x.id);if(!this.targetRuleResults.has(q)){var te=P.anchor,ce=m.isAllowConnectedAsSource(A,x,te),ue=A.isAllowConnectedAsTarget(m,x,te);this.sourceRuleResults.set(q,ra(ce)),this.targetRuleResults.set(q,ra(ue))}var he=this.sourceRuleResults.get(q).isAllPass,Oe=this.targetRuleResults.get(q).isAllPass;he&&Oe?A.setElementState(St.ALLOW_CONNECT):A.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,m=o.endY;return Un(u,l,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,m=u.endX,x=u.endY,P=this.props,A=P.anchorData.edgeAddable,B=P.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(q){A!==!1&&o.dragHandler.handleMouseDown(q)}},this.getAnchorShape()),this.isShowLine()&&Object(ee.g)(Kr,Pa({x1:l,y1:d,x2:m,y2:x},B,{"pointer-events":"none"})))}}])&&N0(t.prototype,n),a}(ee.a);i(63);function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(r){z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nh(e){return(nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function B0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return rh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oh(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,m=e.overflowMode,x=m===void 0?"default":m,P=e.textWidth,A=P===void 0?"":P,B=e.model,q={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:d};if(Object.entries(e).forEach(function(Re){var je=B0(Re,2),ze=je[0],He=je[1];nh(He)!=="object"&&(q[ze]=He)}),o){var te=String(o).split(/[\r\n]/g),ce=te.length;if(x!=="default"){var ue=B.BaseType,he=B.modelType;if(ue===Ht.NODE&&he!==pt.TEXT_NODE||ue===Ht.EDGE&&A)return function(Re){var je=Re.value,ze=Re.fontSize,He=Re.model,Qe=Re.fontFamily,dt=Qe===void 0?"":Qe,ht=Re.lineHeight,Ct=Re.wrapPadding,Xt=Ct===void 0?"0, 0":Ct,cn=Re.overflowMode,fn=Re.x,bn=Re.y,gr=He.width,to=He.textHeight,br=Re.textWidth||gr,mi=String(je).split(/[\r\n]/g),Da=mi.length,Na=kl({rows:mi,style:{fontSize:"".concat(ze,"px"),width:"".concat(br,"px"),fontFamily:dt,lineHeight:ht,padding:Xt},rowsLength:Da,className:"lf-get-text-height"}),ko=He.height>Na?He.height:Na;to&&(ko=to);var To=cn==="ellipsis";return Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:br,height:ko,x:fn-br/2,y:bn-ko/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:ko,width:br,padding:Xt}},Object(ee.g)("div",{className:To?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:L0({},Re)},mi.map(function(Dr){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},Dr)})))))}(e)}if(ce>1){var Oe=te.map(function(Re,je){var ze=(je-(ce-1)/2)*(u+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:a+ze},Re)});return Object(ee.g)("text",q,Oe)}return Object(ee.g)("text",q,o)}}function ih(e){return(ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ah(){return(ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return uh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return uh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ch(e,t){return(ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function X0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(e);if(t){var a=sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function Ar(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ch(o,u)})(a,e);var t,n,r=X0(a);function a(o){var u;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Jr(Ar(u=r.call(this)),"dragHandler",void 0),Jr(Ar(u),"sumDeltaX",0),Jr(Ar(u),"sumDeltaY",0),Jr(Ar(u),"stepDrag",void 0),Jr(Ar(u),"onDraging",function(m){var x=m.deltaX,P=m.deltaY,A=u.props,B=A.model,q=F0(A.graphModel.transformModel.fixDeltaXY(x,P),2),te=q[0],ce=q[1];B.moveText(te,ce)}),Jr(Ar(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(St.TEXT_EDIT)}),Jr(Ar(u),"mouseDownHandle",function(m){var x=u.props,P=x.draggable,A=x.graphModel.editConfigModel.nodeTextDraggable;(P||A)&&u.stepDrag.handleMouseDown(m)});var l=o.model,d=o.draggable;return u.stepDrag=new $r({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=a,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,m=l.editConfigModel,x=d.value,P=d.x,A=d.y,B=d.editable,q=d.draggable,te={x:P,y:A,className:"",value:x};B?te.className="lf-element-text":q||m.nodeTextDraggable?te.className="lf-text-draggable":te.className="lf-text-disabled";var ce=u.getTextStyle();return Object(ee.g)(oh,ah({},te,ce,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&H0(t.prototype,n),a}(ee.a),V0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,hi=new Map,lh=function(e){var t=hi.get(e);t&&(window.cancelAnimationFrame(t),hi.delete(e))};function fh(e){return(fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ka(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ph(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ph(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ph(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hh(e,t){return(hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(e);if(t){var a=lc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y0(this,n)}}function Y0(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}function Zt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&hh(u,l)})(o,e);var t,n,r,a=U0(o);function o(u){var l;(function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")})(this,o),un(Zt(l=a.call(this)),"t",void 0),un(Zt(l),"moveOffset",void 0),un(Zt(l),"stepDrag",void 0),un(Zt(l),"contextMenuTime",void 0),un(Zt(l),"startTime",void 0),un(Zt(l),"clickTimer",void 0),un(Zt(l),"onDragStart",function(A){var B=A.event,q=B.clientX,te=B.clientY,ce=l.props,ue=ce.model,he=ce.graphModel.getPointByClient({x:q,y:te}).canvasOverlayPosition,Oe=he.x,Re=he.y;l.moveOffset={x:ue.x-Oe,y:ue.y-Re}}),un(Zt(l),"onDraging",function(A){var B=A.event,q=l.props,te=q.model,ce=q.graphModel,ue=ce.editConfigModel,he=ce.transformModel,Oe=ce.width,Re=ce.height,je=ce.gridSize;te.isDragging=!0;var ze=B.clientX,He=B.clientY,Qe=ce.getPointByClient({x:ze,y:He}).canvasOverlayPosition,dt=Qe.x,ht=Qe.y,Ct=ka(he.CanvasPointToHtmlPoint([dt,ht]),2),Xt=Ct[0],cn=Ct[1];if(!(Xt<0||cn<0||Xt>Oe||cn>Re)){dt+=l.moveOffset.x,ht+=l.moveOffset.y,dt=bo(dt,je),ht=bo(ht,je);var fn,bn,gr,to=ka(he.CanvasPointToHtmlPoint([dt-te.width/2,ht-te.height/2]),2),br=to[0],mi=to[1],Da=ka(he.CanvasPointToHtmlPoint([dt+te.width/2,ht+te.height/2]),2),Na=Da[0],ko=Da[1],To=Math.max(je,20),Dr=[];br<0?Dr=[To,0]:Na>ce.width?Dr=[-To,0]:mi<0?Dr=[0,To]:ko>ce.height&&(Dr=[0,-To]),l.t&&lh(l.t),Dr.length>0&&!ue.stopMoveGraph?l.t=(fn=function(){var Ca=ka(Dr,2),Ra=Ca[0],Xy=Ca[1];he.translate(Ra,Xy),ce.moveNode(te.id,-Ra/he.SCALE_X,-Xy/he.SCALE_X)},bn=Yr(),gr=window.requestAnimationFrame(function Ca(){if(fn(),hi.get(bn)){var Ra=window.requestAnimationFrame(Ca);hi.set(bn,Ra)}}),hi.set(bn,gr),bn):ce.moveNode2Coordinate(te.id,dt,ht)}}),un(Zt(l),"onDragEnd",function(){l.t&&lh(l.t),l.props.model.isDragging=!1}),un(Zt(l),"handleClick",function(A){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var B=l.props,q=B.model,te=B.graphModel,ce={data:q.getData(),e:A,position:te.getPointByClient({x:A.clientX,y:A.clientY})},ue=A.button===2,he=A.detail===2;if(!ue){var Oe=te.editConfigModel;te.selectNodeById(q.id,rl(A,Oe)),l.toFront(),he?(Oe.nodeTextEdit&&q.text.editable&&(q.setSelected(!1),te.setElementStateById(q.id,St.TEXT_EDIT)),te.eventCenter.emit(nt.NODE_DBCLICK,ce)):(te.eventCenter.emit(nt.ELEMENT_CLICK,ce),te.eventCenter.emit(nt.NODE_CLICK,ce))}}}),un(Zt(l),"handleContextMenu",function(A){A.preventDefault();var B=l.props,q=B.model,te=B.graphModel,ce=q.getData(),ue=te.getPointByClient({x:A.clientX,y:A.clientY});te.setElementStateById(q.id,St.SHOW_MENU,ue.domOverlayPosition),te.selectNodeById(q.id),te.eventCenter.emit(nt.NODE_CONTEXTMENU,{data:ce,e:A,position:ue}),l.toFront()}),un(Zt(l),"handleMouseDown",function(A){var B=l.props,q=B.model,te=B.graphModel;l.toFront(),l.startTime=new Date().getTime(),te.editConfigModel.adjustNodePosition&&q.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(A)}),un(Zt(l),"setHoverON",function(A){if(!l.state.isHovered){l.setState({isHovered:!0});var B=l.props,q=B.model,te=B.graphModel,ce=q.getData();q.setHovered(!0),te.eventCenter.emit(nt.NODE_MOUSEENTER,{data:ce,e:A})}}),un(Zt(l),"setHoverOFF",function(A){l.setState({isHovered:!1});var B=l.props,q=B.model,te=B.graphModel,ce=q.getData();q.setHovered(!1),te.eventCenter.emit(nt.NODE_MOUSELEAVE,{data:ce,e:A})}),un(Zt(l),"onMouseOut",function(A){V0&&l.setHoverOFF(A)});var d=u.graphModel,m=d.gridSize,x=d.eventCenter,P=u.model;return l.stepDrag=new $r({onDragStart:l.onDragStart,onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:m,eventType:"NODE",isStopPropagation:!1,eventCenter:x,model:P}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,m=l.graphModel,x=d.isSelected,P=d.isHitable,A=d.isDragging,B=this.state.isHovered;if(P&&(x||B)&&!A){var q=d.getAnchorLineStyle();return Ji(d.anchors,function(te,ce){var ue=d.getAnchorStyle(te);return Object(ee.g)(I0,{anchorData:te,node:u,style:ue,edgeStyle:q,anchorIndex:ce,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===St.TEXT_EDIT)return"";if(l.text){var m=d.editConfigModel,x=!1;return(l.text.draggable||m.nodeTextDraggable)&&(x=!0),Object(ee.g)(sh,{editable:m.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:x})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,m="lf-node";switch(l){case St.ALLOW_CONNECT:m+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default"}return d&&(m+=" lf-isDragging"),m}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==vn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,m=l.graphModel,x=m.editConfigModel,P=x.hideAnchors,A=x.adjustNodePosition,B=m.gridSize,q=m.transformModel.SCALE_X,te=d.isHitable,ce=d.draggable,ue=Object(ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),P?null:this.getAnchors());return te?(A&&ce&&this.stepDrag.setStep(B*q),u=Object(ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ue)):u=Object(ee.g)("g",{className:this.getStateClassName()},ue),u}}])&&dh(t.prototype,n),r&&dh(t,r),o}(ee.a);function yh(e){return(yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vh(){return(vh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gh(e,t){return(gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function K0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fc(e);if(t){var a=fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q0(this,n)}}function q0(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&gh(o,u)})(a,e);var t,n,r=K0(a);function a(){return W0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(kr,vh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&$0(t.prototype,n),a}(hr);function bh(e){return(bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mh(){return(mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _h(e,t){return(_h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Q0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(e);if(t){var a=dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return e_(this,n)}}function e_(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var hc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_h(o,u)})(a,e);var t,n,r=Q0(a);function a(){return Z0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(ee.g)(ai,mh({},m,{x:u,y:l,r:d}))}}])&&J0(t.prototype,n),a}(hr);function Oh(e){return(Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function t_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(a){var o=t_(a,2),u=o[0],l=o[1];Oh(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(a){return a.join(",")}).join(" "),Object(ee.g)("polygon",r)}function Eh(e){return(Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jh(){return(jh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sh(e,t){return(Sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function o_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yc(e);if(t){var a=yc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var vc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sh(o,u)})(a,e);var t,n,r=o_(a);function a(){return n_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,m=o.height,x=o.points,P=o.getNodeStyle(),A={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-m/2,")")};return Object(ee.g)("g",A,Object(ee.g)(xh,jh({},P,{points:x,x:u,y:l})))}}])&&r_(t.prototype,n),a}(hr);function Ph(e){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e,t){return(Th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function c_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gc(e);if(t){var a=gc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s_(this,n)}}function s_(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var bc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Th(o,u)})(a,e);var t,n,r=c_(a);function a(){return a_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(xh,kh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&u_(t.prototype,n),a}(hr);function Ah(e){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Mh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f_(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,m=e.className,x={cx:n,cy:a,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(P){var A=l_(P,2),B=A[0],q=A[1];Ah(q)!=="object"&&(x[B]=q)}),x.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(ee.g)("ellipse",x)}function Dh(e){return(Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nh(){return(Nh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ch(e,t){return(Ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function h_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mc(e);if(t){var a=mc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y_(this,n)}}function y_(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ch(o,u)})(a,e);var t,n,r=h_(a);function a(){return p_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(f_,Nh({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&d_(t.prototype,n),a}(hr);function Rh(e){return(Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(r){v_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zh(e,t){return(zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oc(e);if(t){var a=Oc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return __(this,n)}}function __(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var wc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zh(o,u)})(a,e);var t,n,r=m_(a);function a(){return g_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,m=l.y,x=o.width,P=o.height,A=Lh(Lh({},u.background),{},{x:d,y:m-1,width:x,height:P});return Object(ee.g)(kr,A)}}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackgroud())}}])&&b_(t.prototype,n),a}(hr);function Bh(e){return(Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fh(e,t){return(Fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function x_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xc(e);if(t){var a=xc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ec=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Fh(o,u)})(a,e);var t,n,r=x_(a);function a(){var o;O_(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ta(yi(o=r.call.apply(r,[this].concat(l))),"ref",void 0),Ta(yi(o),"currrentProperties",void 0),Ta(yi(o),"preProperties",void 0),Ta(yi(o),"setRef",function(m){o.ref=m}),o}return t=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(ee.g)("foreignObject",{x:u-m/2,y:l-d/2,width:m,height:d,ref:this.setRef})}}])&&w_(t.prototype,n),a}(hr);function Hh(e){return(Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function j_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Xh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jo=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=j_(n,2),a=r[0],o=r[1];Hh(o)!=="object"&&(t[a]=o)}),Object(ee.g)("path",t)};function Gh(e){return(Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function S_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uh(e,t){return(Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function T_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jc(e);if(t){var a=jc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A_(this,n)}}function A_(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Yh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Uh(o,u)})(a,e);var t,n,r=T_(a);function a(){return P_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,m=u.end,x={start:d,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},P=ni(x),A=P.leftX,B=P.leftY,q=P.rightX,te=P.rightY;return function(ce){for(var ue=1;ue<arguments.length;ue++){var he=arguments[ue]!=null?arguments[ue]:{};ue%2?Vh(Object(he),!0).forEach(function(Oe){S_(ce,Oe,he[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(he)):Vh(Object(he)).forEach(function(Oe){Object.defineProperty(ce,Oe,Object.getOwnPropertyDescriptor(he,Oe))})}return ce}({d:"M".concat(A," ").concat(B," L").concat(m.x," ").concat(m.y," L").concat(q," ").concat(te," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(ee.g)(jo,{d:u,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}])&&k_(t.prototype,n),a}(ee.a);function Wh(e){return(Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $h(){return($h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qh(e,t){return(qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function D_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pc(e);if(t){var a=Pc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N_(this,n)}}function N_(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn,C_=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&qh(o,u)})(a,e);var t,n,r=D_(a);function a(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),kc(Sc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),kc(Sc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=Qr(Qr({},d),u.hover.background)),l&&l.value&&d.fill!=="transparnet"){var m,x=u.fontSize,P=u.overflowMode,A=u.lineHeight,B=u.wrapPadding,q=u.textWidth,te=l.value,ce=l.x,ue=l.y,he=String(te).split(/[\r\n]/g),Oe=he.length;if(P==="autoWrap"&&q){var Re=kl({rows:he,style:{fontSize:"".concat(x,"px"),width:"".concat(q,"px"),lineHeight:A,padding:B},rowsLength:Oe,className:"lf-get-text-height"});m=Qr(Qr({},d),{},{x:ce-1,y:ue-1,width:q,height:Re})}else{he&&he.forEach(function(Qe){nf(Qe)});var je=xu({rows:he,fontSize:x,rowsLength:Oe}),ze=je.width,He=je.height;m=Qr(Qr({},d),{},{x:ce-1,y:ue-1,width:ze,height:He})}return Object(ee.g)(kr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,m=u.y;if(l){var x=Qr({x:d,y:m,className:"lf-element-text",value:l},o.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ee.g)(oh,$h({},x,{model:o})))}}}])&&M_(t.prototype,n),a}(sh);function Zh(e){return(Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jh(){return(Jh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(r){Cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ey(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ey(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ty(e,t){return(ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function L_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tc(e);if(t){var a=Tc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nn(e)}function Nn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Jn||(Jn={}));var ny=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ty(o,u)})(a,e);var t,n,r=L_(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Cn(Nn(o=r.call(this)),"dragHandler",void 0),Cn(Nn(o),"oldEdge",void 0),Cn(Nn(o),"preTargetNode",void 0),Cn(Nn(o),"targetRuleResults",void 0),Cn(Nn(o),"sourceRuleResults",void 0),Cn(Nn(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,m=u.edgeModel,x=m.startPoint,P=m.endPoint,A=m.pointsList;o.oldEdge={startPoint:x,endPoint:P,pointsList:A},o.setState({endX:l,endY:d,draging:!0}),m.isHitable=!1}),Cn(Nn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.state,x=m.endX,P=m.endY,A=o.props,B=A.graphModel,q=A.type,te=R_(B.transformModel.moveCanvasPointByHtml([x,P],l,d),2),ce=te[0],ue=te[1];o.setState({endX:ce,endY:ue,draging:!0});var he=o.props.edgeModel,Oe=na({x,y:P},B);if(Oe&&Oe.node&&o.isAllowAdjust(Oe)){var Re,je=he.startPoint,ze=he.endPoint,He=he.sourceNode,Qe=he.targetNode;q===Jn.SOURCE?Re={startPoint:{x:Oe.anchor.x,y:Oe.anchor.y},endPoint:{x:ze.x,y:ze.y},sourceNode:Oe.node,targetNode:Qe}:q===Jn.TARGET&&(Re={startPoint:{x:je.x,y:je.y},endPoint:{x:Oe.anchor.x,y:Oe.anchor.y},sourceNode:He,targetNode:Oe.node}),he.updateAfterAdjustStartAndEnd(Re)}else q===Jn.SOURCE?he.updateStartPoint({x:ce,y:ue}):q===Jn.TARGET&&he.updateEndPoint({x:ce,y:ue})}),Cn(Nn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,m=l.edgeModel,x=l.type;m.isHitable=!0;var P=o.state,A=P.endX,B=P.endY,q=P.draging,te=na({x:A,y:B},d);if(q){if(te&&te.node&&o.isAllowAdjust(te)){var ce,ue=m.getData(),he=yr(yr({},ue),{},{sourceAnchorId:"",targetAnchorId:"",text:(ue==null||(ce=ue.text)===null||ce===void 0?void 0:ce.value)||""});x===Jn.SOURCE?he=yr(yr({},he),{},{sourceNodeId:te.node.id,sourceAnchorId:te.anchor.id,startPoint:{x:te.anchor.x,y:te.anchor.y},targetNodeId:m.targetNodeId,endPoint:yr({},m.endPoint)}):x===Jn.TARGET&&(he=yr(yr({},he),{},{sourceNodeId:m.sourceNodeId,startPoint:yr({},m.startPoint),targetNodeId:te.node.id,targetAnchorId:te.anchor.id,endPoint:{x:te.anchor.x,y:te.anchor.y}})),d.deleteEdgeById(m.id);var Oe=d.addEdge(yr({},he));d.eventCenter.emit(nt.EDGE_EXCHANGE_NODE,{data:{newEdge:Oe.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(St.DEFAULT)}}),Cn(Nn(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,m=l.endPoint,x=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==pt.LINE_EDGE&&(u.pointsList=x,u.initPoints())}),Cn(Nn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=Ru({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),m=l.targetNode,x=l.sourceAnchorId,P=l.targetAnchorId,A=u.type,B=null,q=null,te=null,ce=null;if(A===Jn.SOURCE?(B=o.node,q=m,te=o.anchor,ce=m.getAnchorInfo(P)):(B=d,q=o.node,ce=o.anchor,te=d.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=o.node,ce.id===te.id)return!1;var ue="".concat(B.id,"_").concat(q.id,"_").concat(te.id,"_").concat(ce.id);if(!this.targetRuleResults.has(ue)){var he=B.isAllowConnectedAsSource(q,te,ce),Oe=q.isAllowConnectedAsTarget(B,te,ce);this.sourceRuleResults.set(ue,ra(he)),this.targetRuleResults.set(ue,ra(Oe))}var Re=this.sourceRuleResults.get(ue).isAllPass,je=this.targetRuleResults.get(ue).isAllPass,ze=Re&&je?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return A===Jn.SOURCE?B.setElementState(ze):q.setElementState(ze),Re&&je}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(ee.g)("g",null,Object(ee.g)(ai,Jh({className:"lf-edge-adjust-point"},m,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&I_(t.prototype,n),a}(ee.a);function ry(e){return(ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ac(){return(Ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oy(Object(n),!0).forEach(function(r){In(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ay(e,t){return(ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function H_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mc(e);if(t){var a=Mc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(e,t){if(t&&(ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(e)}function Rn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ay(o,u)})(a,e);var t,n,r=H_(a);function a(){var o;B_(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return In(Rn(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),In(Rn(o),"contextMenuTime",void 0),In(Rn(o),"clickTimer",void 0),In(Rn(o),"handleHover",function(m,x){var P=o.props,A=P.model,B=P.graphModel.eventCenter;A.setHovered(m);var q=m?nt.EDGE_MOUSEENTER:nt.EDGE_MOUSELEAVE,te=A.getData();B.emit(q,{data:te,e:x})}),In(Rn(o),"setHoverON",function(m){o.handleHover(!0,m)}),In(Rn(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),In(Rn(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var x=o.props,P=x.model,A=x.graphModel,B=A.getPointByClient({x:m.clientX,y:m.clientY});A.setElementStateById(P.id,St.SHOW_MENU,B.domOverlayPosition),o.toFront(),A.selectEdgeById(P.id);var q=P==null?void 0:P.getData();A.eventCenter.emit(nt.EDGE_CONTEXTMENU,{data:q,e:m,position:B})}),In(Rn(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),In(Rn(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var x=m.detail===2,P=o.props,A=P.model,B=P.graphModel,q=A==null?void 0:A.getData(),te=B.getPointByClient({x:m.clientX,y:m.clientY});if(x){var ce=B.editConfigModel,ue=B.textEditElement;if(ue&&ue.id===A.id&&B.setElementStateById(A.id,St.DEFAULT),ce.edgeTextEdit&&A.text.editable&&B.setElementStateById(A.id,St.TEXT_EDIT),A.modelType===pt.POLYLINE_EDGE){var he=A,Oe=B.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,Re=Oe.x,je=Oe.y,ze=of({x:Re,y:je},he.points);he.dbClickPosition=ze}B.eventCenter.emit(nt.EDGE_DBCLICK,{data:q,e:m,position:te})}else B.eventCenter.emit(nt.ELEMENT_CLICK,{data:q,e:m,position:te}),B.eventCenter.emit(nt.EDGE_CLICK,{data:q,e:m,position:te});var He=B.editConfigModel;B.selectEdgeById(A.id,rl(m,He)),o.toFront()}}),In(Rn(o),"getIsDraging",function(){return!1}),o}return t=a,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===St.TEXT_EDIT)return"";var d=!1,m=l.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(ee.g)(C_,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),m=l.theme.arrow;return iy(iy({},d),{},{fill:d.stroke},m)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(ee.g)(Yh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(ny,Ac({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(ee.g)(ny,Ac({type:"TARGET"},m,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==vn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,m=o.graphModel,x=this.getIsDraging(),P=m.editConfigModel.adjustEdgeStartAndEnd,A=m.animation,B=l&&A.edge&&m.getSelectElements().edges.length===1;return Object(ee.g)("g",null,Object(ee.g)("g",{className:d?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),B&&this.getAnimation(),this.getText(),this.getArrow()),P&&l&&!x?this.getAdjustPoints():"")}}])&&F_(t.prototype,n),a}(ee.a);function uy(e){return(uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dc(){return(Dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cy(e,t){return(cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nc(e);if(t){var a=Nc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y_(this,n)}}function Y_(e,t){if(t&&(uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Nc(e){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&cy(o,u)})(a,e);var t,n,r=U_(a);function a(){return G_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.getEdgeStyle();return Object(ee.g)(Kr,Dc({},d,{x1:u.x,y1:u.y,x2:l.x,y2:l.y}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,x=o.startPoint,P=o.endPoint,A=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(Kr,Dc({},A,{x1:x.x,y1:x.y,x2:P.x,y2:P.y,className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(A){var B,q=A.start,te=A.end;if(q.x===te.x&&q.y===te.y)B="";else{var ce={start:q,end:te,offset:10,verticalLength:5},ue=ni(aa(aa({},ce),{},{type:"start"})),he=ni(aa(aa({},ce),{},{type:"end"}));B="M".concat(ue.leftX," ").concat(ue.leftY,` 
    L`).concat(ue.rightX," ").concat(ue.rightY,` 
    L`).concat(he.rightX," ").concat(he.rightY,`
    L`).concat(he.leftX," ").concat(he.leftY," z")}return{d:B,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,m=u.fill,x=u.strokeDasharray,P=u.stroke;return Object(ee.g)(jo,{d:l,fill:m,strokeWidth:d,stroke:P,strokeDasharray:x})}}])&&V_(t.prototype,n),a}(vi);function sy(e){return(sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function W_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ly(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ly(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fy=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=W_(n,2),a=r[0],o=r[1];sy(o)!=="object"&&(t[a]=o)}),Object(ee.g)("polyline",t)};function py(e){return(py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dy(Object(n),!0).forEach(function(r){er(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return hy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yy(e,t){return(yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function q_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ic(e);if(t){var a=Ic(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z_(this,n)}}function Z_(e,t){if(t&&(py(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yy(o,u)})(a,e);var t,n,r=q_(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),er(Qn(o=r.call(this)),"drag",void 0),er(Qn(o),"isDraging",void 0),er(Qn(o),"appendInfo",void 0),er(Qn(o),"dragHandler",void 0),er(Qn(o),"onDragStart",function(){o.props.model.dragAppendStart()}),er(Qn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.props,x=m.model,P=m.graphModel;o.isDraging=!0;var A=P.transformModel,B=P.editConfigModel,q=$_(A.fixDeltaXY(l,d),2),te=q[0],ce=q[1],ue=x,he=B.adjustEdgeMiddle;o.appendInfo=he?ue.dragAppendSimple(o.appendInfo,{x:te,y:ce}):ue.dragAppend(o.appendInfo,{x:te,y:ce})}),er(Qn(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,m=l;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(nt.EDGE_ADJUST,{data:m.getData()})}),er(Qn(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),er(Qn(o),"getIsDraging",function(){return o.isDraging}),o.drag=Ru({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(ee.g)(fy,Rc({points:o.points},u))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,x=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(fy,Rc({points:o.points},x,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},m=mo(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var m={start:l,end:d,offset:10,verticalLength:5},x=ni(Aa(Aa({},m),{},{type:"start"})),P=ni(Aa(Aa({},m),{},{type:"end"}));u="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(P.rightX," ").concat(P.rightY,`
      L`).concat(P.leftX," ").concat(P.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,m=u.fill,x=u.strokeDasharray,P=u.stroke;return Object(ee.g)(jo,{d:l,fill:m,strokeWidth:d,stroke:P,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,m=l.pointsList,x=l.draggable,P=[],A=m.length,B=function(te){var ce="lf-polyline-append",ue={start:{x:m[te].x,y:m[te].y},end:{x:m[te+1].x,y:m[te+1].y},startIndex:te,endIndex:te+1,direction:"",dragAble:!0},he=Object(ee.g)("g",{className:ce},o.getAppendShape(ue)),Oe=d.editConfigModel,Re=Oe.adjustEdge,je=Oe.adjustEdgeMiddle;if(Re&&x){o.dragHandler=o.drag;var ze=ue.startIndex,He=ue.endIndex,Qe=je&&(ze===0||He===A-1);ue.dragAble=!Qe,ue.start.x===ue.end.x?(ue.dragAble&&(ce+="-ew-resize"),ue.direction=At.VERTICAL):ue.start.y===ue.end.y&&(ue.dragAble&&(ce+="-ns-resize"),ue.direction=At.HORIZONTAL),he=Object(ee.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(dt){return o.beforeDragStart(dt,ue)}},Object(ee.g)("g",{className:ce},o.getAppendShape(ue)))}else o.dragHandler=function(){};P.push(he)},q=0;q<A-1;q++)B(q);return Object(ee.g)("g",null,P)}}])&&K_(t.prototype,n),a}(vi);function vy(e){return(vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function J_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return gy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return gy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zc(){return(zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function by(e,t){return(by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function tO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bc(e);if(t){var a=Bc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(e,t){if(t&&(vy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Fc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&by(o,u)})(a,e);var t,n,r=tO(a);function a(){return Q_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(ee.g)(jo,zc({d:o.path},u))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,x=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(jo,zc({d:o.path},x,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ee.g)(jo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,m=l.isSelected,x=J_(function(P){var A=pa(P);return[A[2],A[3]]}(d),2);return{start:x[0],end:x[1],hover:u,isSelected:m}}}])&&eO(t.prototype,n),a}(vi),my=function(e,t){return y(e,t)},rO=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Hc=function(){return Ve.a.Date.now()},oO=/\s/,iO=function(e){for(var t=e.length;t--&&oO.test(e.charAt(t)););return t},aO=/^\s+/,uO=function(e){return e&&e.slice(0,iO(e)+1).replace(aO,"")},cO=/^[-+]0x[0-9a-f]+$/i,sO=/^0b[01]+$/i,lO=/^0o[0-7]+$/i,fO=parseInt,_y=function(e){if(typeof e=="number")return e;if(ae(e))return NaN;if(Mt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uO(e);var n=sO.test(e);return n||lO.test(e)?fO(e.slice(2),n?2:8):cO.test(e)?NaN:+e},pO=Math.max,dO=Math.min,hO=function(e,t,n){var r,a,o,u,l,d,m=0,x=!1,P=!1,A=!0;if(typeof e!="function")throw new TypeError("Expected a function");function B(Oe){var Re=r,je=a;return r=a=void 0,m=Oe,u=e.apply(je,Re)}function q(Oe){return m=Oe,l=setTimeout(ce,t),x?B(Oe):u}function te(Oe){var Re=Oe-d;return d===void 0||Re>=t||Re<0||P&&Oe-m>=o}function ce(){var Oe=Hc();if(te(Oe))return ue(Oe);l=setTimeout(ce,function(Re){var je=t-(Re-d);return P?dO(je,o-(Re-m)):je}(Oe))}function ue(Oe){return l=void 0,A&&r?B(Oe):(r=a=void 0,u)}function he(){var Oe=Hc(),Re=te(Oe);if(r=arguments,a=this,d=Oe,Re){if(l===void 0)return q(d);if(P)return clearTimeout(l),l=setTimeout(ce,t),B(d)}return l===void 0&&(l=setTimeout(ce,t)),u}return t=_y(t)||0,Mt(n)&&(x=!!n.leading,o=(P="maxWait"in n)?pO(_y(n.maxWait)||0,t):o,A="trailing"in n?!!n.trailing:A),he.cancel=function(){l!==void 0&&clearTimeout(l),m=0,r=d=a=l=void 0},he.flush=function(){return l===void 0?u:ue(Hc())},he},yO=i(165);function vO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oy,wy,xy,gO=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Mr(this,"undos",[]),Mr(this,"redos",[]),Mr(this,"callbacks",[]),Mr(this,"stopWatch",null),Mr(this,"curData",null),Mr(this,"maxSize",50),Mr(this,"waitTime",100),Mr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){my(rO(this.undos),r)||(this.undos.push(r),my(this.curData,r)||(this.redos=[]),this.eventCenter.emit(nt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Dt(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Dt(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(yO.a)(r,hO(function(){var o=r.modelToHistoryData();o&&a.add(o)},this.waitTime))}}])&&vO(t.prototype,n),e}();function Ey(e){return(Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return jy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(n),!0).forEach(function(r){eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e,t){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function mO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xc(e);if(t){var a=Xc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _O(this,n)}}function _O(e,t){if(t&&(Ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ty,Ay,My,Gc=Ln((xy=wy=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&ky(u,l)})(o,e);var t,n,r,a=mO(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),eo(Po(u=a.call(this)),"ref",Object(ee.f)()),eo(Po(u),"__prevText",{type:"",text:"",id:""}),eo(Po(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),eo(Po(u),"inputHandler",function(l){var d=l.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),eo(Po(u),"keydownHandler",function(l){l.stopPropagation()}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,m=d.transformModel,x=d.theme,P=d.textEditElement;if(P){var A;if((A=P.text)===null||A===void 0||!A.value)if(P.BaseType===Ht.EDGE){var B=(P=P).text,q=P.textPosition,te=q.x,ce=q.y;B.x=te,B.y=ce,P.setText(B)}else P=P;var ue={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(P.BaseType===Ht.EDGE){var he=x.edgeText,Oe=he.overflowMode,Re=he.lineHeight,je=he.wrapPadding,ze=he.textWidth;ze&&Oe==="autoWrap"&&(l=So(So({},ue),{},{width:ze,minWidth:ze,lineHeight:Re,padding:je}))}else if(P.BaseType===Ht.NODE){var He=x.nodeText,Qe=He.overflowMode,dt=He.lineHeight,ht=He.wrapPadding,Ct=He.textWidth,Xt=P,cn=Xt.width,fn=Xt.modelType;(fn!==pt.TEXT_NODE&&Qe==="autoWrap"||fn===pt.TEXT_NODE&&Ct)&&(l=So(So({},ue),{},{width:Ct||cn,minWidth:Ct||cn,lineHeight:dt,padding:ht}))}var bn=P.text,gr=bn.x,to=bn.y,br=bO(m.CanvasPointToHtmlPoint([gr,to]),2);return{style:So({left:br[0],top:br[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,x=d.nodeTextEdit;(m||x)&&l.on("".concat(nt.GRAPH_TRANSFORM,",").concat(nt.NODE_CLICK,",").concat(nt.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(St.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,m=l.id;u.updateText(m,d),u.eventCenter.emit(nt.TEXT_UPDATE,So({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&Py(t.prototype,n),r&&Py(t,r),o}(ee.a),eo(wy,"toolName","textEdit"),Oy=xy))||Oy,OO=function(e){return e.modelType===pt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,a=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:a-u/2,y:o-l/2,x1:a+u/2,y1:o+l/2}}(e):e.modelType===pt.POLYLINE_EDGE?function(t){var n=t.points,r=mo(n),a=ri(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===pt.BEZIER_EDGE?function(t){var n=t.path,r=pa(n),a=ri(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Dy(e){return(Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ny(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Cy(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wO(e){return function(t){if(Array.isArray(t))return Vc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Cy(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cy(e,t){if(e){if(typeof e=="string")return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ry(e,t){return(Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function EO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uc(e);if(t){var a=Uc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(e,t){if(t&&(Dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(e)}function gi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uc(e){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yc=Ln((My=Ay=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ry(o,u)})(a,e);var t,n,r=EO(a);function a(o){var u;(function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")})(this,a),bi(gi(u=r.call(this)),"stepDrag",void 0),bi(gi(u),"handleMouseDown",function(x){u.stepDrag.handleMouseDown(x)}),bi(gi(u),"onDraging",function(x){var P=x.deltaX,A=x.deltaY,B=u.props.graphModel,q=B.getSelectElements(!0);B.moveNodes(q.nodes.map(function(te){return te.id}),P,A)}),bi(gi(u),"handleContextMenu",function(x){x.preventDefault();var P=u.props,A=P.graphModel,B=P.graphModel,q=B.eventCenter,te=B.selectElements,ce=A.getPointByClient({x:x.clientX,y:x.clientY}),ue={nodes:[],edges:[]};wO(te.values()).forEach(function(he){he.BaseType===Ht.NODE&&ue.nodes.push(he.getData()),he.BaseType===Ht.EDGE&&ue.edges.push(he.getData())}),q.emit(nt.SELECTION_CONTEXTMENU,{data:ue,e:x,position:ce})});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new $r({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER;u.forEach(function(te){var ce={x:0,y:0,x1:0,y1:0};te.BaseType===Ht.NODE&&(ce=function(ue){var he=ue.x,Oe=ue.y,Re=ue.width,je=ue.height;return{x:he-Re/2,y:Oe-je/2,x1:he+Re/2,y1:Oe+je/2}}(te)),te.BaseType===Ht.EDGE&&(ce=OO(te)),d=Math.min(d,ce.x),m=Math.min(m,ce.y),x=Math.max(x,ce.x1),P=Math.max(P,ce.y1)});var A=Ny(l.CanvasPointToHtmlPoint([d,m]),2);d=A[0],m=A[1];var B=Ny(l.CanvasPointToHtmlPoint([x,P]),2);x=B[0],P=B[1];var q={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(x-d+20,"px"),height:"".concat(P-m+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:q,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&xO(t.prototype,n),a}(ee.a),bi(Ay,"toolName","multipleSelect"),Ty=My))||Ty;function SO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PO=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ma(this,"tools",void 0),Ma(this,"components",void 0),Ma(this,"toolMap",new Map),Ma(this,"instance",void 0),this.instance=r,this.isDisabledTool(Gc.toolName)||this.registerTool(Gc.toolName,Gc),this.isDisabledTool(Yc.toolName)||this.registerTool(Yc.toolName,Yc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&SO(t.prototype,n),e}(),kO=i(166),TO=i.n(kO);function AO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iy=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Wc(this,"mousetrap",void 0),Wc(this,"options",void 0),Wc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new TO.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(Gt(a))a.forEach(function(d){var m=d.keys,x=d.callback,P=d.action;return r.on(m,x,P)});else{var o=a.keys,u=a.callback,l=a.action;this.on(o,u,l)}}},{key:"on",value:function(r,a,o){this.mousetrap.bind(this.getKeys(r),a,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(o){return a.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&AO(t.prototype,n),e}(),MO=Iy,vr=null;function Ly(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function zy(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function By(e){return(By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(n),!0).forEach(function(r){Nt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kc=function(){function e(a){var o,u,l=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Nt(this,"container",void 0),Nt(this,"width",void 0),Nt(this,"height",void 0),Nt(this,"graphModel",void 0),Nt(this,"history",void 0),Nt(this,"viewMap",new Map),Nt(this,"tool",void 0),Nt(this,"keyboard",void 0),Nt(this,"dnd",void 0),Nt(this,"options",void 0),Nt(this,"snaplineModel",void 0),Nt(this,"components",[]),Nt(this,"plugins",void 0),Nt(this,"extension",{}),Nt(this,"adapterIn",void 0),Nt(this,"adapterOut",void 0),Nt(this,"getView",function(d){return l.viewMap.get(d)}),a=gp(a),this.options=a,this.container=a.container,this.plugins=a.plugins,this.graphModel=new Hb($c({},a)),this.tool=new PO(this),this.history=new gO(this.graphModel.eventCenter),this.dnd=new Lm({lf:this}),this.keyboard=new MO({lf:this,keyboard:a.keyboard}),a.isSilentMode||a.snapline===!1||(this.snaplineModel=new Kd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var x=d.keyboard,P=x.options.keyboard;x.on(["cmd + c","ctrl + c"],function(){if(P.enabled&&!m.textEditElement){var A=d.options.guards,B=m.getSelectElements(!1);return A&&A.beforeClone&&!A.beforeClone(B)?(vr=null,!1):((vr=B).nodes.forEach(function(q){return Ly(q,40)}),vr.edges.forEach(function(q){return zy(q,40)}),!1)}}),x.on(["cmd + v","ctrl + v"],function(){if(P.enabled&&!m.textEditElement){if(vr&&(vr.nodes||vr.edges)){d.clearSelectElements();var A=d.addElements(vr);if(!A)return;A.nodes.forEach(function(B){return d.selectElementById(B.id,!0)}),A.edges.forEach(function(B){return d.selectElementById(B.id,!0)}),vr.nodes.forEach(function(B){return Ly(B,40)}),vr.edges.forEach(function(B){return zy(B,40)})}return!1}}),x.on(["cmd + z","ctrl + z"],function(){if(P.enabled&&!m.textEditElement)return d.undo(),!1}),x.on(["cmd + y","ctrl + y"],function(){if(P.enabled&&!m.textEditElement)return d.redo(),!1}),x.on(["backspace"],function(){if(P.enabled&&!m.textEditElement){var A=m.getSelectElements(!0);return d.clearSelectElements(),A.edges.forEach(function(B){return d.deleteEdge(B.id)}),A.nodes.forEach(function(B){return d.deleteNode(B.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(a){var o=a.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(a.name||a.constructor.name,"\u6307\u5B9ApluginName!")),o=a.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,a)}}],(n=[{key:"register",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var l={BaseEdge:vi,BaseEdgeModel:ju,BaseNode:hr,BaseNodeModel:pr,RectNode:pc,RectNodeModel:rc,CircleNode:hc,CircleNodeModel:Zu,PolygonNode:vc,PolygonNodeModel:nc,TextNode:wc,TextNodeModel:oc,LineEdge:Cc,LineEdgeModel:Pu,DiamondNode:bc,DiamondNodeModel:Qu,PolylineEdge:Lc,PolylineEdgeModel:Tu,BezierEdge:Fc,BezierEdgeModel:Ku,EllipseNode:_c,EllipseNodeModel:ec,HtmlNode:Ec,HtmlNodeModel:ac,h:ee.g,type:a};this.viewMap.forEach(function(A){var B=A.extendKey;B&&(l[B]=A)}),this.graphModel.modelMap.forEach(function(A){var B=A.extendKey;B&&(l[B]=A)});var d=o(l),m=d.view,x=d.model,P=m;u&&!P.isObervered&&(P.isObervered=!0,P=_e(P)),this.setView(a,P),this.graphModel.setModel(a,x)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var o=a.view;a.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=_e(o)),this.setView(a.type,o),this.graphModel.setModel(a.type,a.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:pc,model:rc,type:"rect"}),this.registerElement({type:"circle",view:hc,model:Zu}),this.registerElement({type:"polygon",view:vc,model:nc}),this.registerElement({type:"line",view:Cc,model:Pu}),this.registerElement({type:"polyline",view:Lc,model:Tu}),this.registerElement({type:"bezier",view:Fc,model:Ku}),this.registerElement({type:"text",view:wc,model:oc}),this.registerElement({type:"ellipse",view:_c,model:ec}),this.registerElement({type:"diamond",view:bc,model:Qu}),this.registerElement({type:"html",view:Ec,model:ac})}},{key:"selectElementById",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(a,o),o||this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var o=this.graphModel.transformModel,u=a.coordinate,l=a.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var m=this.getEdgeModelById(l);m&&(u=m.textPosition)}var x=u,P=x.x,A=x.y;o.focusOn(P,A,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,o){this.options.width=a!=null?a:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(a,o)}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,o){this.graphModel.updateText(a,o)}},{key:"deleteElement",value:function(a){var o,u,l,d=this.getModelById(a);return!!d&&(u=(l=(Nt(o={},Ht.NODE,this.deleteNode),Nt(o,Ht.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,a))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){return this.graphModel.getElement(a).getData()}},{key:"changeNodeType",value:function(a,o){this.graphModel.changeNodeType(a,o)}},{key:"changeEdgeType",value:function(a,o){this.graphModel.changeEdgeType(a,o)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){return this.graphModel.addNode(a)}},{key:"deleteNode",value:function(a){var o=this.graphModel.getNodeModelById(a);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(a),d}},{key:"cloneNode",value:function(a){var o=this.graphModel.getNodeModelById(a).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,o){return this.graphModel.changeNodeId(a,o)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){return this.graphModel.getNodeModelById(a).getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var o=this.options.guards,u=this.graphModel.edgesMap[a];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(a),d}},{key:"deleteEdgeByNodeId",value:function(a){var o=a.sourceNodeId,u=a.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(a,o){return this.graphModel.changeEdgeId(a,o)}},{key:"getEdgeModelById",value:function(a){var o;return(o=this.graphModel.edgesMap[a])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(a){var o=this.graphModel.edges,u=a.sourceNodeId,l=a.targetNodeId;if(u&&l){var d=[];return o.forEach(function(P){P.sourceNodeId===u&&P.targetNodeId===l&&d.push(P)}),d}if(u){var m=[];return o.forEach(function(P){P.sourceNodeId===u&&m.push(P)}),m}if(l){var x=[];return o.forEach(function(P){P.targetNodeId===l&&x.push(P)}),x}return[]}},{key:"getEdgeDataById",value:function(a){var o;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,o){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.setProperties(Yn(o))}},{key:"getProperties",value:function(a){var o;return(o=this.graphModel.getElement(a))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,o){return this.graphModel.setElementZIndex(a,o)}},{key:"addElements",value:function(a){for(var o=this,u=a.nodes,l=a.edges,d={},m={nodes:[],edges:[]},x=0;x<u.length;x++){var P=u[x],A=P.id,B=this.addNode(P);if(!B)return;A&&(d[A]=B.id),m.nodes.push(B)}return l.forEach(function(q){var te=q.sourceNodeId,ce=q.targetNodeId;d[te]&&(q.sourceNodeId=d[te]),d[ce]&&(q.targetNodeId=d[ce]);var ue=o.graphModel.addEdge(q);m.edges.push(ue)}),m}},{key:"getAreaElement",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(a,o,u,l).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(a):a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,o){return this.graphModel.getPointByClient({x:a,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=Yn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=Yn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,o){return this.graphModel.transformModel.zoom(a,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,o){this.graphModel.transformModel.translate(a,o)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,o=a.TRANSLATE_X,u=a.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a){this.graphModel.fitView(a)}},{key:"on",value:function(a,o){this.graphModel.eventCenter.on(a,o)}},{key:"off",value:function(a,o){this.graphModel.eventCenter.off(a,o)}},{key:"once",value:function(a,o){this.graphModel.eventCenter.once(a,o)}},{key:"emit",value:function(a,o){this.graphModel.eventCenter.emit(a,o)}},{key:"installPlugins",value:function(){var a,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(a=this.plugins)!==null&&a!==void 0?a:e.extensions;l.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(a){if(By(a)==="object"){var o=a.install,u=a.render;return o&&o.call(a,this,e),u&&this.components.push(u.bind(a)),void(this.extension[a.pluginName]=a)}var l=a,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(a,o){this.graphModel.updateAttributes(a,o)}},{key:"createFakerNode",value:function(a){var o=this.graphModel.modelMap.get(a.type);if(o){var u=new o($c($c({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(a.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,o){this.viewMap.set(a,o)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(Yn(a)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(Rm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(nt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}])&&Hy(t.prototype,n),r&&Hy(t,r),e}();function Ln(e){return _e(e)}Nt(Kc,"extensions",new Map),p.default=Kc}])})})(Ke,Ke.exports);var Ia=_v(Ke.exports);const UO=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}];function YO(b,h){return h={exports:{}},b(h,h.exports),h.exports}var WO=YO(function(b){var h=b.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var i=Math.log(Math.pow(2,c))/Math.log(p),f=2;i===1/0;f*=2)i=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=i-Math.floor(i),v="",f=0;f<Math.floor(i);f++){var _=Math.floor(Math.random()*p).toString(p);v=_+v}if(s){var O=Math.pow(p,s),_=Math.floor(Math.random()*O).toString(p);v=_+v}var w=parseInt(v,p);return w!==1/0&&w>=Math.pow(2,c)?h(c,p):v};h.rack=function(c,p,i){var f=function(v){var _=0;do{if(_++>10)if(i)c+=i;else throw new Error("too many ID collisions, use more bits");var O=h(c,p)}while(Object.hasOwnProperty.call(s,O));return s[O]=v,O},s=f.hats={};return f.get=function(v){return f.hats[v]},f.set=function(v,_){return f.hats[v]=_,f},f.bits=c||128,f.base=p||16,f}});function nr(b){if(!(this instanceof nr))return new nr(b);b=b||[128,36,1],this._seed=b.length?WO.rack(b[0],b[1],b[2]):b}nr.prototype.next=function(b){return this._seed(b||!0)};nr.prototype.nextPrefixed=function(b,h){var c;do c=b+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};nr.prototype.claim=function(b,h){this._seed.set(b,h||!0)};nr.prototype.assigned=function(b){return this._seed.get(b)||!1};nr.prototype.unclaim=function(b){delete this._seed.hats[b]};nr.prototype.clear=function(){var b=this._seed.hats,h;for(h in b)this.unclaim(h)};var $O=new nr([32,32,1]);function Ro(){return $O.next()}var kv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),KO=function(b){kv(h,b);function h(c,p){var i=this;return c.id||(c.id="Event_"+Ro()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=b.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=b.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="StartEventModel",h}(Ke.exports.CircleNodeModel),qO=function(b){kv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(Ke.exports.CircleNode),ZO={type:"bpmn:startEvent",view:qO,model:KO},Tv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ba=globalThis&&globalThis.__assign||function(){return Ba=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Ba.apply(this,arguments)},JO=function(b){Tv(h,b);function h(c,p){var i=this;return c.id||(c.id="Event_"+Ro()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=b.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=b.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="EndEventModel",h}(Ke.exports.CircleNodeModel),QO=function(b){Tv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),i=c.x,f=c.y,s=c.r,v=b.prototype.getShape.call(this);return Ke.exports.h("g",{},v,Ke.exports.h("circle",Ba(Ba({},p),{cx:i,cy:f,r:s-5})))},h.extendKey="EndEventView",h}(Ke.exports.CircleNode),e1={type:"bpmn:endEvent",view:QO,model:JO},Av=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ji.apply(this,arguments)},t1=function(b){Av(h,b);function h(c,p){var i=this;return c.id||(c.id="Gateway_"+Ro()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=b.call(this,c,p)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return h.extendKey="ExclusiveGatewayModel",h}(Ke.exports.PolygonNodeModel),n1=function(b){Av(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,v=c.points,_=c.getNodeStyle();return Ke.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(i-s/2)+")"},Ke.exports.h("polygon",ji(ji({},_),{x:p,y:i,points:v})),Ke.exports.h("path",ji({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},_)))},h.extendKey="ExclusiveGatewayNode",h}(Ke.exports.PolygonNode),r1={type:"bpmn:exclusiveGateway",view:n1,model:t1},Mv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Fa=globalThis&&globalThis.__assign||function(){return Fa=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Fa.apply(this,arguments)},o1=function(b){Mv(h,b);function h(c,p){var i=this;return c.id||(c.id="Activity_"+Ro()),i=b.call(this,c,p)||this,i}return h.extendKey="UserTaskModel",h}(Ke.exports.RectNodeModel),i1=function(b){Mv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,v=c.getNodeStyle();return Ke.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:v.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,v=c.radius,_=c.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",Fa(Fa({},_),{x:p-f/2,y:i-s/2,rx:v,ry:v,width:f,height:s})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(Ke.exports.RectNode),a1={type:"bpmn:userTask",view:i1,model:o1},Dv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},es.apply(this,arguments)},u1=function(b){Dv(h,b);function h(c,p){var i=this;return c.id||(c.id="Activity_"+Ro()),i=b.call(this,c,p)||this,i}return h.extendKey="ServiceTaskModel",h}(Ke.exports.RectNodeModel),c1=function(b){Dv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,v=c.getNodeStyle();return Ke.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:v.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,v=c.radius,_=c.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",es({x:p-f/2,y:i-s/2,rx:v,ry:v,width:f,height:s},_)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(Ke.exports.RectNode),s1={type:"bpmn:serviceTask",view:c1,model:u1},Nv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),l1=function(b){Nv(h,b);function h(c,p){var i=this;return c.id||(c.id="Flow_"+Ro()),i=b.call(this,c,p)||this,i}return h.extendKey="SequenceFlowModel",h}(Ke.exports.PolylineEdgeModel),f1=function(b){Nv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(Ke.exports.PolylineEdge),p1={type:"bpmn:sequenceFlow",view:f1,model:l1},qy={width:40,height:40},Zy={width:40,height:40},Jy={width:40,height:40},Qy={width:100,height:80},ev={width:100,height:80},d1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},h1=function(){function b(h){var c=h.lf;c.setTheme(d1),c.register(ZO),c.register(e1),c.register(r1),c.register(a1),c.register(s1),c.options.customBpmnEdge||(c.register(p1),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return b.pluginName="bpmnElement",b}(),y1=function(){function b(h){var c=this,p=h.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(i,f){c.getSnapshot(i,f)},p.getSnapshotBlob=function(i){return c.getSnapshotBlob(i)},p.getSnapshotBase64=function(i){return c.getSnapshotBase64(i)}}return b.prototype.getSvgRootElement=function(h){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,h.graphModel.nodes.forEach(function(i){var f=i.x,s=i.width,v=i.y,_=i.height,O=f-s/2,w=v-_/2;O<c.offsetX&&(c.offsetX=O-5),w<c.offsetY&&(c.offsetY=w-5)}),h.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(f){var s=f.x,v=f.y;s<c.offsetX&&(c.offsetX=s-5),v<c.offsetY&&(c.offsetY=v-5)})});var p=h.container.querySelector(".lf-canvas-overlay");return p},b.prototype.triggerDownload=function(h){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",h),p.setAttribute("target","_blank"),p.dispatchEvent(c)},b.prototype.removeAnchor=function(h){for(var c=h.childNodes,p=h.childNodes&&h.childNodes.length,i=0;i<p;i++){var f=c[i],s=f.classList&&Array.from(f.classList)||[];s.indexOf("lf-anchor")>-1&&(h.removeChild(h.childNodes[i]),p--,i--)}},b.prototype.getSnapshot=function(h,c){var p=this;this.fileName=h||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,c).then(function(f){var s=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(s)})},b.prototype.getSnapshotBase64=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){var s=f.toDataURL("image/png");i({data:s,width:f.width,height:f.height})})})},b.prototype.getSnapshotBlob=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){f.toBlob(function(s){i({data:s,width:f.width,height:f.height})},"image/png")})})},b.prototype.getClassRules=function(){var h="";if(this.useGlobalRules)for(var c=document.styleSheets,p=0;p<c.length;p++)for(var i=c[p],f=0;f<i.cssRules.length;f++)h+=i.cssRules[f].cssText;return this.customCssRules&&(h+=this.customCssRules),h},b.prototype.getCanvasData=function(h,c){var p=this,i=h.cloneNode(!0),f=i.lastChild,s=f.childNodes&&f.childNodes.length;if(s)for(var v=0;v<s;v++){var _=f.childNodes[v],O=_.classList&&Array.from(_.classList);if(O&&O.indexOf("lf-base")<0)f.removeChild(f.childNodes[v]),s--,v--;else{var w=f.childNodes[v];w&&w.childNodes.forEach(function(z){var G=z;p.removeAnchor(G.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var j=window.devicePixelRatio||1,S=document.createElement("canvas"),k=document.getElementsByClassName("lf-base")[0],N=k.getBoundingClientRect(),I=this.lf.graphModel,X=I.transformModel,V=X.SCALE_X,F=X.SCALE_Y,K=Math.ceil(N.width/V),J=Math.ceil(N.height/F);S.style.width=K+"px",S.style.height=J+"px",S.width=K*j+80,S.height=J*j+80;var Y=S.getContext("2d");Y.clearRect(0,0,S.width,S.height),Y.scale(j,j),c?(Y.fillStyle=c,Y.fillRect(0,0,K*j+80,J*j+80)):Y.clearRect(0,0,K,J);var C=new Image,H=document.createElement("style");H.innerHTML=this.getClassRules();var T=document.createElement("foreignObject");return T.appendChild(H),i.appendChild(T),new Promise(function(z){C.onload=function(){Y.drawImage(C,0,0),z(S)};var G="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),R=G.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");C.src=R})},b.pluginName="snapshot",b}(),v1=new nr([32,32,1]);function tv(){return v1.next()}var pn=function(){};pn.ObjTree=function(){return this};pn.ObjTree.VERSION="0.23";pn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pn.ObjTree.prototype.attr_prefix="-";pn.ObjTree.prototype.parseXML=function(b){var h;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(b,"application/xml");if(!p)return;h=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(b),h=c.documentElement);if(!!h)return this.parseDOM(h)};pn.ObjTree.prototype.parseHTTP=function(b,h,c){var p={};for(var i in h)p[i]=h[i];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,v=p.onComplete;p.onComplete=function(w){var j;w&&w.responseXML&&w.responseXML.documentElement&&(j=f.parseDOM(w.responseXML.documentElement)),s(j,w),v&&v(w)}}else p.asynchronous=!1;var _;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=b;var O=new HTTP.Request(p);O&&(_=O.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var O=new Ajax.Request(b,p);O&&(_=O.transport)}if(c)return _;if(_&&_.responseXML&&_.responseXML.documentElement)return this.parseDOM(_.responseXML.documentElement)};pn.ObjTree.prototype.parseDOM=function(b){if(!!b){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(b);if(this.__force_array[b.nodeName]&&(c=[c]),b.nodeType!=11){var p={};p[b.nodeName]=c,c=p}return c}};pn.ObjTree.prototype.parseElement=function(b){if(b.nodeType!=7){if(b.nodeType==3||b.nodeType==4){var h=b.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:b.nodeValue}var c,p={};if(b.attributes&&b.attributes.length){c={};for(var i=0;i<b.attributes.length;i++){var f=b.attributes[i].nodeName;if(typeof f=="string"){var s=b.attributes[i].nodeValue;!s||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(b.childNodes&&b.childNodes.length){var v=!0;c&&(v=!1);for(var i=0;i<b.childNodes.length&&v;i++){var _=b.childNodes[i].nodeType;_==3||_==4||(v=!1)}if(v){c||(c="");for(var i=0;i<b.childNodes.length;i++)c+=b.childNodes[i].nodeValue}else{c||(c={});for(var i=0;i<b.childNodes.length;i++){var f=b.childNodes[i].nodeName;if(typeof f=="string"){var s=this.parseElement(b.childNodes[i]);!s||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}return c}};pn.ObjTree.prototype.addNode=function(b,h,c,p){this.__force_array[h]?(c==1&&(b[h]=[]),b[h][b[h].length]=p):c==1?b[h]=p:c==2?b[h]=[b[h],p]:b[h][b[h].length]=p};pn.ObjTree.prototype.writeXML=function(b){var h=this.hash_to_xml(null,b);return this.xmlDecl+h};pn.ObjTree.prototype.hash_to_xml=function(b,h){var c=[],p=[];for(var i in h)if(!!h.hasOwnProperty(i)){var f=h[i];i.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+i+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(i,f):typeof f=="object"?c[c.length]=this.hash_to_xml(i,f):c[c.length]=this.scalar_to_xml(i,f):p[p.length]=" "+i.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),v=c.join("");return typeof b=="undefined"||b==null||(c.length>0?v.match(/\n/)?v="<"+b+s+`>
`+v+"</"+b+`>
`:v="<"+b+s+">"+v+"</"+b+`>
`:v="<"+b+s+` />
`),v};pn.ObjTree.prototype.array_to_xml=function(b,h){for(var c=[],p=0;p<h.length;p++){var i=h[p];typeof i=="undefined"||i==null?c[c.length]="<"+b+" />":typeof i=="object"&&i.constructor==Array?c[c.length]=this.array_to_xml(b,i):typeof i=="object"?c[c.length]=this.hash_to_xml(b,i):c[c.length]=this.scalar_to_xml(b,i)}return c.join("")};pn.ObjTree.prototype.scalar_to_xml=function(b,h){return b=="#text"?this.xml_escape(h):"<"+b+">"+this.xml_escape(h)+"</"+b+`>
`};pn.ObjTree.prototype.xml_escape=function(b){return b.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Ya=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},rr;(function(b){b.START="bpmn:startEvent",b.END="bpmn:endEvent",b.GATEWAY="bpmn:exclusiveGateway",b.USER="bpmn:userTask",b.SYSTEM="bpmn:serviceTask",b.FLOW="bpmn:sequenceFlow"})(rr||(rr={}));var Cv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ts(b){var h={};return Object.entries(b).forEach(function(c){var p=Ya(c,2),i=p[0],f=p[1];typeof f!="object"?i.indexOf("-")===0?h[i]=f:h["-"+i]=f:h[i]=ts(f)}),h}function is(b){var h={};return Object.entries(b).forEach(function(c){var p=Ya(c,2),i=p[0],f=p[1];typeof f=="string"?i.indexOf("-")===0?h[i.substr(1)]=f:h[i]=f:typeof f=="object"?h[i]=is(f):h[i]=f}),h}function g1(b,h){var c=new Map;h.nodes.forEach(function(i){var f,s={"-id":i.id};if(!((f=i.text)===null||f===void 0)&&f.value&&(s["-name"]=i.text.value),i.properties){var v=ts(i.properties);Object.assign(s,v)}c.set(i.id,s),b[i.type]?Array.isArray(b[i.type])?b[i.type].push(s):b[i.type]=[b[i.type],s]:b[i.type]=s});var p=h.edges.map(function(i){var f,s,v=c.get(i.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(i.id):v["bpmn:incoming"]=[v["bpmn:incoming"],i.id]:v["bpmn:incoming"]=i.id;var _=c.get(i.sourceNodeId);_["bpmn:outgoing"]?Array.isArray(_["bpmn:outgoing"])?_["bpmn:outgoing"].push(i.id):_["bpmn:outgoing"]=[_["bpmn:outgoing"],i.id]:_["bpmn:outgoing"]=i.id;var O={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((f=i.text)===null||f===void 0)&&f.value&&(O["-name"]=(s=i.text)===null||s===void 0?void 0:s.value),i.properties){var w=ts(i.properties);Object.assign(O,w)}return O});b[rr.FLOW]=p}function b1(b,h){b["bpmndi:BPMNEdge"]=h.edges.map(function(c){var p,i=c.id,f=c.pointsList.map(function(v){var _=v.x,O=v.y;return{"-x":_,"-y":O}}),s={"-id":i+"_di","-bpmnElement":i,"di:waypoint":f};return!((p=c.text)===null||p===void 0)&&p.value&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),b["bpmndi:BPMNShape"]=h.nodes.map(function(c){var p,i=c.id,f=100,s=80,v=c.x,_=c.y,O=io.shapeConfigMap.get(c.type);O&&(f=O.width,s=O.height),v-=f/2,_-=s/2;var w={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":v,"-y":_,"-width":f,"-height":s}};return!((p=c.text)===null||p===void 0)&&p.value&&(w["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),w})}function m1(b){var h=[],c=[],p=b["bpmn:definitions"];if(p){var i=p["bpmn:process"];Object.keys(i).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=i[f];if(f===rr.FLOW){var v=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=O1(s,v)}else{var _=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(_1(s,_,f))}}})}return{nodes:h,edges:c}}function _1(b,h,c){var p=[];if(Array.isArray(b))b.forEach(function(s){var v;Array.isArray(h)?v=h.find(function(O){return O["-bpmnElement"]===s["-id"]}):v=h;var _=nv(v,c,s);p.push(_)});else{var i=void 0;Array.isArray(h)?i=h.find(function(s){return s["-bpmnElement"]===b["-id"]}):i=h;var f=nv(i,c,b);p.push(f)}return p}function nv(b,h,c){var p=Number(b["dc:Bounds"]["-x"]),i=Number(b["dc:Bounds"]["-y"]),f=c["-name"],s=io.shapeConfigMap.get(h);s&&(p+=s.width/2,i+=s.height/2);var v;Object.entries(c).forEach(function(j){var S=Ya(j,2),k=S[0],N=S[1];Cv.indexOf(k)===-1&&(v||(v={}),v[k]=N)}),v&&(v=is(v));var _;if(f&&(_={x:p,y:i,value:f},b["bpmndi:BPMNLabel"]&&b["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=b["bpmndi:BPMNLabel"]["dc:Bounds"];_.x=Number(O["-x"])+Number(O["-width"])/2,_.y=Number(O["-y"])+Number(O["-height"])/2}var w={id:b["-bpmnElement"],type:h,x:p,y:i,properties:v};return _&&(w.text=_),w}function O1(b,h){var c=[];if(Array.isArray(b))b.forEach(function(i){var f;Array.isArray(h)?f=h.find(function(s){return s["-bpmnElement"]===i["-id"]}):f=h,c.push(rv(f,i))});else{var p=void 0;Array.isArray(h)?p=h.find(function(i){return i["-bpmnElement"]===b["-id"]}):p=h,c.push(rv(p,b))}return c}function rv(b,h){var c,p=h["-name"];if(p){var i=b["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(_){f<_.length&&(f=_.length)}),c={value:p,x:Number(i["-x"])+f*10/2,y:Number(i["-y"])+7}}var s;Object.entries(h).forEach(function(_){var O=Ya(_,2),w=O[0],j=O[1];Cv.indexOf(w)===-1&&(s||(s={}),s[w]=j)}),s&&(s=is(s));var v={id:h["-id"],type:rr.FLOW,pointsList:b["di:waypoint"].map(function(_){return{x:Number(_["-x"]),y:Number(_["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:s};return c&&(v.text=c),v}var io={pluginName:"bpmn-adapter",install:function(b){b.adapterIn=this.adapterIn,b.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(b,h){this.shapeConfigMap.set(b,h)},adapterOut:function(b){var h={"-id":"Process_"+tv(),"-isExecutable":"false"};g1(h,b);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};b1(c,b);var p={"bpmn:definitions":{"-id":"Definitions_"+tv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(b){if(b)return m1(b)}};io.shapeConfigMap.set(rr.START,{width:qy.width,height:qy.height});io.shapeConfigMap.set(rr.END,{width:Zy.width,height:Zy.height});io.shapeConfigMap.set(rr.GATEWAY,{width:Jy.width,height:Jy.height});io.shapeConfigMap.set(rr.SYSTEM,{width:Qy.width,height:Qy.height});io.shapeConfigMap.set(rr.USER,{width:ev.width,height:ev.height});var ov=globalThis&&globalThis.__assign||function(){return ov=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ov.apply(this,arguments)};globalThis&&globalThis.__read;var iv;(function(b){b.HORIZONTAL="horizontal",b.VERTICAL="vertical"})(iv||(iv={}));var w1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var x1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var E1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},j1=globalThis&&globalThis.__spread||function(){for(var b=[],h=0;h<arguments.length;h++)b=b.concat(E1(arguments[h]));return b},_i="lf:defaultNodeMenu",Oi="lf:defaultEdgeMenu",wi="lf:defaultGraphMenu",av="lf:defaultSelectionMenu",S1=function(){function b(h){var c=this,p=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){c.setMenuConfig(i)},this.lf.addMenuConfig=function(i){c.addMenuConfig(i)},this.lf.setMenuByType=function(i){c.setMenuByType(i)}}return b.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"\u590D\u5236",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(_i,c);var p=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(Oi,p),this.menuTypeMap.set(wi,[]);var i=[{text:"\u5220\u9664",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(s){return h.lf.deleteEdge(s.id)}),f.nodes.forEach(function(s){return h.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(av,i)},b.prototype.render=function(h,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var f=i.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var f=i.data,s=i.position,v=s.domOverlayPosition,_=v.x,O=v.y,w=f.id,j=p.lf.graphModel.getNodeModelById(w),S=[],k=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:k?S=k:S=p.menuTypeMap.get(_i),p.__currentData=f,p.showMenu(_,O,S)}),this.lf.on("edge:contextmenu",function(i){var f=i.data,s=i.position,v=s.domOverlayPosition,_=v.x,O=v.y,w=f.id,j=p.lf.graphModel.getEdgeModelById(w),S=[],k=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:k?S=k:S=p.menuTypeMap.get(Oi),p.__currentData=f,p.showMenu(_,O,S)}),this.lf.on("blank:contextmenu",function(i){var f=i.position,s=p.menuTypeMap.get(wi),v=f.domOverlayPosition,_=v.x,O=v.y;p.showMenu(_,O,s)}),this.lf.on("selection:contextmenu",function(i){var f=i.data,s=i.position,v=p.menuTypeMap.get(av),_=s.domOverlayPosition,O=_.x,w=_.y;p.__currentData=f,p.showMenu(O,w,v)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},b.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},b.prototype.showMenu=function(h,c,p){if(!(!p||!p.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,j1(this.__getMenuDom(p))),i.children.length&&(i.style.display="block",i.style.top=c+"px",i.style.left=h+"px")}},b.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},b.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(p){var i=document.createElement("li");if(p.className?i.className="lf-menu-item "+p.className:i.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",i.appendChild(f)}var s=document.createElement("span");s.className="lf-menu-item-text",p.text&&(s.innerText=p.text),i.appendChild(s),i.onclickCallback=p.callback,c.push(i)}),c},b.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(_i,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(Oi,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(wi,h.graphMenu?h.graphMenu:[]))},b.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(_i);this.menuTypeMap.set(_i,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,c.concat(h.graphMenu))}}},b.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},b.pluginName="menu",b}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var Rv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),xi=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(b){Rv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),p=c.strokeWidth,i=c.stroke,f=c.strokeDashArray,s=this.props.model.points,v=s.split(" ").map(function(L){return L.split(",").map(function($){return Number($)})}),_=xi(v[0],2),O=_[0],w=_[1],j="M"+O+" "+w,S=5,k=1;k<v.length-1;k++){var N=xi(v[k-1],2),I=N[0],X=N[1],V=xi(v[k],2),F=V[0],K=V[1],J=xi(v[k+1],2),Y=J[0],C=J[1];if(F===I&&K!==X){var H=K>X?K-S:K+S;j=j+" L "+F+" "+H}if(K===X&&F!==I){var T=F>I?F-S:F+S;j=j+" L "+T+" "+K}if(j=j+" Q "+F+" "+K,F===Y&&K!==C){var H=K>C?K-S:K+S;j=j+" "+F+" "+H}if(K===C&&F!==Y){var T=F>Y?F-S:F+S;j=j+" "+T+" "+K}}var z=xi(v[v.length-1],2),G=z[0],R=z[1];return j=j+" L "+G+" "+R,Ke.exports.h("path",{d:j,strokeWidth:p,stroke:i,fill:"none",strokeDashArray:f})},h.extendKey="curvedEdge",h})(Ke.exports.PolylineEdge);(function(b){Rv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h})(Ke.exports.PolylineEdgeModel);var as,Ft,Iv,Si,Lv,uv,zv={},Bv=[],P1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nr(b,h){for(var c in h)b[c]=h[c];return b}function Fv(b){var h=b.parentNode;h&&h.removeChild(b)}function Pi(b,h,c){var p,i,f,s={};for(f in h)f=="key"?p=h[f]:f=="ref"?i=h[f]:s[f]=h[f];if(arguments.length>2&&(s.children=arguments.length>3?as.call(arguments,2):c),typeof b=="function"&&b.defaultProps!=null)for(f in b.defaultProps)s[f]===void 0&&(s[f]=b.defaultProps[f]);return La(b,s,p,i,null)}function La(b,h,c,p,i){var f={type:b,props:h,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Iv:i};return i==null&&Ft.vnode!=null&&Ft.vnode(f),f}function us(b){return b.children}function No(b,h){this.props=b,this.context=h}function Co(b,h){if(h==null)return b.__?Co(b.__,b.__.__k.indexOf(b)+1):null;for(var c;h<b.__k.length;h++)if((c=b.__k[h])!=null&&c.__e!=null)return c.__e;return typeof b.type=="function"?Co(b):null}function Hv(b){var h,c;if((b=b.__)!=null&&b.__c!=null){for(b.__e=b.__c.base=null,h=0;h<b.__k.length;h++)if((c=b.__k[h])!=null&&c.__e!=null){b.__e=b.__c.base=c.__e;break}return Hv(b)}}function cv(b){(!b.__d&&(b.__d=!0)&&Si.push(b)&&!Ha.__r++||uv!==Ft.debounceRendering)&&((uv=Ft.debounceRendering)||Lv)(Ha)}function Ha(){for(var b;Ha.__r=Si.length;)b=Si.sort(function(h,c){return h.__v.__b-c.__v.__b}),Si=[],b.some(function(h){var c,p,i,f,s,v;h.__d&&(s=(f=(c=h).__v).__e,(v=c.__P)&&(p=[],(i=Nr({},f)).__v=f.__v+1,Uv(v,f,i,c.__n,v.ownerSVGElement!==void 0,f.__h!=null?[s]:null,p,s==null?Co(f):s,f.__h),T1(p,f),f.__e!=s&&Hv(f)))})}function Xv(b,h,c,p,i,f,s,v,_,O){var w,j,S,k,N,I,X,V=p&&p.__k||Bv,F=V.length;for(c.__k=[],w=0;w<h.length;w++)if((k=c.__k[w]=(k=h[w])==null||typeof k=="boolean"?null:typeof k=="string"||typeof k=="number"||typeof k=="bigint"?La(null,k,null,null,k):Array.isArray(k)?La(us,{children:k},null,null,null):k.__b>0?La(k.type,k.props,k.key,null,k.__v):k)!=null){if(k.__=c,k.__b=c.__b+1,(S=V[w])===null||S&&k.key==S.key&&k.type===S.type)V[w]=void 0;else for(j=0;j<F;j++){if((S=V[j])&&k.key==S.key&&k.type===S.type){V[j]=void 0;break}S=null}Uv(b,k,S=S||zv,i,f,s,v,_,O),N=k.__e,(j=k.ref)&&S.ref!=j&&(X||(X=[]),S.ref&&X.push(S.ref,null,k),X.push(j,k.__c||N,k)),N!=null?(I==null&&(I=N),typeof k.type=="function"&&k.__k===S.__k?k.__d=_=Gv(k,_,b):_=Vv(b,k,S,V,N,_),typeof c.type=="function"&&(c.__d=_)):_&&S.__e==_&&_.parentNode!=b&&(_=Co(S))}for(c.__e=I,w=F;w--;)V[w]!=null&&(typeof c.type=="function"&&V[w].__e!=null&&V[w].__e==c.__d&&(c.__d=Co(p,w+1)),Wv(V[w],V[w]));if(X)for(w=0;w<X.length;w++)Yv(X[w],X[++w],X[++w])}function Gv(b,h,c){for(var p,i=b.__k,f=0;i&&f<i.length;f++)(p=i[f])&&(p.__=b,h=typeof p.type=="function"?Gv(p,h,c):Vv(c,p,p,i,p.__e,h));return h}function Vv(b,h,c,p,i,f){var s,v,_;if(h.__d!==void 0)s=h.__d,h.__d=void 0;else if(c==null||i!=f||i.parentNode==null)e:if(f==null||f.parentNode!==b)b.appendChild(i),s=null;else{for(v=f,_=0;(v=v.nextSibling)&&_<p.length;_+=2)if(v==i)break e;b.insertBefore(i,f),s=f}return s!==void 0?s:i.nextSibling}function k1(b,h,c,p,i){var f;for(f in c)f==="children"||f==="key"||f in h||Xa(b,f,null,c[f],p);for(f in h)i&&typeof h[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===h[f]||Xa(b,f,h[f],c[f],p)}function sv(b,h,c){h[0]==="-"?b.setProperty(h,c):b[h]=c==null?"":typeof c!="number"||P1.test(h)?c:c+"px"}function Xa(b,h,c,p,i){var f;e:if(h==="style")if(typeof c=="string")b.style.cssText=c;else{if(typeof p=="string"&&(b.style.cssText=p=""),p)for(h in p)c&&h in c||sv(b.style,h,"");if(c)for(h in c)p&&c[h]===p[h]||sv(b.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in b?h.toLowerCase().slice(2):h.slice(2),b.l||(b.l={}),b.l[h+f]=c,c?p||b.addEventListener(h,f?fv:lv,f):b.removeEventListener(h,f?fv:lv,f);else if(h!=="dangerouslySetInnerHTML"){if(i)h=h.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in b)try{b[h]=c==null?"":c;break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?b.setAttribute(h,c):b.removeAttribute(h))}}function lv(b){this.l[b.type+!1](Ft.event?Ft.event(b):b)}function fv(b){this.l[b.type+!0](Ft.event?Ft.event(b):b)}function Uv(b,h,c,p,i,f,s,v,_){var O,w,j,S,k,N,I,X,V,F,K,J=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(_=c.__h,v=h.__e=c.__e,h.__h=null,f=[v]),(O=Ft.__b)&&O(h);try{e:if(typeof J=="function"){if(X=h.props,V=(O=J.contextType)&&p[O.__c],F=O?V?V.props.value:O.__:p,c.__c?I=(w=h.__c=c.__c).__=w.__E:("prototype"in J&&J.prototype.render?h.__c=w=new J(X,F):(h.__c=w=new No(X,F),w.constructor=J,w.render=M1),V&&V.sub(w),w.props=X,w.state||(w.state={}),w.context=F,w.__n=p,j=w.__d=!0,w.__h=[]),w.__s==null&&(w.__s=w.state),J.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=Nr({},w.__s)),Nr(w.__s,J.getDerivedStateFromProps(X,w.__s))),S=w.props,k=w.state,j)J.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(J.getDerivedStateFromProps==null&&X!==S&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(X,F),!w.__e&&w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(X,w.__s,F)===!1||h.__v===c.__v){w.props=X,w.state=w.__s,h.__v!==c.__v&&(w.__d=!1),w.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(Y){Y&&(Y.__=h)}),w.__h.length&&s.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(X,w.__s,F),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(S,k,N)})}w.context=F,w.props=X,w.state=w.__s,(O=Ft.__r)&&O(h),w.__d=!1,w.__v=h,w.__P=b,O=w.render(w.props,w.state,w.context),w.state=w.__s,w.getChildContext!=null&&(p=Nr(Nr({},p),w.getChildContext())),j||w.getSnapshotBeforeUpdate==null||(N=w.getSnapshotBeforeUpdate(S,k)),K=O!=null&&O.type===us&&O.key==null?O.props.children:O,Xv(b,Array.isArray(K)?K:[K],h,c,p,i,f,s,v,_),w.base=h.__e,h.__h=null,w.__h.length&&s.push(w),I&&(w.__E=w.__=null),w.__e=!1}else f==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=A1(c.__e,h,c,p,i,f,s,_);(O=Ft.diffed)&&O(h)}catch(Y){h.__v=null,(_||f!=null)&&(h.__e=v,h.__h=!!_,f[f.indexOf(v)]=null),Ft.__e(Y,h,c)}}function T1(b,h){Ft.__c&&Ft.__c(h,b),b.some(function(c){try{b=c.__h,c.__h=[],b.some(function(p){p.call(c)})}catch(p){Ft.__e(p,c.__v)}})}function A1(b,h,c,p,i,f,s,v){var _,O,w,j=c.props,S=h.props,k=h.type,N=0;if(k==="svg"&&(i=!0),f!=null){for(;N<f.length;N++)if((_=f[N])&&"setAttribute"in _==!!k&&(k?_.localName===k:_.nodeType===3)){b=_,f[N]=null;break}}if(b==null){if(k===null)return document.createTextNode(S);b=i?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,S.is&&S),f=null,v=!1}if(k===null)j===S||v&&b.data===S||(b.data=S);else{if(f=f&&as.call(b.childNodes),O=(j=c.props||zv).dangerouslySetInnerHTML,w=S.dangerouslySetInnerHTML,!v){if(f!=null)for(j={},N=0;N<b.attributes.length;N++)j[b.attributes[N].name]=b.attributes[N].value;(w||O)&&(w&&(O&&w.__html==O.__html||w.__html===b.innerHTML)||(b.innerHTML=w&&w.__html||""))}if(k1(b,S,j,i,v),w)h.__k=[];else if(N=h.props.children,Xv(b,Array.isArray(N)?N:[N],h,c,p,i&&k!=="foreignObject",f,s,f?f[0]:c.__k&&Co(c,0),v),f!=null)for(N=f.length;N--;)f[N]!=null&&Fv(f[N]);v||("value"in S&&(N=S.value)!==void 0&&(N!==b.value||k==="progress"&&!N||k==="option"&&N!==j.value)&&Xa(b,"value",N,j.value,!1),"checked"in S&&(N=S.checked)!==void 0&&N!==b.checked&&Xa(b,"checked",N,j.checked,!1))}return b}function Yv(b,h,c){try{typeof b=="function"?b(h):b.current=h}catch(p){Ft.__e(p,c)}}function Wv(b,h,c){var p,i;if(Ft.unmount&&Ft.unmount(b),(p=b.ref)&&(p.current&&p.current!==b.__e||Yv(p,null,h)),(p=b.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Ft.__e(f,h)}p.base=p.__P=null}if(p=b.__k)for(i=0;i<p.length;i++)p[i]&&Wv(p[i],h,typeof b.type!="function");c||b.__e==null||Fv(b.__e),b.__e=b.__d=void 0}function M1(b,h,c){return this.constructor(b,c)}as=Bv.slice,Ft={__e:function(b,h){for(var c,p,i;h=h.__;)if((c=h.__c)&&!c.__)try{if((p=c.constructor)&&p.getDerivedStateFromError!=null&&(c.setState(p.getDerivedStateFromError(b)),i=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(b),i=c.__d),i)return c.__E=c}catch(f){b=f}throw b}},Iv=0,No.prototype.setState=function(b,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nr({},this.state),typeof b=="function"&&(b=b(Nr({},c),this.props)),b&&Nr(c,b),b!=null&&this.__v&&(h&&this.__h.push(h),cv(this))},No.prototype.forceUpdate=function(b){this.__v&&(this.__e=!0,b&&this.__h.push(b),cv(this))},No.prototype.render=us,Si=[],Lv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ha.__r=0;var ki=globalThis&&globalThis.__assign||function(){return ki=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ki.apply(this,arguments)};function cs(b){var h=b.x,c=b.y,p=b.width,i=b.height,f=b.radius,s=b.className,v=h-p/2,_=c-i/2,O=ki(ki({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},b),{x:v,y:_});return Ke.exports.h("rect",ki({},O))}cs.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Do;(function(b){b.NODE="node",b.CIRCLE_NODE="circle-node",b.POLYGON_NODE="polygon-node",b.RECT_NODE="rect-node",b.HTML_NODE="html-node",b.TEXT_NODE="text-node",b.ELLIPSE_NODE="ellipse-node",b.DIAMOND_NODE="diamond-node",b.EDGE="edge",b.LINE_EDGE="line-edge",b.POLYLINE_EDGE="polyline-edge",b.BEZIER_EDGE="bezier-edge",b.GRAPH="graph"})(Do||(Do={}));function za(b){var h=b.x,c=b.y,p=b.width,i=b.height;return{minX:h-p/2,minY:c-i/2,maxX:h+p/2,maxY:c+i/2}}function pv(b){var h=za(b),c=b.radius,p=h.minX,i=h.minY,f=h.maxX,s=h.maxY;return[{x:p+c,y:i+c},{x:f-c,y:i+c},{x:f-c,y:s-c},{x:p+c,y:s-c}]}function dv(b){var h=b.point,c=b.beforeNode,p=b.afterNode,i=h.x,f=h.y,s={x:i,y:f},v=c.radius,_=za(c),O=za(p);if(i===_.minX){s.x=O.minX;var w=(f-c.y)/(c.height/2-v);w?s.y=p.y+(p.height/2-v)*w:s.y=p.y}else if(i===_.maxX){s.x=O.maxX;var w=(f-c.y)/(c.height/2-v);w?s.y=p.y+(p.height/2-v)*w:s.y=p.y}else if(f===_.minY){s.y=O.minY;var w=(i-c.x)/(c.width/2-v);w?s.x=p.x+(p.width/2-v)*w:s.x=p.x}else if(f===_.maxY){s.y=O.maxY;var w=(i-c.x)/(c.width/2-v);w?s.x=p.x+(p.width/2-v)*w:s.x=p.x}else{var j=pv(c),S=pv(p),k=za(c),N=k.minX,I=k.minY,X=k.maxX,V=k.maxY,F=-1;if(i-N<v&&f-I<v?F=0:X-i<v&&f-I<v?F=1:X-i<v&&V-f<v?F=2:i-N<v&&I-f<v&&(F=3),F>-1){var K=Math.atan2(f-j[F].y,i-j[F].x);s.x=S[F].x+v*Math.cos(K),s.y=S[F].y+v*Math.sin(K)}}return s}function hv(b){var h=b.point,c=b.beforeNode,p=b.afterNode,i=p.rx,f=p.ry,s=h,v=(h.y-c.y)/(h.x-c.x),_=i,O=f,w,j;return v>=1/0?(w=0,j=O):v<=-1/0?(w=0,j=-O):h.x-c.x>0?(w=_*O/Math.sqrt(O*O+_*_*v*v),j=_*O*v/Math.sqrt(O*O+_*_*v*v)):(w=-(_*O)/Math.sqrt(O*O+_*_*v*v),j=-(_*O*v)/Math.sqrt(O*O+_*_*v*v)),s={x:w+p.x,y:j+p.y},s}function yv(b){var h=b.point,c=b.beforeNode,p=b.afterNode,i=h,f,s,v=h.x-c.x,_=h.y-c.y,O=c.rx,w=c.ry,j=Math.sqrt((O-Math.abs(v))*(O-Math.abs(v))+_*_)/Math.sqrt(O*O+w*w),S=p.rx,k=p.ry,N=Math.sqrt((S*S+k*k)*j*j*(S*S/(S*S+k*k))),I=N*(k/S);return v>=0?f=S-N:f=N-S,_>0?s=I:s=-I,i={x:f+p.x,y:s+p.y},i}var D1=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},no.apply(this,arguments)},N1=Ke.exports.LogicFlowUtil.StepDrag,C1=function(b){D1(h,b);function h(c){var p=b.call(this)||this;p.updatePosition=function(s){var v=s.deltaX,_=s.deltaY,O=p.nodeModel,w=O.x,j=O.y;p.nodeModel.x=w+v/2,p.nodeModel.y=j+_/2,p.nodeModel.moveText(v/2,_/2)},p.getResize=function(s){var v=s.index,_=s.deltaX,O=s.deltaY,w=s.width,j=s.height,S=s.pct,k=S===void 0?1:S,N={width:w,height:j};switch(v){case 0:N.width=w-_*k,N.height=j-O*k;break;case 1:N.width=w+_*k,N.height=j-O*k;break;case 2:N.width=w+_,N.height=j+O*k;break;case 3:N.width=w-_*k,N.height=j+O*k;break}return N},p.updateRect=function(s){var v=s.deltaX,_=s.deltaY,O=p.nodeModel,w=O.id,j=O.x,S=O.y,k=O.width,N=O.height,I=O.radius,X=p.index,V=p.getResize({index:X,deltaX:v,deltaY:_,width:k,height:N,pct:1}),F=p.nodeModel,K=F.minWidth,J=F.minHeight,Y=F.maxWidth,C=F.maxHeight;if(V.width<K||V.width>Y||V.height<J||V.height>C){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:v,deltaY:_}),p.nodeModel.width=V.width,p.nodeModel.height=V.height,p.nodeModel.setProperties({nodeSize:{width:V.width,height:V.height}});var H=p.getNodeEdges(w),T={x:j,y:S,width:k,height:N,radius:I},z={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:I},G={point:"",beforeNode:T,afterNode:z},R;H.sourceEdges.forEach(function(L){G.point=L.startPoint,R=dv(G),L.updateStartPoint(R)}),H.targetEdges.forEach(function(L){G.point=L.endPoint,R=dv(G),L.updateEndPoint(R)}),p.eventEmit({beforeNode:T,afterNode:z})},p.updateEllipse=function(s){var v=s.deltaX,_=s.deltaY,O=p.nodeModel,w=O.id,j=O.rx,S=O.ry,k=O.x,N=O.y,I=p.index,X=j,V=S,F=p.getResize({index:I,deltaX:v,deltaY:_,width:X,height:V,pct:1/2}),K=p.nodeModel,J=K.minWidth,Y=K.minHeight,C=K.maxWidth,H=K.maxHeight;if(F.width<J/2||F.width>C/2||F.height<Y/2||F.height>H/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:v,deltaY:_}),p.nodeModel.rx=p.nodeModel.rx+v/2,p.nodeModel.ry=p.nodeModel.ry+_/2,p.nodeModel.setProperties({nodeSize:{rx:F.width,ry:F.height}});var T=p.getNodeEdges(w),z={x:k,y:N},G={rx:F.width,ry:F.height,x:p.nodeModel.x,y:p.nodeModel.y},R={point:{},beforeNode:z,afterNode:G},L;T.sourceEdges.forEach(function($){R.point=$.startPoint,L=hv(R),$.updateStartPoint(L)}),T.targetEdges.forEach(function($){R.point=$.endPoint,L=hv(R),$.updateEndPoint(L)}),p.eventEmit({beforeNode:no(no({},z),{rx:j,ry:S}),afterNode:G})},p.updateDiamond=function(s){var v=s.deltaX,_=s.deltaY,O=p.nodeModel,w=O.id,j=O.rx,S=O.ry,k=O.x,N=O.y,I=p.index,X=j,V=S,F=p.getResize({index:I,deltaX:v,deltaY:_,width:X,height:V,pct:1/2}),K=p.nodeModel,J=K.minWidth,Y=K.minHeight,C=K.maxWidth,H=K.maxHeight;if(F.width<J/2||F.width>C/2||F.height<Y/2||F.height>H/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:v,deltaY:_}),p.nodeModel.rx=p.nodeModel.rx+v/2,p.nodeModel.ry=p.nodeModel.ry+_/2,p.nodeModel.setProperties({nodeSize:{rx:F.width,ry:F.height}});var T={x:k,y:N,rx:j,ry:S},z={rx:F.width,ry:F.height,x:p.nodeModel.x,y:p.nodeModel.y},G={point:{},beforeNode:T,afterNode:z},R,L=p.getNodeEdges(w);L.sourceEdges.forEach(function($){G.point=$.startPoint,R=yv(G),$.updateStartPoint(R)}),L.targetEdges.forEach(function($){G.point=$.endPoint,R=yv(G),$.updateEndPoint(R)}),p.eventEmit({beforeNode:T,afterNode:z})},p.eventEmit=function(s){var v=s.beforeNode,_=s.afterNode,O=p.nodeModel,w=O.id,j=O.modelType,S=O.type,k=no({id:w,modelType:j,type:S},v),N=no({id:w,modelType:j,type:S},_);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:k,newNodeSize:N})},p.onDraging=function(s){var v=s.deltaX,_=s.deltaY,O=p.nodeModel.modelType;O===Do.RECT_NODE||O===Do.HTML_NODE?p.updateRect({deltaX:v,deltaY:_}):O===Do.ELLIPSE_NODE?p.updateEllipse({deltaX:v,deltaY:_}):O===Do.DIAMOND_NODE&&p.updateDiamond({deltaX:v,deltaY:_})},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel;var i=p.graphModel.gridSize,f=2;return i>1&&(f=2*i),p.nodeModel.gridSize&&(f=2*p.nodeModel.gridSize),p.state={},p.dragHandler=new N1({onDraging:p.onDraging,step:f}),p}return h.prototype.getNodeEdges=function(c){for(var p=this.graphModel,i=p.edges,f=[],s=[],v=0;v<i.length;v++){var _=i[v];_.sourceNodeId===c?f.push(_):i[v].targetNodeId===c&&s.push(_)}return{sourceEdges:f,targetEdges:s}},h.prototype.render=function(){var c=this.props,p=c.x,i=c.y,f=c.index,s=c.model,v=s.getControlPointStyle();return Pi("g",{className:"lf-resize-control-"+f},Pi(cs,no({className:"lf-node-control"},{x:p,y:i},v,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(No),R1=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ga=globalThis&&globalThis.__assign||function(){return Ga=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Ga.apply(this,arguments)},Wa=function(b){R1(h,b);function h(){var c=b.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,p=c.model,i=c.graphModel,f=p.x,s=p.y,v=p.width,_=p.height,O={minX:f-v/2,minY:s-_/2,maxX:f+v/2,maxY:s+_/2},w=O.minX,j=O.minY,S=O.maxX,k=O.maxY,N=[{x:w,y:j},{x:S,y:j},{x:S,y:k},{x:w,y:k}];return N.map(function(I,X){return Pi(C1,Ga({index:X},I,{model:p,graphModel:i}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,v=c.getResizeOutlineStyle();return Pi(cs,Ga({fill:"none"},v,{x:p,y:i,width:f,height:s}))},h.prototype.render=function(){return Pi("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(No),$v=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),I1=function(b){$v(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(c,p){console.log(c,p)},h}(Ke.exports.RectNodeModel),L1=function(b){$v(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ke.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(Ke.exports.RectNode),Kv={type:"rect",view:L1,model:I1},qv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){qv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Ke.exports.EllipseNodeModel);(function(b){qv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ke.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return Ke.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(Ke.exports.EllipseNode);var ns=globalThis&&globalThis.__assign||function(){return ns=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ns.apply(this,arguments)};function z1(b){var h=b.fillOpacity,c=h===void 0?1:h,p=b.strokeWidth,i=p===void 0?1:p,f=b.strokeOpacity,s=f===void 0?1:f,v=b.fill,_=v===void 0?"transparent":v,O=b.stroke,w=O===void 0?"#000":O,j=b.points,S=b.className,k=S===void 0?"lf-basic-shape":S,N={fill:_,fillOpacity:c,strokeWidth:i,stroke:w,strokeOpacity:s,points:"",className:k};return N.points=j.map(function(I){return I.join(",")}).join(" "),Ke.exports.h("polygon",ns({},N))}var Zv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},rs.apply(this,arguments)};(function(b){Zv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Ke.exports.DiamondNodeModel);(function(b){Zv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ke.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,i=c.getNodeStyle();return Ke.exports.h("g",null,Ke.exports.h(z1,rs({},i,{points:p})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Ke.exports.DiamondNode);var Jv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){Jv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Ke.exports.HtmlNodeModel);(function(b){Jv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ke.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Ke.exports.HtmlNode);var Qv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Va.apply(this,arguments)},B1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},vv=globalThis&&globalThis.__spread||function(){for(var b=[],h=0;h<arguments.length;h++)b=b.concat(B1(arguments[h]));return b},gv=500,bv=300;(function(b){Qv(h,b);function h(){var c=b!==null&&b.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=gv,c.unfoldedHight=bv,c}return h.prototype.initNodeData=function(c){var p=this;b.prototype.initNodeData.call(this,c);var i=[];Array.isArray(c.children)&&(i=c.children),this.children=new Set(i),this.width=gv,this.height=bv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var c=b.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var p=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var s=p.graphModel.getElement(f);s.visible=!c,i=i.concat(s.incoming.edges.concat(s.outgoing.edges))}),this.foldEdge(c,i)},h.prototype.getAnchorStyle=function(c){var p=b.prototype.getAnchorStyle.call(this,c);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},h.prototype.foldEdge=function(c,p){var i=this;p.forEach(function(f,s){var v=f.id,_=f.sourceNodeId,O=f.targetNodeId,w=f.startPoint,j=f.endPoint,S=f.type,k=f.properties,N=f.text,I={id:v+"__"+s,sourceNodeId:_,targetNodeId:O,startPoint:w,endPoint:j,type:S,properties:k,text:N==null?void 0:N.value};f.virtual&&i.graphModel.deleteEdgeById(f.id);var X=i.graphModel.group.getNodeGroup(O);X||(X=i.graphModel.getNodeModelById(O));var V=i.graphModel.group.getNodeGroup(_);V||(V=i.graphModel.getNodeModelById(_)),c&&f.visible!==!1&&(i.children.has(_)||i.id===_?(I.startPoint=void 0,I.sourceNodeId=i.id):(I.endPoint=void 0,I.targetNodeId=i.id),(X.id!==i.id||V.id!==i.id)&&i.createVirtualEdge(I),f.visible=!1),!c&&f.visible===!1&&(X&&X.isGroup&&X.isFolded?(I.targetNodeId=X.id,I.endPoint=void 0,i.createVirtualEdge(I)):V&&V.isGroup&&V.isFolded?(I.sourceNodeId=V.id,I.startPoint=void 0,i.createVirtualEdge(I)):f.visible=!0)})},h.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var p=this.graphModel.addEdge(c);p.virtual=!0,p.getData=function(){return null},p.text.editable=!1,p.isFoldedEdge=!0},h.prototype.isInRange=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&i>=this.y-this.height/2&&s<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:i>=this.y-this.height/2&&s<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=b.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,delete p.isFolded,c},h.prototype.getHistoryData=function(){var c=b.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,p.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},h})(Kv.model);(function(b){Qv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,i=c.properties;return p&&!i.isFolded?b.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,p=c.width,i=c.height,f=c.x,s=c.y,v=c.radius,_=c.properties;if(!_.groupAddable)return null;var O=this.props.model.getNodeStyle().strokeWidth,w=this.props.model.getAddableOutlineStyle(),j=p+O+8,S=i+O+8;return Ke.exports.h("rect",Va(Va({},w),{width:j,height:S,x:f-j/2,y:s-S/2,rx:v,ry:v}))},h.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,i=c.y-c.height/2+5;if(!c.foldable)return null;var f=Ke.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" M"+(p+7)+","+(i+2)+" "+(p+7)+","+(i+10):"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" "});return Ke.exports.h("g",{},[Ke.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return Ke.exports.h("g",{},[this.getAddedableShape(),b.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Kv.view);var F1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var H1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(v){s={error:v}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var mv=globalThis&&globalThis.__assign||function(){return mv=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},mv.apply(this,arguments)};const X1={class:"control-container"},G1=["title","onMouseenter"],V1=["disabled","onClick"],U1=Ua({props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(b,{emit:h}){const c=b,p=Wy("controlButton3",null),i=Wy("controlButton4",null);let f=ro(-1),s=ro([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",size:"17",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",size:"17",disabled:!1}]);const v=(O,w)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((j,S)=>{let k=c.lf;w===1&&k.zoom(!0),w===6&&h("catData"),w===S&&k[j]()})},_=O=>{f.value=O};return Ov(()=>{c.lf.on("history:change",({data:{undoAble:O,redoAble:w}})=>{Rt(s)[3].disabled=Rt(p).disabled=!O,Rt(s)[4].disabled=Rt(i).disabled=!w})}),(O,w)=>{const j=Ei("el-tooltip");return tr(),oo("div",X1,[mr("ul",null,[(tr(!0),oo(wv,null,xv(Rt(s),(S,k)=>(tr(),oo("li",{key:k,title:S.text,onMouseenter:$y(N=>_(k),["prevent"]),onMouseleave:w[0]||(w[0]=$y(N=>Ev(f)?f.value=-1:f=-1,["prevent"]))},[Ao(j,{content:S.text,visible:Rt(f)===k,placement:"right"},{default:Mo(()=>[mr("button",{ref_for:!0,ref:"controlButton"+k,disabled:S.disabled,style:Ky({cursor:S.disabled===!1?"pointer":"not-allowed",color:S.disabled===!1?"":"#00000040"}),onClick:N=>v(S,k)},[mr("span",{class:jv("iconfont "+S.icon),style:Ky({fontSize:`${S.size}px`})},null,6)],12,V1)]),_:2},1032,["content","visible"])],40,G1))),128))])])}}});var qc=os(U1,[["__scopeId","data-v-c62a88ce"]]);const Y1={class:"node-panel"},W1=["onMousedown"],$1={key:0,class:"shape"},K1={class:"node-label"},q1=Ua({props:{lf:{default:null},nodeList:{default:null}},setup(b){const h=b;let c=ro({a:"efrwe",b:"wewe"});const p=i=>{h.lf.dnd.startDrag({type:i.type,properties:Rt(c)})};return(i,f)=>(tr(),oo("div",Y1,[(tr(!0),oo(wv,null,xv(h.nodeList,s=>(tr(),oo("div",{class:"node-item",key:s.text,onMousedown:v=>p(s)},[mr("div",{class:jv(["node-item-icon",s.class])},[s.type==="user"||s.type==="time"?(tr(),oo("div",$1)):Sv("",!0)],2),mr("span",K1,LO(s.text),1)],40,W1))),128))]))}});var Zc=os(q1,[["__scopeId","data-v-53ff510e"]]),eg={exports:{}};(function(b,h){(function(c,p){b.exports=p(XO)})(zO,function(c){return function(){var p={452:function(v){v.exports=c}},i={};function f(v){var _=i[v];if(_!==void 0)return _.exports;var O=i[v]={exports:{}};return p[v](O,O.exports,f),O.exports}f.d=function(v,_){for(var O in _)f.o(_,O)&&!f.o(v,O)&&Object.defineProperty(v,O,{enumerable:!0,get:_[O]})},f.o=function(v,_){return Object.prototype.hasOwnProperty.call(v,_)},f.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var s={};return function(){f.r(s),f.d(s,{default:function(){return G}});var v=f(452);function _(R,L){(L==null||L>R.length)&&(L=R.length);for(var $=0,ie=new Array(L);$<L;$++)ie[$]=R[$];return ie}function O(R,L){if(R){if(typeof R=="string")return _(R,L);var $=Object.prototype.toString.call(R).slice(8,-1);return $==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set"?Array.from(R):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?_(R,L):void 0}}function w(R,L){return function($){if(Array.isArray($))return $}(R)||function($,ie){var fe=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(fe!=null){var ve,ye,pe=[],se=!0,le=!1;try{for(fe=fe.call($);!(se=(ve=fe.next()).done)&&(pe.push(ve.value),!ie||pe.length!==ie);se=!0);}catch(de){le=!0,ye=de}finally{try{se||fe.return==null||fe.return()}finally{if(le)throw ye}}return pe}}(R,L)||O(R,L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(R){return function(L){if(Array.isArray(L))return _(L)}(R)||function(L){if(typeof Symbol!="undefined"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(R)||O(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(R,L,$){return L in R?Object.defineProperty(R,L,{value:$,enumerable:!0,configurable:!0,writable:!0}):R[L]=$,R}var k=(0,v.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var R=this.data,L=this.onClick;return(0,v.createVNode)("span",{class:"vjs-tree__brackets",onClick:L},[R])}}),N=(0,v.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(R,L){var $=L.emit;return{uiType:(0,v.computed)(function(){return R.isMultiple?"checkbox":"radio"}),model:(0,v.computed)({get:function(){return R.checked},set:function(ie){return $("update:modelValue",ie)}})}},render:function(){var R=this.uiType,L=this.model,$=this.$emit;return(0,v.createVNode)("label",{class:["vjs-check-controller",L?"is-checked":""],onClick:function(ie){return ie.stopPropagation()}},[(0,v.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(R)},null),(0,v.createVNode)("input",{checked:L,class:"vjs-check-controller__original is-".concat(R),type:R,onChange:function(){return $("change",L)}},null)])}});function I(R,L){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);L&&(ie=ie.filter(function(fe){return Object.getOwnPropertyDescriptor(R,fe).enumerable})),$.push.apply($,ie)}return $}function X(R){for(var L=1;L<arguments.length;L++){var $=arguments[L]!=null?arguments[L]:{};L%2?I(Object($),!0).forEach(function(ie){S(R,ie,$[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):I(Object($)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor($,ie))})}return R}function V(R){return Object.prototype.toString.call(R).slice(8,-1).toLowerCase()}function F(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ie=arguments.length>3?arguments[3]:void 0,fe=ie||{},ve=fe.key,ye=fe.index,pe=fe.type,se=pe===void 0?"content":pe,le=fe.showComma,de=le!==void 0&&le,Ee=fe.length,Ae=Ee===void 0?1:Ee,Me=V(R);if(Me==="array"){var Pe=R.map(function(Z,oe,me){return F(Z,"".concat(L,"[").concat(oe,"]"),$+1,{index:oe,showComma:oe!==me.length-1,length:Ae,type:se})}).reduce(function(Z,oe){return Z.concat(oe)},[]);return[F("[",L,$,{showComma:!1,key:ve,length:R.length,type:"arrayStart"})[0]].concat(Pe,F("]",L,$,{showComma:de,length:R.length,type:"arrayEnd"})[0])}if(Me==="object"){var Ce=Object.keys(R),et=Ce.map(function(Z,oe,me){return F(R[Z],Z.includes(".")?"".concat(L,'["').concat(Z,'"]'):"".concat(L,".").concat(Z),$+1,{key:Z,showComma:oe!==me.length-1,length:Ae,type:se})}).reduce(function(Z,oe){return Z.concat(oe)},[]);return[F("{",L,$,{showComma:!1,key:ve,index:ye,length:Ce.length,type:"objectStart"})[0]].concat(et,F("}",L,$,{showComma:de,length:Ce.length,type:"objectEnd"})[0])}var Q=Object.entries({content:R,level:$,key:ve,index:ye,path:L,showComma:de,length:Ae,type:se}).reduce(function(Z,oe){var me=w(oe,2),De=me[0],we=me[1];return we!==void 0?X(X({},Z),{},S({},De,we)):Z},{});return[Q]}function K(R,L){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);L&&(ie=ie.filter(function(fe){return Object.getOwnPropertyDescriptor(R,fe).enumerable})),$.push.apply($,ie)}return $}function J(R){for(var L=1;L<arguments.length;L++){var $=arguments[L]!=null?arguments[L]:{};L%2?K(Object($),!0).forEach(function(ie){S(R,ie,$[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):K(Object($)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor($,ie))})}return R}var Y={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},C=(0,v.defineComponent)({name:"TreeNode",props:J(J({},Y),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(R,L){var $=L.emit,ie=(0,v.computed)(function(){return V(R.node.content)}),fe=(0,v.computed)(function(){return"vjs-value vjs-value__".concat(ie.value)}),ve=(0,v.computed)(function(){return R.showDoubleQuotes?'"'.concat(R.node.key,'"'):R.node.key}),ye=(0,v.computed)(function(){return R.selectableType==="multiple"}),pe=(0,v.computed)(function(){return R.selectableType==="single"}),se=(0,v.computed)(function(){return R.pathSelectable(R.node.path,R.node.content)&&(ye.value||pe.value)}),le=function(de){var Ee=de+"";return ie.value==="string"&&(Ee='"'.concat(Ee,'"')),Ee};return{state:(0,v.reactive)({valueClass:fe,prettyKey:ve,isMultiple:ye,selectable:se}),defaultFormatter:le,customFormatter:function(de){return R.customValueFormatter?R.customValueFormatter(de,R.node.key,R.node.path,le(de)):le(de)},onBracketsClickHandler:function(){R.collapsedOnClickBrackets&&$("brackets-click",!R.collapsed,R.node.path)},onCheckedChange:function(){$("selected-change",R.node)},onNodeClick:function(){$("tree-node-click",R.node),se.value&&R.selectOnClickNode&&$("selected-change",R.node)}}},render:function(){var R=this.state,L=this.node,$=this.showSelectController,ie=this.highlightSelectedNode,fe=this.checked,ve=this.showLength,ye=this.collapsed,pe=this.showLine,se=this.customValueFormatter,le=this.defaultFormatter,de=this.customFormatter,Ee=this.onNodeClick,Ae=this.onCheckedChange,Me=this.onBracketsClickHandler;return(0,v.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":$,"is-highlight":ie&&fe},onClick:Ee},[$&&R.selectable&&L.type!=="objectEnd"&&L.type!=="arrayEnd"&&(0,v.createVNode)(N,{isMultiple:R.isMultiple,checked:fe,onChange:Ae},null),Array.from(Array(L.level)).map(function(Pe,Ce){return(0,v.createVNode)("div",{key:Ce,class:{"vjs-tree__indent":!0,"has-line":pe}},null)}),L.key&&(0,v.createVNode)("span",{class:"vjs-key"},["".concat(R.prettyKey,": ")]),(0,v.createVNode)("span",null,[L.type!=="content"?(0,v.createVNode)(k,{data:L.content,onClick:Me},null):se?(0,v.createVNode)("span",{class:R.valueClass,innerHTML:de(L.content)},null):(0,v.createVNode)("span",{class:R.valueClass},[le(L.content)]),L.showComma&&(0,v.createVNode)("span",null,[","]),ve&&ye&&(0,v.createVNode)("span",{class:"vjs-comment"},[(0,v.createTextVNode)(" // "),L.length,(0,v.createTextVNode)(" items ")])])])}});function H(R,L){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(R);L&&(ie=ie.filter(function(fe){return Object.getOwnPropertyDescriptor(R,fe).enumerable})),$.push.apply($,ie)}return $}function T(R){for(var L=1;L<arguments.length;L++){var $=arguments[L]!=null?arguments[L]:{};L%2?H(Object($),!0).forEach(function(ie){S(R,ie,$[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):H(Object($)).forEach(function(ie){Object.defineProperty(R,ie,Object.getOwnPropertyDescriptor($,ie))})}return R}var z=(0,v.defineComponent)({name:"Tree",props:T(T({},Y),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(R,L){var $=L.emit,ie=(0,v.ref)(),fe=(0,v.reactive)({translateY:0,visibleData:null,hiddenPaths:F(R.data,R.path).reduce(function(le,de){var Ee=R.deepCollapseChildren?de.level>=R.deep:de.level===R.deep;return de.type!=="objectStart"&&de.type!=="arrayStart"||!Ee?le:T(T({},le),{},S({},de.path,1))},{})}),ve=(0,v.computed)(function(){var le=null;return F(R.data,R.path).reduce(function(de,Ee,Ae){var Me=T(T({},Ee),{},{id:Ae}),Pe=fe.hiddenPaths[Me.path];if(le&&le.path===Me.path){var Ce=le.type==="objectStart",et=T(T(T({},le),Me),{},{content:Ce?"{...}":"[...]",type:Ce?"objectCollapsed":"arrayCollapsed"});return le=null,de.concat(et)}return Pe&&!le?(le=Me,de):le?de:de.concat(Me)},[])}),ye=(0,v.computed)(function(){var le=R.modelValue;return le&&R.selectableType==="multiple"&&Array.isArray(le)?le:[le]}),pe=(0,v.computed)(function(){return!R.selectableType||R.selectOnClickNode||R.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),se=function(le){if(R.virtual){var de=ie.value,Ee=R.virtualLines,Ae=de&&de.scrollTop||0,Me=Math.floor(Ae/R.itemHeight),Pe=Me<0?0:Me+Ee>le.length?le.length-Ee:Me;Pe<0&&(Pe=0);var Ce=Pe+Ee;fe.translateY=Pe*R.itemHeight,fe.visibleData=le.filter(function(et,Q){return Q>=Pe&&Q<Ce})}else fe.visibleData=le};return(0,v.watchEffect)(function(){pe.value&&function(le){throw new Error("[VueJSONPretty] ".concat(le))}(pe.value)}),(0,v.watchEffect)(function(){ve.value&&se(ve.value)}),{tree:ie,state:fe,flatData:ve,selectedPaths:ye,onTreeScroll:function(){se(ve.value)},onSelectedChange:function(le){var de=le.path,Ee=R.selectableType;if(Ee==="multiple"){var Ae=ye.value.findIndex(function(et){return et===de}),Me=j(ye.value);Ae!==-1?Me.splice(Ae,1):Me.push(de),$("update:modelValue",Me),$("change",Me,j(ye.value))}else if(Ee==="single"&&ye.value[0]!==de){var Pe=w(ye.value,1)[0],Ce=de;$("update:modelValue",Ce),$("change",Ce,Pe)}},onTreeNodeClick:function(le){var de=le.content,Ee=le.path;$("click",Ee,de)},onBracketsClick:function(le,de){if(le)fe.hiddenPaths=T(T({},fe.hiddenPaths),{},S({},de,1));else{var Ee=T({},fe.hiddenPaths);delete Ee[de],fe.hiddenPaths=Ee}}}},render:function(){var R=this.virtual,L=this.itemHeight,$=this.customValueFormatter,ie=this.showDoubleQuotes,fe=this.showLength,ve=this.showLine,ye=this.showSelectController,pe=this.selectOnClickNode,se=this.pathSelectable,le=this.highlightSelectedNode,de=this.collapsedOnClickBrackets,Ee=this.state,Ae=this.flatData,Me=this.selectedPaths,Pe=this.selectableType,Ce=this.onTreeNodeClick,et=this.onBracketsClick,Q=this.onSelectedChange,Z=this.onTreeScroll,oe=Ee.visibleData&&Ee.visibleData.map(function(me){return(0,v.createVNode)(C,{key:me.id,node:me,collapsed:!!Ee.hiddenPaths[me.path],"custom-value-formatter":$,"show-double-quotes":ie,"show-length":fe,"collapsed-on-click-brackets":de,checked:Me.includes(me.path),"selectable-type":Pe,"show-line":ve,"show-select-controller":ye,"select-on-click-node":pe,"path-selectable":se,"highlight-selected-node":le,onTreeNodeClick:Ce,onBracketsClick:et,onSelectedChange:Q},null)});return(0,v.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":R},onScroll:Z},[R?(0,v.createVNode)("div",{style:{height:"".concat(Ae.length*L,"px")}},[(0,v.createVNode)("div",{style:{transform:"translateY(".concat(Ee.translateY,"px)")}},[oe])]):oe])}}),G=(0,v.defineComponent)(z)}(),s}()})})(eg);var Z1=_v(eg.exports);const Jc=Ua({props:{graphData:Object},setup(b){const h=b;return(c,p)=>(tr(),Qc(Rt(Z1),{path:"res",deep:3,showLength:!0,data:h.graphData},null,8,["data"]))}}),J1=Object.assign(qc,{install(b){b.component(qc.name,qc)}}),Q1=Object.assign(Zc,{install(b){b.component(Zc.name,Zc)}}),ew=Object.assign(Jc,{install(b){b.component(Jc.name,Jc)}}),tw={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function nw(b){const{incoming:h,outgoing:c,properties:p,key:i}=b,{text:f,startPoint:s,endPoint:v,pointsList:_,logicFlowType:O}=p,w={id:i,type:O,sourceNodeId:h[0],targetNodeId:c[0],text:f,startPoint:s,endPoint:v,pointsList:_,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(b.properties).forEach(S=>{j.indexOf(S)===-1&&(w.properties[S]=b.properties[S])}),w}function rw(b){const{properties:h,key:c}=b,{x:p,y:i,text:f,logicFlowType:s}=h,v={id:c,type:s,x:p,y:i,text:f,properties:{}},_=["x","y","text","logicFlowType"];return Object.keys(b.properties).forEach(O=>{_.indexOf(O)===-1&&(v.properties[O]=b.properties[O])}),v}function ow(b){const h={nodes:[],edges:[]},c=b.flowElementList;return c&&c.length>0&&c.forEach(p=>{if(p.type===tw.SEQUENCE_FLOW){const i=nw(p);h.edges.push(i)}else{const i=rw(p);h.nodes.push(i)}}),h}const iw=b=>(BO("data-v-65cf3767"),b=b(),FO(),b),aw={class:"card-header"},uw={class:"font-medium"},cw=Pv("\u6D41\u7A0B\u56FE\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684"),sw=Pv("LogicFlow"),lw={class:"logic-flow-view"},fw=iw(()=>mr("div",{id:"LF-Turbo"},null,-1)),pw=Ua({setup(b){let h=ro(null),c=ro(null),p=ro(!1),i=ro({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),f=UO;function s(){Ia.use(y1),Ia.use(h1),Ia.use(S1);const O=new Ia(Yy(Uy({},Rt(i)),{container:document.querySelector("#LF-Turbo")}));h.value=O,Rt(h).setDefaultEdgeType("bpmn:sequenceFlow"),v()}function v(){const O=ow(VO);h.value.render(O)}function _(){c.value=Rt(h).getGraphData(),p.value=!0}return Ov(()=>{s()}),(O,w)=>{const j=Ei("el-link"),S=Ei("el-scrollbar"),k=Ei("el-dialog"),N=Ei("el-card");return tr(),Qc(N,null,{header:Mo(()=>[mr("div",aw,[mr("span",uw,[cw,Ao(j,{href:"http://logic-flow.org/",target:"_blank",icon:Rt(HO)("set-up"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Mo(()=>[sw]),_:1},8,["icon"])])])]),default:Mo(()=>[mr("div",lw,[Rt(h)?(tr(),Qc(Rt(J1),{key:0,class:"demo-control",lf:Rt(h),catTurboData:!1,onCatData:_},null,8,["lf"])):Sv("",!0),Ao(Rt(Q1),{lf:Rt(h),nodeList:Rt(f)},null,8,["lf","nodeList"]),fw,Ao(k,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:Rt(p),"onUpdate:modelValue":w[0]||(w[0]=I=>Ev(p)?p.value=I:p=I),width:"50%"},{default:Mo(()=>[Ao(S,null,{default:Mo(()=>[Ao(Rt(ew),{graphData:Rt(c)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});var gw=os(pw,[["__scopeId","data-v-65cf3767"]]);export{gw as default};
